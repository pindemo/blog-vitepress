const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["public/chunks/VPLocalSearchBox.Bvib6cN7.js","public/chunks/framework.DkLkGcDe.js"])))=>i.map(i=>d[i]);
import{d as R,o as y,c as P,r as S,n as ue,a as Le,t as te,b as N,w as T,e as L,T as Pa,_ as j,u as Ht,i as ac,f as sc,g as Sa,h as F,j as k,k as w,l as It,m as zr,p as ne,q as Be,s as Ri,v as Se,x as Tr,y as ka,z as uc,A as lc,B as Vt,F as le,C as Te,D as ku,E as $i,G as $,H as Ze,I as Ou,J as zt,K as pt,L as Li,M as cc,N as Tu,O as uo,P as Ai,Q as Eu,R as Er,S as fc,U as dc,V as Cu,W as Iu,X as Oa,Y as hc,Z as pc,$ as vc,a0 as yc,a1 as gc,a2 as Ta,a3 as mc,a4 as bc}from"./framework.DkLkGcDe.js";const _c=R({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(t){return(e,i)=>(y(),P("span",{class:ue(["VPBadge",e.type])},[S(e.$slots,"default",{},()=>[Le(te(e.text),1)])],2))}}),wc={key:0,class:"VPBackdrop"},Pc=R({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(t){return(e,i)=>(y(),N(Pa,{name:"fade"},{default:T(()=>[e.show?(y(),P("div",wc)):L("",!0)]),_:1}))}}),Sc=j(Pc,[["__scopeId","data-v-4cacd24d"]]),q=Ht;function kc(t,e){let i,r=!1;return()=>{i&&clearTimeout(i),r?i=setTimeout(t,e):(t(),(r=!0)&&setTimeout(()=>r=!1,e))}}function lo(t){return/^\//.test(t)?t:`/${t}`}function Ea(t){const{pathname:e,search:i,hash:r,protocol:n}=new URL(t,"http://a.com");if(ac(t)||t.startsWith("#")||!n.startsWith("http")||!sc(e))return t;const{site:o}=q(),a=e.endsWith("/")||e.endsWith(".html")?t:t.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,o.value.cleanUrls?"":".html")}${i}${r}`);return Sa(a)}function Cr({correspondingLink:t=!1}={}){const{site:e,localeIndex:i,page:r,theme:n,hash:o}=q(),a=F(()=>{var u,l;return{label:(u=e.value.locales[i.value])==null?void 0:u.label,link:((l=e.value.locales[i.value])==null?void 0:l.link)||(i.value==="root"?"/":`/${i.value}/`)}});return{localeLinks:F(()=>Object.entries(e.value.locales).flatMap(([u,l])=>a.value.label===l.label?[]:{text:l.label,link:Oc(l.link||(u==="root"?"/":`/${u}/`),n.value.i18nRouting!==!1&&t,r.value.relativePath.slice(a.value.link.length-1),!e.value.cleanUrls)+o.value})),currentLang:a}}function Oc(t,e,i,r){return e?t.replace(/\/$/,"")+lo(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,r?".html":"")):t}const Tc={class:"NotFound"},Ec={class:"code"},Cc={class:"title"},Ic={class:"quote"},xc={class:"action"},Rc=["href","aria-label"],$c=R({__name:"NotFound",setup(t){const{theme:e}=q(),{currentLang:i}=Cr();return(r,n)=>{var o,a,s,u,l;return y(),P("div",Tc,[k("p",Ec,te(((o=w(e).notFound)==null?void 0:o.code)??"404"),1),k("h1",Cc,te(((a=w(e).notFound)==null?void 0:a.title)??"PAGE NOT FOUND"),1),n[0]||(n[0]=k("div",{class:"divider"},null,-1)),k("blockquote",Ic,te(((s=w(e).notFound)==null?void 0:s.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),k("div",xc,[k("a",{class:"link",href:w(Sa)(w(i).link),"aria-label":((u=w(e).notFound)==null?void 0:u.linkLabel)??"go to home"},te(((l=w(e).notFound)==null?void 0:l.linkText)??"Take me home"),9,Rc)])])}}}),Lc=j($c,[["__scopeId","data-v-6f8ce773"]]);function xu(t,e){if(Array.isArray(t))return Br(t);if(t==null)return[];e=lo(e);const i=Object.keys(t).sort((n,o)=>o.split("/").length-n.split("/").length).find(n=>e.startsWith(lo(n))),r=i?t[i]:[];return Array.isArray(r)?Br(r):Br(r.items,r.base)}function Ac(t){const e=[];let i=0;for(const r in t){const n=t[r];if(n.items){i=e.push(n);continue}e[i]||e.push({items:[]}),e[i].items.push(n)}return e}function Dc(t){const e=[];function i(r){for(const n of r)n.text&&n.link&&e.push({text:n.text,link:n.link,docFooterText:n.docFooterText}),n.items&&i(n.items)}return i(t),e}function co(t,e){return Array.isArray(e)?e.some(i=>co(t,i)):It(t,e.link)?!0:e.items?co(t,e.items):!1}function Br(t,e){return[...t].map(i=>{const r={...i},n=r.base||e;return n&&r.link&&(r.link=n+r.link),r.items&&(r.items=Br(r.items,n)),r})}function at(){const{frontmatter:t,page:e,theme:i}=q(),r=zr("(min-width: 960px)"),n=ne(!1),o=F(()=>{const b=i.value.sidebar,g=e.value.relativePath;return b?xu(b,g):[]}),a=ne(o.value);Be(o,(b,g)=>{JSON.stringify(b)!==JSON.stringify(g)&&(a.value=o.value)});const s=F(()=>t.value.sidebar!==!1&&a.value.length>0&&t.value.layout!=="home"),u=F(()=>l?t.value.aside==null?i.value.aside==="left":t.value.aside==="left":!1),l=F(()=>t.value.layout==="home"?!1:t.value.aside!=null?!!t.value.aside:i.value.aside!==!1),c=F(()=>s.value&&r.value),f=F(()=>s.value?Ac(a.value):[]);function h(){n.value=!0}function p(){n.value=!1}function m(){n.value?p():h()}return{isOpen:n,sidebar:a,sidebarGroups:f,hasSidebar:s,hasAside:l,leftAside:u,isSidebarEnabled:c,open:h,close:p,toggle:m}}function Mc(t,e){let i;Ri(()=>{i=t.value?document.activeElement:void 0}),Se(()=>{window.addEventListener("keyup",r)}),Tr(()=>{window.removeEventListener("keyup",r)});function r(n){n.key==="Escape"&&t.value&&(e(),i==null||i.focus())}}function Nc(t){const{page:e,hash:i}=q(),r=ne(!1),n=F(()=>t.value.collapsed!=null),o=F(()=>!!t.value.link),a=ne(!1),s=()=>{a.value=It(e.value.relativePath,t.value.link)};Be([e,t,i],s),Se(s);const u=F(()=>a.value?!0:t.value.items?co(e.value.relativePath,t.value.items):!1),l=F(()=>!!(t.value.items&&t.value.items.length));Ri(()=>{r.value=!!(n.value&&t.value.collapsed)}),ka(()=>{(a.value||u.value)&&(r.value=!1)});function c(){n.value&&(r.value=!r.value)}return{collapsed:r,collapsible:n,isLink:o,isActiveLink:a,hasActiveLink:u,hasChildren:l,toggle:c}}function jc(){const{hasSidebar:t}=at(),e=zr("(min-width: 960px)"),i=zr("(min-width: 1280px)");return{isAsideEnabled:F(()=>!i.value&&!e.value?!1:t.value?i.value:e.value)}}const fo=[];function Ru(t){return typeof t.outline=="object"&&!Array.isArray(t.outline)&&t.outline.label||t.outlineTitle||"On this page"}function Ca(t){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(i=>i.id&&i.hasChildNodes()).map(i=>{const r=Number(i.tagName[1]);return{element:i,title:Bc(i),link:"#"+i.id,level:r}});return Fc(e,t)}function Bc(t){let e="";for(const i of t.childNodes)if(i.nodeType===1){if(i.classList.contains("VPBadge")||i.classList.contains("header-anchor")||i.classList.contains("ignore-header"))continue;e+=i.textContent}else i.nodeType===3&&(e+=i.textContent);return e.trim()}function Fc(t,e){if(e===!1)return[];const i=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[r,n]=typeof i=="number"?[i,i]:i==="deep"?[2,6]:i;t=t.filter(a=>a.level>=r&&a.level<=n),fo.length=0;for(const{element:a,link:s}of t)fo.push({element:a,link:s});const o=[];e:for(let a=0;a<t.length;a++){const s=t[a];if(a===0)o.push(s);else{for(let u=a-1;u>=0;u--){const l=t[u];if(l.level<s.level){(l.children||(l.children=[])).push(s);continue e}}o.push(s)}}return o}function Hc(t,e){const{isAsideEnabled:i}=jc(),r=kc(o,100);let n=null;Se(()=>{requestAnimationFrame(o),window.addEventListener("scroll",r)}),uc(()=>{a(location.hash)}),Tr(()=>{window.removeEventListener("scroll",r)});function o(){if(!i.value)return;const s=window.scrollY,u=window.innerHeight,l=document.body.offsetHeight,c=Math.abs(s+u-l)<1,f=fo.map(({element:p,link:m})=>({link:m,top:Vc(p)})).filter(({top:p})=>!Number.isNaN(p)).sort((p,m)=>p.top-m.top);if(!f.length){a(null);return}if(s<1){a(null);return}if(c){a(f[f.length-1].link);return}let h=null;for(const{link:p,top:m}of f){if(m>s+lc()+4)break;h=p}a(h)}function a(s){n&&n.classList.remove("active"),s==null?n=null:n=t.value.querySelector(`a[href="${decodeURIComponent(s)}"]`);const u=n;u?(u.classList.add("active"),e.value.style.top=u.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function Vc(t){let e=0;for(;t!==document.body;){if(t===null)return NaN;e+=t.offsetTop,t=t.offsetParent}return e}const zc=["href","title"],Uc=R({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(t){function e({target:i}){const r=i.href.split("#")[1],n=document.getElementById(decodeURIComponent(r));n==null||n.focus({preventScroll:!0})}return(i,r)=>{const n=Vt("VPDocOutlineItem",!0);return y(),P("ul",{class:ue(["VPDocOutlineItem",i.root?"root":"nested"])},[(y(!0),P(le,null,Te(i.headers,({children:o,link:a,title:s})=>(y(),P("li",null,[k("a",{class:"outline-link",href:a,onClick:e,title:s},te(s),9,zc),o!=null&&o.length?(y(),N(n,{key:0,headers:o},null,8,["headers"])):L("",!0)]))),256))],2)}}}),$u=j(Uc,[["__scopeId","data-v-5b997b00"]]),Kc={class:"content"},Gc={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},Wc=R({__name:"VPDocAsideOutline",setup(t){const{frontmatter:e,theme:i}=q(),r=ku([]);$i(()=>{r.value=Ca(e.value.outline??i.value.outline)});const n=ne(),o=ne();return Hc(n,o),(a,s)=>(y(),P("nav",{"aria-labelledby":"doc-outline-aria-label",class:ue(["VPDocAsideOutline",{"has-outline":r.value.length>0}]),ref_key:"container",ref:n},[k("div",Kc,[k("div",{class:"outline-marker",ref_key:"marker",ref:o},null,512),k("div",Gc,te(w(Ru)(w(i))),1),$($u,{headers:r.value,root:!0},null,8,["headers"])])],2))}}),Yc=j(Wc,[["__scopeId","data-v-7e4817d2"]]),Xc={class:"VPDocAsideCarbonAds"},qc=R({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(t){const e=()=>null;return(i,r)=>(y(),P("div",Xc,[$(w(e),{"carbon-ads":i.carbonAds},null,8,["carbon-ads"])]))}}),Jc={class:"VPDocAside"},Zc=R({__name:"VPDocAside",setup(t){const{theme:e}=q();return(i,r)=>(y(),P("div",Jc,[S(i.$slots,"aside-top",{},void 0,!0),S(i.$slots,"aside-outline-before",{},void 0,!0),$(Yc),S(i.$slots,"aside-outline-after",{},void 0,!0),r[0]||(r[0]=k("div",{class:"spacer"},null,-1)),S(i.$slots,"aside-ads-before",{},void 0,!0),w(e).carbonAds?(y(),N(qc,{key:0,"carbon-ads":w(e).carbonAds},null,8,["carbon-ads"])):L("",!0),S(i.$slots,"aside-ads-after",{},void 0,!0),S(i.$slots,"aside-bottom",{},void 0,!0)]))}}),Qc=j(Zc,[["__scopeId","data-v-91f08fd0"]]);function ef(){const{theme:t,page:e}=q();return F(()=>{const{text:i="Edit this page",pattern:r=""}=t.value.editLink||{};let n;return typeof r=="function"?n=r(e.value):n=r.replace(/:path/g,e.value.filePath),{url:n,text:i}})}function tf(){const{page:t,theme:e,frontmatter:i}=q();return F(()=>{var l,c,f,h,p,m,b,g;const r=xu(e.value.sidebar,t.value.relativePath),n=Dc(r),o=nf(n,I=>I.link.replace(/[?#].*$/,"")),a=o.findIndex(I=>It(t.value.relativePath,I.link)),s=((l=e.value.docFooter)==null?void 0:l.prev)===!1&&!i.value.prev||i.value.prev===!1,u=((c=e.value.docFooter)==null?void 0:c.next)===!1&&!i.value.next||i.value.next===!1;return{prev:s?void 0:{text:(typeof i.value.prev=="string"?i.value.prev:typeof i.value.prev=="object"?i.value.prev.text:void 0)??((f=o[a-1])==null?void 0:f.docFooterText)??((h=o[a-1])==null?void 0:h.text),link:(typeof i.value.prev=="object"?i.value.prev.link:void 0)??((p=o[a-1])==null?void 0:p.link)},next:u?void 0:{text:(typeof i.value.next=="string"?i.value.next:typeof i.value.next=="object"?i.value.next.text:void 0)??((m=o[a+1])==null?void 0:m.docFooterText)??((b=o[a+1])==null?void 0:b.text),link:(typeof i.value.next=="object"?i.value.next.link:void 0)??((g=o[a+1])==null?void 0:g.link)}}})}function nf(t,e){const i=new Set;return t.filter(r=>{const n=e(r);return i.has(n)?!1:i.add(n)})}const Qe=R({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(t){const e=t,i=F(()=>e.tag??(e.href?"a":"span")),r=F(()=>e.href&&Ou.test(e.href)||e.target==="_blank");return(n,o)=>(y(),N(Ze(i.value),{class:ue(["VPLink",{link:n.href,"vp-external-link-icon":r.value,"no-icon":n.noIcon}]),href:n.href?w(Ea)(n.href):void 0,target:n.target??(r.value?"_blank":void 0),rel:n.rel??(r.value?"noreferrer":void 0)},{default:T(()=>[S(n.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),rf={class:"VPLastUpdated"},of=["datetime"],af=R({__name:"VPDocFooterLastUpdated",setup(t){const{theme:e,page:i,lang:r}=q(),n=F(()=>new Date(i.value.lastUpdated)),o=F(()=>n.value.toISOString()),a=ne("");return Se(()=>{Ri(()=>{var s,u,l;a.value=new Intl.DateTimeFormat((u=(s=e.value.lastUpdated)==null?void 0:s.formatOptions)!=null&&u.forceLocale?r.value:void 0,((l=e.value.lastUpdated)==null?void 0:l.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(n.value)})}),(s,u)=>{var l;return y(),P("p",rf,[Le(te(((l=w(e).lastUpdated)==null?void 0:l.text)||w(e).lastUpdatedText||"Last updated")+": ",1),k("time",{datetime:o.value},te(a.value),9,of)])}}}),sf=j(af,[["__scopeId","data-v-7e9c603f"]]),uf={key:0,class:"VPDocFooter"},lf={key:0,class:"edit-info"},cf={key:0,class:"edit-link"},ff={key:1,class:"last-updated"},df={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},hf={class:"pager"},pf=["innerHTML"],vf=["innerHTML"],yf={class:"pager"},gf=["innerHTML"],mf=["innerHTML"],bf=R({__name:"VPDocFooter",setup(t){const{theme:e,page:i,frontmatter:r}=q(),n=ef(),o=tf(),a=F(()=>e.value.editLink&&r.value.editLink!==!1),s=F(()=>i.value.lastUpdated),u=F(()=>a.value||s.value||o.value.prev||o.value.next);return(l,c)=>{var f,h,p,m;return u.value?(y(),P("footer",uf,[S(l.$slots,"doc-footer-before",{},void 0,!0),a.value||s.value?(y(),P("div",lf,[a.value?(y(),P("div",cf,[$(Qe,{class:"edit-link-button",href:w(n).url,"no-icon":!0},{default:T(()=>[c[0]||(c[0]=k("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),Le(" "+te(w(n).text),1)]),_:1},8,["href"])])):L("",!0),s.value?(y(),P("div",ff,[$(sf)])):L("",!0)])):L("",!0),(f=w(o).prev)!=null&&f.link||(h=w(o).next)!=null&&h.link?(y(),P("nav",df,[c[1]||(c[1]=k("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),k("div",hf,[(p=w(o).prev)!=null&&p.link?(y(),N(Qe,{key:0,class:"pager-link prev",href:w(o).prev.link},{default:T(()=>{var b;return[k("span",{class:"desc",innerHTML:((b=w(e).docFooter)==null?void 0:b.prev)||"Previous page"},null,8,pf),k("span",{class:"title",innerHTML:w(o).prev.text},null,8,vf)]}),_:1},8,["href"])):L("",!0)]),k("div",yf,[(m=w(o).next)!=null&&m.link?(y(),N(Qe,{key:0,class:"pager-link next",href:w(o).next.link},{default:T(()=>{var b;return[k("span",{class:"desc",innerHTML:((b=w(e).docFooter)==null?void 0:b.next)||"Next page"},null,8,gf),k("span",{class:"title",innerHTML:w(o).next.text},null,8,mf)]}),_:1},8,["href"])):L("",!0)])])):L("",!0)])):L("",!0)}}}),_f=j(bf,[["__scopeId","data-v-e699230e"]]),wf={class:"container"},Pf={class:"aside-container"},Sf={class:"aside-content"},kf={class:"content"},Of={class:"content-container"},Tf={class:"main"},Ef=R({__name:"VPDoc",setup(t){const{theme:e}=q(),i=zt(),{hasSidebar:r,hasAside:n,leftAside:o}=at(),a=F(()=>i.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(s,u)=>{const l=Vt("Content");return y(),P("div",{class:ue(["VPDoc",{"has-sidebar":w(r),"has-aside":w(n)}])},[S(s.$slots,"doc-top",{},void 0,!0),k("div",wf,[w(n)?(y(),P("div",{key:0,class:ue(["aside",{"left-aside":w(o)}])},[u[0]||(u[0]=k("div",{class:"aside-curtain"},null,-1)),k("div",Pf,[k("div",Sf,[$(Qc,null,{"aside-top":T(()=>[S(s.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":T(()=>[S(s.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":T(()=>[S(s.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":T(()=>[S(s.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":T(()=>[S(s.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":T(()=>[S(s.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):L("",!0),k("div",kf,[k("div",Of,[S(s.$slots,"doc-before",{},void 0,!0),k("main",Tf,[$(l,{class:ue(["vp-doc",[a.value,w(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),$(_f,null,{"doc-footer-before":T(()=>[S(s.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),S(s.$slots,"doc-after",{},void 0,!0)])])]),S(s.$slots,"doc-bottom",{},void 0,!0)],2)}}}),Cf=j(Ef,[["__scopeId","data-v-28fee1a6"]]),If=R({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(t){const e=t,i=F(()=>e.href&&Ou.test(e.href)),r=F(()=>e.tag||e.href?"a":"button");return(n,o)=>(y(),N(Ze(r.value),{class:ue(["VPButton",[n.size,n.theme]]),href:n.href?w(Ea)(n.href):void 0,target:e.target??(i.value?"_blank":void 0),rel:e.rel??(i.value?"noreferrer":void 0)},{default:T(()=>[Le(te(n.text),1)]),_:1},8,["class","href","target","rel"]))}}),xf=j(If,[["__scopeId","data-v-cd9fd2bb"]]),Rf=["src","alt"],$f=R({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(t){return(e,i)=>{const r=Vt("VPImage",!0);return e.image?(y(),P(le,{key:0},[typeof e.image=="string"||"src"in e.image?(y(),P("img",pt({key:0,class:"VPImage"},typeof e.image=="string"?e.$attrs:{...e.image,...e.$attrs},{src:w(Sa)(typeof e.image=="string"?e.image:e.image.src),alt:e.alt??(typeof e.image=="string"?"":e.image.alt||"")}),null,16,Rf)):(y(),P(le,{key:1},[$(r,pt({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),$(r,pt({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):L("",!0)}}}),Ur=j($f,[["__scopeId","data-v-fb4fc818"]]),Lf={class:"container"},Af={class:"main"},Df={key:0,class:"name"},Mf=["innerHTML"],Nf=["innerHTML"],jf=["innerHTML"],Bf={key:0,class:"actions"},Ff={key:0,class:"image"},Hf={class:"image-container"},Vf=R({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(t){const e=Li("hero-image-slot-exists");return(i,r)=>(y(),P("div",{class:ue(["VPHero",{"has-image":i.image||w(e)}])},[k("div",Lf,[k("div",Af,[S(i.$slots,"home-hero-info-before",{},void 0,!0),S(i.$slots,"home-hero-info",{},()=>[i.name?(y(),P("h1",Df,[k("span",{innerHTML:i.name,class:"clip"},null,8,Mf)])):L("",!0),i.text?(y(),P("p",{key:1,innerHTML:i.text,class:"text"},null,8,Nf)):L("",!0),i.tagline?(y(),P("p",{key:2,innerHTML:i.tagline,class:"tagline"},null,8,jf)):L("",!0)],!0),S(i.$slots,"home-hero-info-after",{},void 0,!0),i.actions?(y(),P("div",Bf,[(y(!0),P(le,null,Te(i.actions,n=>(y(),P("div",{key:n.link,class:"action"},[$(xf,{tag:"a",size:"medium",theme:n.theme,text:n.text,href:n.link,target:n.target,rel:n.rel},null,8,["theme","text","href","target","rel"])]))),128))])):L("",!0),S(i.$slots,"home-hero-actions-after",{},void 0,!0)]),i.image||w(e)?(y(),P("div",Ff,[k("div",Hf,[r[0]||(r[0]=k("div",{class:"image-bg"},null,-1)),S(i.$slots,"home-hero-image",{},()=>[i.image?(y(),N(Ur,{key:0,class:"image-src",image:i.image},null,8,["image"])):L("",!0)],!0)])])):L("",!0)])],2))}}),zf=j(Vf,[["__scopeId","data-v-7dfd2201"]]),Uf=R({__name:"VPHomeHero",setup(t){const{frontmatter:e}=q();return(i,r)=>w(e).hero?(y(),N(zf,{key:0,class:"VPHomeHero",name:w(e).hero.name,text:w(e).hero.text,tagline:w(e).hero.tagline,image:w(e).hero.image,actions:w(e).hero.actions},{"home-hero-info-before":T(()=>[S(i.$slots,"home-hero-info-before")]),"home-hero-info":T(()=>[S(i.$slots,"home-hero-info")]),"home-hero-info-after":T(()=>[S(i.$slots,"home-hero-info-after")]),"home-hero-actions-after":T(()=>[S(i.$slots,"home-hero-actions-after")]),"home-hero-image":T(()=>[S(i.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):L("",!0)}}),Kf={class:"box"},Gf={key:0,class:"icon"},Wf=["innerHTML"],Yf=["innerHTML"],Xf=["innerHTML"],qf={key:4,class:"link-text"},Jf={class:"link-text-value"},Zf=R({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(t){return(e,i)=>(y(),N(Qe,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:T(()=>[k("article",Kf,[typeof e.icon=="object"&&e.icon.wrap?(y(),P("div",Gf,[$(Ur,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):typeof e.icon=="object"?(y(),N(Ur,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(y(),P("div",{key:2,class:"icon",innerHTML:e.icon},null,8,Wf)):L("",!0),k("h2",{class:"title",innerHTML:e.title},null,8,Yf),e.details?(y(),P("p",{key:3,class:"details",innerHTML:e.details},null,8,Xf)):L("",!0),e.linkText?(y(),P("div",qf,[k("p",Jf,[Le(te(e.linkText)+" ",1),i[0]||(i[0]=k("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):L("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),Qf=j(Zf,[["__scopeId","data-v-3a99c9d3"]]),ed={key:0,class:"VPFeatures"},td={class:"container"},nd={class:"items"},rd=R({__name:"VPFeatures",props:{features:{}},setup(t){const e=t,i=F(()=>{const r=e.features.length;if(r){if(r===2)return"grid-2";if(r===3)return"grid-3";if(r%3===0)return"grid-6";if(r>3)return"grid-4"}else return});return(r,n)=>r.features?(y(),P("div",ed,[k("div",td,[k("div",nd,[(y(!0),P(le,null,Te(r.features,o=>(y(),P("div",{key:o.title,class:ue(["item",[i.value]])},[$(Qf,{icon:o.icon,title:o.title,details:o.details,link:o.link,"link-text":o.linkText,rel:o.rel,target:o.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):L("",!0)}}),id=j(rd,[["__scopeId","data-v-808d973b"]]),od=R({__name:"VPHomeFeatures",setup(t){const{frontmatter:e}=q();return(i,r)=>w(e).features?(y(),N(id,{key:0,class:"VPHomeFeatures",features:w(e).features},null,8,["features"])):L("",!0)}}),ad=R({__name:"VPHomeContent",setup(t){const{width:e}=cc({initialWidth:0,includeScrollbar:!1});return(i,r)=>(y(),P("div",{class:"vp-doc container",style:Tu(w(e)?{"--vp-offset":`calc(50% - ${w(e)/2}px)`}:{})},[S(i.$slots,"default",{},void 0,!0)],4))}}),sd=j(ad,[["__scopeId","data-v-247cbbd6"]]),ud={class:"VPHome"},ld=R({__name:"VPHome",setup(t){const{frontmatter:e}=q();return(i,r)=>{const n=Vt("Content");return y(),P("div",ud,[S(i.$slots,"home-hero-before",{},void 0,!0),$(Uf,null,{"home-hero-info-before":T(()=>[S(i.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":T(()=>[S(i.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":T(()=>[S(i.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":T(()=>[S(i.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":T(()=>[S(i.$slots,"home-hero-image",{},void 0,!0)]),_:3}),S(i.$slots,"home-hero-after",{},void 0,!0),S(i.$slots,"home-features-before",{},void 0,!0),$(od),S(i.$slots,"home-features-after",{},void 0,!0),w(e).markdownStyles!==!1?(y(),N(sd,{key:0},{default:T(()=>[$(n)]),_:1})):(y(),N(n,{key:1}))])}}}),cd=j(ld,[["__scopeId","data-v-cac20278"]]),fd={},dd={class:"VPPage"};function hd(t,e){const i=Vt("Content");return y(),P("div",dd,[S(t.$slots,"page-top"),$(i),S(t.$slots,"page-bottom")])}const pd=j(fd,[["render",hd]]),vd=R({__name:"VPContent",setup(t){const{page:e,frontmatter:i}=q(),{hasSidebar:r}=at();return(n,o)=>(y(),P("div",{class:ue(["VPContent",{"has-sidebar":w(r),"is-home":w(i).layout==="home"}]),id:"VPContent"},[w(e).isNotFound?S(n.$slots,"not-found",{key:0},()=>[$(Lc)],!0):w(i).layout==="page"?(y(),N(pd,{key:1},{"page-top":T(()=>[S(n.$slots,"page-top",{},void 0,!0)]),"page-bottom":T(()=>[S(n.$slots,"page-bottom",{},void 0,!0)]),_:3})):w(i).layout==="home"?(y(),N(cd,{key:2},{"home-hero-before":T(()=>[S(n.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":T(()=>[S(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":T(()=>[S(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":T(()=>[S(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":T(()=>[S(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":T(()=>[S(n.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":T(()=>[S(n.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":T(()=>[S(n.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":T(()=>[S(n.$slots,"home-features-after",{},void 0,!0)]),_:3})):w(i).layout&&w(i).layout!=="doc"?(y(),N(Ze(w(i).layout),{key:3})):(y(),N(Cf,{key:4},{"doc-top":T(()=>[S(n.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":T(()=>[S(n.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":T(()=>[S(n.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":T(()=>[S(n.$slots,"doc-before",{},void 0,!0)]),"doc-after":T(()=>[S(n.$slots,"doc-after",{},void 0,!0)]),"aside-top":T(()=>[S(n.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":T(()=>[S(n.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":T(()=>[S(n.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":T(()=>[S(n.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":T(()=>[S(n.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":T(()=>[S(n.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),yd=j(vd,[["__scopeId","data-v-ead0fe5d"]]),gd={class:"container"},md=["innerHTML"],bd=["innerHTML"],_d=R({__name:"VPFooter",setup(t){const{theme:e,frontmatter:i}=q(),{hasSidebar:r}=at();return(n,o)=>w(e).footer&&w(i).footer!==!1?(y(),P("footer",{key:0,class:ue(["VPFooter",{"has-sidebar":w(r)}])},[k("div",gd,[w(e).footer.message?(y(),P("p",{key:0,class:"message",innerHTML:w(e).footer.message},null,8,md)):L("",!0),w(e).footer.copyright?(y(),P("p",{key:1,class:"copyright",innerHTML:w(e).footer.copyright},null,8,bd)):L("",!0)])],2)):L("",!0)}}),wd=j(_d,[["__scopeId","data-v-e227317c"]]);function Pd(){const{theme:t,frontmatter:e}=q(),i=ku([]),r=F(()=>i.value.length>0);return $i(()=>{i.value=Ca(e.value.outline??t.value.outline)}),{headers:i,hasLocalNav:r}}const Sd={class:"menu-text"},kd={class:"header"},Od={class:"outline"},Td=R({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(t){const e=t,{theme:i}=q(),r=ne(!1),n=ne(0),o=ne(),a=ne();function s(f){var h;(h=o.value)!=null&&h.contains(f.target)||(r.value=!1)}Be(r,f=>{if(f){document.addEventListener("click",s);return}document.removeEventListener("click",s)}),uo("Escape",()=>{r.value=!1}),$i(()=>{r.value=!1});function u(){r.value=!r.value,n.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function l(f){f.target.classList.contains("outline-link")&&(a.value&&(a.value.style.transition="none"),Ai(()=>{r.value=!1}))}function c(){r.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(f,h)=>(y(),P("div",{class:"VPLocalNavOutlineDropdown",style:Tu({"--vp-vh":n.value+"px"}),ref_key:"main",ref:o},[f.headers.length>0?(y(),P("button",{key:0,onClick:u,class:ue({open:r.value})},[k("span",Sd,te(w(Ru)(w(i))),1),h[0]||(h[0]=k("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(y(),P("button",{key:1,onClick:c},te(w(i).returnToTopLabel||"Return to top"),1)),$(Pa,{name:"flyout"},{default:T(()=>[r.value?(y(),P("div",{key:0,ref_key:"items",ref:a,class:"items",onClick:l},[k("div",kd,[k("a",{class:"top-link",href:"#",onClick:c},te(w(i).returnToTopLabel||"Return to top"),1)]),k("div",Od,[$($u,{headers:f.headers},null,8,["headers"])])],512)):L("",!0)]),_:1})],4))}}),Ed=j(Td,[["__scopeId","data-v-e9cb9321"]]),Cd={class:"container"},Id=["aria-expanded"],xd={class:"menu-text"},Rd=R({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(t){const{theme:e,frontmatter:i}=q(),{hasSidebar:r}=at(),{headers:n}=Pd(),{y:o}=Eu(),a=ne(0);Se(()=>{a.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),$i(()=>{n.value=Ca(i.value.outline??e.value.outline)});const s=F(()=>n.value.length===0),u=F(()=>s.value&&!r.value),l=F(()=>({VPLocalNav:!0,"has-sidebar":r.value,empty:s.value,fixed:u.value}));return(c,f)=>w(i).layout!=="home"&&(!u.value||w(o)>=a.value)?(y(),P("div",{key:0,class:ue(l.value)},[k("div",Cd,[w(r)?(y(),P("button",{key:0,class:"menu","aria-expanded":c.open,"aria-controls":"VPSidebarNav",onClick:f[0]||(f[0]=h=>c.$emit("open-menu"))},[f[1]||(f[1]=k("span",{class:"vpi-align-left menu-icon"},null,-1)),k("span",xd,te(w(e).sidebarMenuLabel||"Menu"),1)],8,Id)):L("",!0),$(Ed,{headers:w(n),navHeight:a.value},null,8,["headers","navHeight"])])],2)):L("",!0)}}),$d=j(Rd,[["__scopeId","data-v-dffe4b48"]]);function Ld(){const t=ne(!1);function e(){t.value=!0,window.addEventListener("resize",n)}function i(){t.value=!1,window.removeEventListener("resize",n)}function r(){t.value?i():e()}function n(){window.outerWidth>=768&&i()}const o=zt();return Be(()=>o.path,i),{isScreenOpen:t,openScreen:e,closeScreen:i,toggleScreen:r}}const Ad={},Dd={class:"VPSwitch",type:"button",role:"switch"},Md={class:"check"},Nd={key:0,class:"icon"};function jd(t,e){return y(),P("button",Dd,[k("span",Md,[t.$slots.default?(y(),P("span",Nd,[S(t.$slots,"default",{},void 0,!0)])):L("",!0)])])}const Bd=j(Ad,[["render",jd],["__scopeId","data-v-1b9cf438"]]),Fd=R({__name:"VPSwitchAppearance",setup(t){const{isDark:e,theme:i}=q(),r=Li("toggle-appearance",()=>{e.value=!e.value}),n=ne("");return ka(()=>{n.value=e.value?i.value.lightModeSwitchTitle||"Switch to light theme":i.value.darkModeSwitchTitle||"Switch to dark theme"}),(o,a)=>(y(),N(Bd,{title:n.value,class:"VPSwitchAppearance","aria-checked":w(e),onClick:w(r)},{default:T(()=>a[0]||(a[0]=[k("span",{class:"vpi-sun sun"},null,-1),k("span",{class:"vpi-moon moon"},null,-1)])),_:1},8,["title","aria-checked","onClick"]))}}),Ia=j(Fd,[["__scopeId","data-v-307c72f2"]]),Hd={key:0,class:"VPNavBarAppearance"},Vd=R({__name:"VPNavBarAppearance",setup(t){const{site:e}=q();return(i,r)=>w(e).appearance&&w(e).appearance!=="force-dark"&&w(e).appearance!=="force-auto"?(y(),P("div",Hd,[$(Ia)])):L("",!0)}}),zd=j(Vd,[["__scopeId","data-v-af808070"]]),xa=ne();let Lu=!1,Ui=0;function Ud(t){const e=ne(!1);if(Er){!Lu&&Kd(),Ui++;const i=Be(xa,r=>{var n,o,a;r===t.el.value||(n=t.el.value)!=null&&n.contains(r)?(e.value=!0,(o=t.onFocus)==null||o.call(t)):(e.value=!1,(a=t.onBlur)==null||a.call(t))});Tr(()=>{i(),Ui--,Ui||Gd()})}return fc(e)}function Kd(){document.addEventListener("focusin",Au),Lu=!0,xa.value=document.activeElement}function Gd(){document.removeEventListener("focusin",Au)}function Au(){xa.value=document.activeElement}const Wd={class:"VPMenuLink"},Yd=R({__name:"VPMenuLink",props:{item:{}},setup(t){const{page:e}=q();return(i,r)=>(y(),P("div",Wd,[$(Qe,{class:ue({active:w(It)(w(e).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel},{default:T(()=>[Le(te(i.item.text),1)]),_:1},8,["class","href","target","rel"])]))}}),Di=j(Yd,[["__scopeId","data-v-0b068d9d"]]),Xd={class:"VPMenuGroup"},qd={key:0,class:"title"},Jd=R({__name:"VPMenuGroup",props:{text:{},items:{}},setup(t){return(e,i)=>(y(),P("div",Xd,[e.text?(y(),P("p",qd,te(e.text),1)):L("",!0),(y(!0),P(le,null,Te(e.items,r=>(y(),P(le,null,["link"in r?(y(),N(Di,{key:0,item:r},null,8,["item"])):L("",!0)],64))),256))]))}}),Zd=j(Jd,[["__scopeId","data-v-dabc87bc"]]),Qd={class:"VPMenu"},eh={key:0,class:"items"},th=R({__name:"VPMenu",props:{items:{}},setup(t){return(e,i)=>(y(),P("div",Qd,[e.items?(y(),P("div",eh,[(y(!0),P(le,null,Te(e.items,r=>(y(),P(le,{key:JSON.stringify(r)},["link"in r?(y(),N(Di,{key:0,item:r},null,8,["item"])):"component"in r?(y(),N(Ze(r.component),pt({key:1,ref_for:!0},r.props),null,16)):(y(),N(Zd,{key:2,text:r.text,items:r.items},null,8,["text","items"]))],64))),128))])):L("",!0),S(e.$slots,"default",{},void 0,!0)]))}}),nh=j(th,[["__scopeId","data-v-ca8e95fc"]]),rh=["aria-expanded","aria-label"],ih={key:0,class:"text"},oh=["innerHTML"],ah={key:1,class:"vpi-more-horizontal icon"},sh={class:"menu"},uh=R({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(t){const e=ne(!1),i=ne();Ud({el:i,onBlur:r});function r(){e.value=!1}return(n,o)=>(y(),P("div",{class:"VPFlyout",ref_key:"el",ref:i,onMouseenter:o[1]||(o[1]=a=>e.value=!0),onMouseleave:o[2]||(o[2]=a=>e.value=!1)},[k("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":n.label,onClick:o[0]||(o[0]=a=>e.value=!e.value)},[n.button||n.icon?(y(),P("span",ih,[n.icon?(y(),P("span",{key:0,class:ue([n.icon,"option-icon"])},null,2)):L("",!0),n.button?(y(),P("span",{key:1,innerHTML:n.button},null,8,oh)):L("",!0),o[3]||(o[3]=k("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(y(),P("span",ah))],8,rh),k("div",sh,[$(nh,{items:n.items},{default:T(()=>[S(n.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),Ra=j(uh,[["__scopeId","data-v-b5df302c"]]),lh=["href","aria-label","innerHTML"],ch=R({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(t){const e=t,i=F(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}" />`);return(r,n)=>(y(),P("a",{class:"VPSocialLink no-icon",href:r.link,"aria-label":r.ariaLabel??(typeof r.icon=="string"?r.icon:""),target:"_blank",rel:"noopener",innerHTML:i.value},null,8,lh))}}),fh=j(ch,[["__scopeId","data-v-f8a7449c"]]),dh={class:"VPSocialLinks"},hh=R({__name:"VPSocialLinks",props:{links:{}},setup(t){return(e,i)=>(y(),P("div",dh,[(y(!0),P(le,null,Te(e.links,({link:r,icon:n,ariaLabel:o})=>(y(),N(fh,{key:r,icon:n,link:r,ariaLabel:o},null,8,["icon","link","ariaLabel"]))),128))]))}}),$a=j(hh,[["__scopeId","data-v-b9049cbe"]]),ph={key:0,class:"group translations"},vh={class:"trans-title"},yh={key:1,class:"group"},gh={class:"item appearance"},mh={class:"label"},bh={class:"appearance-action"},_h={key:2,class:"group"},wh={class:"item social-links"},Ph=R({__name:"VPNavBarExtra",setup(t){const{site:e,theme:i}=q(),{localeLinks:r,currentLang:n}=Cr({correspondingLink:!0}),o=F(()=>r.value.length&&n.value.label||e.value.appearance||i.value.socialLinks);return(a,s)=>o.value?(y(),N(Ra,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:T(()=>[w(r).length&&w(n).label?(y(),P("div",ph,[k("p",vh,te(w(n).label),1),(y(!0),P(le,null,Te(w(r),u=>(y(),N(Di,{key:u.link,item:u},null,8,["item"]))),128))])):L("",!0),w(e).appearance&&w(e).appearance!=="force-dark"&&w(e).appearance!=="force-auto"?(y(),P("div",yh,[k("div",gh,[k("p",mh,te(w(i).darkModeSwitchLabel||"Appearance"),1),k("div",bh,[$(Ia)])])])):L("",!0),w(i).socialLinks?(y(),P("div",_h,[k("div",wh,[$($a,{class:"social-links-list",links:w(i).socialLinks},null,8,["links"])])])):L("",!0)]),_:1})):L("",!0)}}),Sh=j(Ph,[["__scopeId","data-v-0177e9aa"]]),kh=["aria-expanded"],Oh=R({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(t){return(e,i)=>(y(),P("button",{type:"button",class:ue(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:i[0]||(i[0]=r=>e.$emit("click"))},i[1]||(i[1]=[k("span",{class:"container"},[k("span",{class:"top"}),k("span",{class:"middle"}),k("span",{class:"bottom"})],-1)]),10,kh))}}),Th=j(Oh,[["__scopeId","data-v-6d53d734"]]),Eh=["innerHTML"],Ch=R({__name:"VPNavBarMenuLink",props:{item:{}},setup(t){const{page:e}=q();return(i,r)=>(y(),N(Qe,{class:ue({VPNavBarMenuLink:!0,active:w(It)(w(e).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,noIcon:i.item.noIcon,target:i.item.target,rel:i.item.rel,tabindex:"0"},{default:T(()=>[k("span",{innerHTML:i.item.text},null,8,Eh)]),_:1},8,["class","href","noIcon","target","rel"]))}}),Ih=j(Ch,[["__scopeId","data-v-eb041530"]]),xh=R({__name:"VPNavBarMenuGroup",props:{item:{}},setup(t){const e=t,{page:i}=q(),r=o=>"component"in o?!1:"link"in o?It(i.value.relativePath,o.link,!!e.item.activeMatch):o.items.some(r),n=F(()=>r(e.item));return(o,a)=>(y(),N(Ra,{class:ue({VPNavBarMenuGroup:!0,active:w(It)(w(i).relativePath,o.item.activeMatch,!!o.item.activeMatch)||n.value}),button:o.item.text,items:o.item.items},null,8,["class","button","items"]))}}),Rh={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},$h=R({__name:"VPNavBarMenu",setup(t){const{theme:e}=q();return(i,r)=>w(e).nav?(y(),P("nav",Rh,[r[0]||(r[0]=k("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(y(!0),P(le,null,Te(w(e).nav,n=>(y(),P(le,{key:JSON.stringify(n)},["link"in n?(y(),N(Ih,{key:0,item:n},null,8,["item"])):"component"in n?(y(),N(Ze(n.component),pt({key:1,ref_for:!0},n.props),null,16)):(y(),N(xh,{key:2,item:n},null,8,["item"]))],64))),128))])):L("",!0)}}),Lh=j($h,[["__scopeId","data-v-855eb014"]]);function Ah(t){const{localeIndex:e,theme:i}=q();function r(n){var m,b,g;const o=n.split("."),a=(m=i.value.search)==null?void 0:m.options,s=a&&typeof a=="object",u=s&&((g=(b=a.locales)==null?void 0:b[e.value])==null?void 0:g.translations)||null,l=s&&a.translations||null;let c=u,f=l,h=t;const p=o.pop();for(const I of o){let x=null;const O=h==null?void 0:h[I];O&&(x=h=O);const re=f==null?void 0:f[I];re&&(x=f=re);const J=c==null?void 0:c[I];J&&(x=c=J),O||(h=x),re||(f=x),J||(c=x)}return(c==null?void 0:c[p])??(f==null?void 0:f[p])??(h==null?void 0:h[p])??""}return r}const Dh=["aria-label"],Mh={class:"DocSearch-Button-Container"},Nh={class:"DocSearch-Button-Placeholder"},Wa=R({__name:"VPNavBarSearchButton",setup(t){const i=Ah({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(r,n)=>(y(),P("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":w(i)("button.buttonAriaLabel")},[k("span",Mh,[n[0]||(n[0]=k("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),k("span",Nh,te(w(i)("button.buttonText")),1)]),n[1]||(n[1]=k("span",{class:"DocSearch-Button-Keys"},[k("kbd",{class:"DocSearch-Button-Key"}),k("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,Dh))}}),jh={class:"VPNavBarSearch"},Bh={id:"local-search"},Fh={key:1,id:"docsearch"},Hh=R({__name:"VPNavBarSearch",setup(t){const e=dc(()=>Cu(()=>import("./VPLocalSearchBox.Bvib6cN7.js"),__vite__mapDeps([0,1]))),i=()=>null,{theme:r}=q(),n=ne(!1),o=ne(!1);Se(()=>{});function a(){n.value||(n.value=!0,setTimeout(s,16))}function s(){const f=new Event("keydown");f.key="k",f.metaKey=!0,window.dispatchEvent(f),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||s()},16)}function u(f){const h=f.target,p=h.tagName;return h.isContentEditable||p==="INPUT"||p==="SELECT"||p==="TEXTAREA"}const l=ne(!1);uo("k",f=>{(f.ctrlKey||f.metaKey)&&(f.preventDefault(),l.value=!0)}),uo("/",f=>{u(f)||(f.preventDefault(),l.value=!0)});const c="local";return(f,h)=>{var p;return y(),P("div",jh,[w(c)==="local"?(y(),P(le,{key:0},[l.value?(y(),N(w(e),{key:0,onClose:h[0]||(h[0]=m=>l.value=!1)})):L("",!0),k("div",Bh,[$(Wa,{onClick:h[1]||(h[1]=m=>l.value=!0)})])],64)):w(c)==="algolia"?(y(),P(le,{key:1},[n.value?(y(),N(w(i),{key:0,algolia:((p=w(r).search)==null?void 0:p.options)??w(r).algolia,onVnodeBeforeMount:h[2]||(h[2]=m=>o.value=!0)},null,8,["algolia"])):L("",!0),o.value?L("",!0):(y(),P("div",Fh,[$(Wa,{onClick:a})]))],64)):L("",!0)])}}}),Vh=R({__name:"VPNavBarSocialLinks",setup(t){const{theme:e}=q();return(i,r)=>w(e).socialLinks?(y(),N($a,{key:0,class:"VPNavBarSocialLinks",links:w(e).socialLinks},null,8,["links"])):L("",!0)}}),zh=j(Vh,[["__scopeId","data-v-0c51eb22"]]),Uh=["href","rel","target"],Kh={key:1},Gh={key:2},Wh=R({__name:"VPNavBarTitle",setup(t){const{site:e,theme:i}=q(),{hasSidebar:r}=at(),{currentLang:n}=Cr(),o=F(()=>{var u;return typeof i.value.logoLink=="string"?i.value.logoLink:(u=i.value.logoLink)==null?void 0:u.link}),a=F(()=>{var u;return typeof i.value.logoLink=="string"||(u=i.value.logoLink)==null?void 0:u.rel}),s=F(()=>{var u;return typeof i.value.logoLink=="string"||(u=i.value.logoLink)==null?void 0:u.target});return(u,l)=>(y(),P("div",{class:ue(["VPNavBarTitle",{"has-sidebar":w(r)}])},[k("a",{class:"title",href:o.value??w(Ea)(w(n).link),rel:a.value,target:s.value},[S(u.$slots,"nav-bar-title-before",{},void 0,!0),w(i).logo?(y(),N(Ur,{key:0,class:"logo",image:w(i).logo},null,8,["image"])):L("",!0),w(i).siteTitle?(y(),P("span",Kh,te(w(i).siteTitle),1)):w(i).siteTitle===void 0?(y(),P("span",Gh,te(w(e).title),1)):L("",!0),S(u.$slots,"nav-bar-title-after",{},void 0,!0)],8,Uh)],2))}}),Yh=j(Wh,[["__scopeId","data-v-5f813bc3"]]),Xh={class:"items"},qh={class:"title"},Jh=R({__name:"VPNavBarTranslations",setup(t){const{theme:e}=q(),{localeLinks:i,currentLang:r}=Cr({correspondingLink:!0});return(n,o)=>w(i).length&&w(r).label?(y(),N(Ra,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:w(e).langMenuLabel||"Change language"},{default:T(()=>[k("div",Xh,[k("p",qh,te(w(r).label),1),(y(!0),P(le,null,Te(w(i),a=>(y(),N(Di,{key:a.link,item:a},null,8,["item"]))),128))])]),_:1},8,["label"])):L("",!0)}}),Zh=j(Jh,[["__scopeId","data-v-5cd9c5e1"]]),Qh={class:"wrapper"},ep={class:"container"},tp={class:"title"},np={class:"content"},rp={class:"content-body"},ip=R({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(t){const e=t,{y:i}=Eu(),{hasSidebar:r}=at(),{frontmatter:n}=q(),o=ne({});return ka(()=>{o.value={"has-sidebar":r.value,home:n.value.layout==="home",top:i.value===0,"screen-open":e.isScreenOpen}}),(a,s)=>(y(),P("div",{class:ue(["VPNavBar",o.value])},[k("div",Qh,[k("div",ep,[k("div",tp,[$(Yh,null,{"nav-bar-title-before":T(()=>[S(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":T(()=>[S(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),k("div",np,[k("div",rp,[S(a.$slots,"nav-bar-content-before",{},void 0,!0),$(Hh,{class:"search"}),$(Lh,{class:"menu"}),$(Zh,{class:"translations"}),$(zd,{class:"appearance"}),$(zh,{class:"social-links"}),$(Sh,{class:"extra"}),S(a.$slots,"nav-bar-content-after",{},void 0,!0),$(Th,{class:"hamburger",active:a.isScreenOpen,onClick:s[0]||(s[0]=u=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),s[1]||(s[1]=k("div",{class:"divider"},[k("div",{class:"divider-line"})],-1))],2))}}),op=j(ip,[["__scopeId","data-v-2b3c6732"]]),ap={key:0,class:"VPNavScreenAppearance"},sp={class:"text"},up=R({__name:"VPNavScreenAppearance",setup(t){const{site:e,theme:i}=q();return(r,n)=>w(e).appearance&&w(e).appearance!=="force-dark"&&w(e).appearance!=="force-auto"?(y(),P("div",ap,[k("p",sp,te(w(i).darkModeSwitchLabel||"Appearance"),1),$(Ia)])):L("",!0)}}),lp=j(up,[["__scopeId","data-v-3b5c532e"]]),cp=R({__name:"VPNavScreenMenuLink",props:{item:{}},setup(t){const e=Li("close-screen");return(i,r)=>(y(),N(Qe,{class:"VPNavScreenMenuLink",href:i.item.link,target:i.item.target,rel:i.item.rel,onClick:w(e),innerHTML:i.item.text},null,8,["href","target","rel","onClick","innerHTML"]))}}),fp=j(cp,[["__scopeId","data-v-32d75114"]]),dp=R({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(t){const e=Li("close-screen");return(i,r)=>(y(),N(Qe,{class:"VPNavScreenMenuGroupLink",href:i.item.link,target:i.item.target,rel:i.item.rel,onClick:w(e)},{default:T(()=>[Le(te(i.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),Du=j(dp,[["__scopeId","data-v-3b702b22"]]),hp={class:"VPNavScreenMenuGroupSection"},pp={key:0,class:"title"},vp=R({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(t){return(e,i)=>(y(),P("div",hp,[e.text?(y(),P("p",pp,te(e.text),1)):L("",!0),(y(!0),P(le,null,Te(e.items,r=>(y(),N(Du,{key:r.text,item:r},null,8,["item"]))),128))]))}}),yp=j(vp,[["__scopeId","data-v-25ce8545"]]),gp=["aria-controls","aria-expanded"],mp=["innerHTML"],bp=["id"],_p={key:0,class:"item"},wp={key:1,class:"item"},Pp={key:2,class:"group"},Sp=R({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(t){const e=t,i=ne(!1),r=F(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function n(){i.value=!i.value}return(o,a)=>(y(),P("div",{class:ue(["VPNavScreenMenuGroup",{open:i.value}])},[k("button",{class:"button","aria-controls":r.value,"aria-expanded":i.value,onClick:n},[k("span",{class:"button-text",innerHTML:o.text},null,8,mp),a[0]||(a[0]=k("span",{class:"vpi-plus button-icon"},null,-1))],8,gp),k("div",{id:r.value,class:"items"},[(y(!0),P(le,null,Te(o.items,s=>(y(),P(le,{key:JSON.stringify(s)},["link"in s?(y(),P("div",_p,[$(Du,{item:s},null,8,["item"])])):"component"in s?(y(),P("div",wp,[(y(),N(Ze(s.component),pt({ref_for:!0},s.props,{"screen-menu":""}),null,16))])):(y(),P("div",Pp,[$(yp,{text:s.text,items:s.items},null,8,["text","items"])]))],64))),128))],8,bp)],2))}}),kp=j(Sp,[["__scopeId","data-v-b2826693"]]),Op={key:0,class:"VPNavScreenMenu"},Tp=R({__name:"VPNavScreenMenu",setup(t){const{theme:e}=q();return(i,r)=>w(e).nav?(y(),P("nav",Op,[(y(!0),P(le,null,Te(w(e).nav,n=>(y(),P(le,{key:JSON.stringify(n)},["link"in n?(y(),N(fp,{key:0,item:n},null,8,["item"])):"component"in n?(y(),N(Ze(n.component),pt({key:1,ref_for:!0},n.props,{"screen-menu":""}),null,16)):(y(),N(kp,{key:2,text:n.text||"",items:n.items},null,8,["text","items"]))],64))),128))])):L("",!0)}}),Ep=R({__name:"VPNavScreenSocialLinks",setup(t){const{theme:e}=q();return(i,r)=>w(e).socialLinks?(y(),N($a,{key:0,class:"VPNavScreenSocialLinks",links:w(e).socialLinks},null,8,["links"])):L("",!0)}}),Cp={class:"list"},Ip=R({__name:"VPNavScreenTranslations",setup(t){const{localeLinks:e,currentLang:i}=Cr({correspondingLink:!0}),r=ne(!1);function n(){r.value=!r.value}return(o,a)=>w(e).length&&w(i).label?(y(),P("div",{key:0,class:ue(["VPNavScreenTranslations",{open:r.value}])},[k("button",{class:"title",onClick:n},[a[0]||(a[0]=k("span",{class:"vpi-languages icon lang"},null,-1)),Le(" "+te(w(i).label)+" ",1),a[1]||(a[1]=k("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),k("ul",Cp,[(y(!0),P(le,null,Te(w(e),s=>(y(),P("li",{key:s.link,class:"item"},[$(Qe,{class:"link",href:s.link},{default:T(()=>[Le(te(s.text),1)]),_:2},1032,["href"])]))),128))])],2)):L("",!0)}}),xp=j(Ip,[["__scopeId","data-v-ad52e2da"]]),Rp={class:"container"},$p=R({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(t){const e=ne(null),i=Iu(Er?document.body:null);return(r,n)=>(y(),N(Pa,{name:"fade",onEnter:n[0]||(n[0]=o=>i.value=!0),onAfterLeave:n[1]||(n[1]=o=>i.value=!1)},{default:T(()=>[r.open?(y(),P("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[k("div",Rp,[S(r.$slots,"nav-screen-content-before",{},void 0,!0),$(Tp,{class:"menu"}),$(xp,{class:"translations"}),$(lp,{class:"appearance"}),$(Ep,{class:"social-links"}),S(r.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):L("",!0)]),_:3}))}}),Lp=j($p,[["__scopeId","data-v-4558f368"]]),Ap={key:0,class:"VPNav"},Dp=R({__name:"VPNav",setup(t){const{isScreenOpen:e,closeScreen:i,toggleScreen:r}=Ld(),{frontmatter:n}=q(),o=F(()=>n.value.navbar!==!1);return Oa("close-screen",i),Ri(()=>{Er&&document.documentElement.classList.toggle("hide-nav",!o.value)}),(a,s)=>o.value?(y(),P("header",Ap,[$(op,{"is-screen-open":w(e),onToggleScreen:w(r)},{"nav-bar-title-before":T(()=>[S(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":T(()=>[S(a.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":T(()=>[S(a.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":T(()=>[S(a.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),$(Lp,{open:w(e)},{"nav-screen-content-before":T(()=>[S(a.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":T(()=>[S(a.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):L("",!0)}}),Mp=j(Dp,[["__scopeId","data-v-e95eada1"]]),Np=["role","tabindex"],jp={key:1,class:"items"},Bp=R({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(t){const e=t,{collapsed:i,collapsible:r,isLink:n,isActiveLink:o,hasActiveLink:a,hasChildren:s,toggle:u}=Nc(F(()=>e.item)),l=F(()=>s.value?"section":"div"),c=F(()=>n.value?"a":"div"),f=F(()=>s.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),h=F(()=>n.value?void 0:"button"),p=F(()=>[[`level-${e.depth}`],{collapsible:r.value},{collapsed:i.value},{"is-link":n.value},{"is-active":o.value},{"has-active":a.value}]);function m(g){"key"in g&&g.key!=="Enter"||!e.item.link&&u()}function b(){e.item.link&&u()}return(g,I)=>{const x=Vt("VPSidebarItem",!0);return y(),N(Ze(l.value),{class:ue(["VPSidebarItem",p.value])},{default:T(()=>[g.item.text?(y(),P("div",pt({key:0,class:"item",role:h.value},hc(g.item.items?{click:m,keydown:m}:{},!0),{tabindex:g.item.items&&0}),[I[1]||(I[1]=k("div",{class:"indicator"},null,-1)),g.item.link?(y(),N(Qe,{key:0,tag:c.value,class:"link",href:g.item.link,rel:g.item.rel,target:g.item.target},{default:T(()=>[(y(),N(Ze(f.value),{class:"text",innerHTML:g.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(y(),N(Ze(f.value),{key:1,class:"text",innerHTML:g.item.text},null,8,["innerHTML"])),g.item.collapsed!=null&&g.item.items&&g.item.items.length?(y(),P("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:b,onKeydown:pc(b,["enter"]),tabindex:"0"},I[0]||(I[0]=[k("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):L("",!0)],16,Np)):L("",!0),g.item.items&&g.item.items.length?(y(),P("div",jp,[g.depth<5?(y(!0),P(le,{key:0},Te(g.item.items,O=>(y(),N(x,{key:O.text,item:O,depth:g.depth+1},null,8,["item","depth"]))),128)):L("",!0)])):L("",!0)]),_:1},8,["class"])}}}),Fp=j(Bp,[["__scopeId","data-v-8cff7f02"]]),Hp=R({__name:"VPSidebarGroup",props:{items:{}},setup(t){const e=ne(!0);let i=null;return Se(()=>{i=setTimeout(()=>{i=null,e.value=!1},300)}),vc(()=>{i!=null&&(clearTimeout(i),i=null)}),(r,n)=>(y(!0),P(le,null,Te(r.items,o=>(y(),P("div",{key:o.text,class:ue(["group",{"no-transition":e.value}])},[$(Fp,{item:o,depth:0},null,8,["item"])],2))),128))}}),Vp=j(Hp,[["__scopeId","data-v-52576e13"]]),zp={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},Up=R({__name:"VPSidebar",props:{open:{type:Boolean}},setup(t){const{sidebarGroups:e,hasSidebar:i}=at(),r=t,n=ne(null),o=Iu(Er?document.body:null);Be([r,n],()=>{var s;r.open?(o.value=!0,(s=n.value)==null||s.focus()):o.value=!1},{immediate:!0,flush:"post"});const a=ne(0);return Be(e,()=>{a.value+=1},{deep:!0}),(s,u)=>w(i)?(y(),P("aside",{key:0,class:ue(["VPSidebar",{open:s.open}]),ref_key:"navEl",ref:n,onClick:u[0]||(u[0]=yc(()=>{},["stop"]))},[u[2]||(u[2]=k("div",{class:"curtain"},null,-1)),k("nav",zp,[u[1]||(u[1]=k("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),S(s.$slots,"sidebar-nav-before",{},void 0,!0),(y(),N(Vp,{items:w(e),key:a.value},null,8,["items"])),S(s.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):L("",!0)}}),Kp=j(Up,[["__scopeId","data-v-5eec70d6"]]),Gp=R({__name:"VPSkipLink",setup(t){const e=zt(),i=ne();Be(()=>e.path,()=>i.value.focus());function r({target:n}){const o=document.getElementById(decodeURIComponent(n.hash).slice(1));if(o){const a=()=>{o.removeAttribute("tabindex"),o.removeEventListener("blur",a)};o.setAttribute("tabindex","-1"),o.addEventListener("blur",a),o.focus(),window.scrollTo(0,0)}}return(n,o)=>(y(),P(le,null,[k("span",{ref_key:"backToTop",ref:i,tabindex:"-1"},null,512),k("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:r}," Skip to content ")],64))}}),Wp=j(Gp,[["__scopeId","data-v-da383ab0"]]),Yp=R({__name:"Layout",setup(t){const{isOpen:e,open:i,close:r}=at(),n=zt();Be(()=>n.path,r),Mc(e,r);const{frontmatter:o}=q(),a=gc(),s=F(()=>!!a["home-hero-image"]);return Oa("hero-image-slot-exists",s),(u,l)=>{const c=Vt("Content");return w(o).layout!==!1?(y(),P("div",{key:0,class:ue(["Layout",w(o).pageClass])},[S(u.$slots,"layout-top",{},void 0,!0),$(Wp),$(Sc,{class:"backdrop",show:w(e),onClick:w(r)},null,8,["show","onClick"]),$(Mp,null,{"nav-bar-title-before":T(()=>[S(u.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":T(()=>[S(u.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":T(()=>[S(u.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":T(()=>[S(u.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":T(()=>[S(u.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":T(()=>[S(u.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),$($d,{open:w(e),onOpenMenu:w(i)},null,8,["open","onOpenMenu"]),$(Kp,{open:w(e)},{"sidebar-nav-before":T(()=>[S(u.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":T(()=>[S(u.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),$(yd,null,{"page-top":T(()=>[S(u.$slots,"page-top",{},void 0,!0)]),"page-bottom":T(()=>[S(u.$slots,"page-bottom",{},void 0,!0)]),"not-found":T(()=>[S(u.$slots,"not-found",{},void 0,!0)]),"home-hero-before":T(()=>[S(u.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":T(()=>[S(u.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":T(()=>[S(u.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":T(()=>[S(u.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":T(()=>[S(u.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":T(()=>[S(u.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":T(()=>[S(u.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":T(()=>[S(u.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":T(()=>[S(u.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":T(()=>[S(u.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":T(()=>[S(u.$slots,"doc-before",{},void 0,!0)]),"doc-after":T(()=>[S(u.$slots,"doc-after",{},void 0,!0)]),"doc-top":T(()=>[S(u.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":T(()=>[S(u.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":T(()=>[S(u.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":T(()=>[S(u.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":T(()=>[S(u.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":T(()=>[S(u.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":T(()=>[S(u.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":T(()=>[S(u.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),$(wd),S(u.$slots,"layout-bottom",{},void 0,!0)],2)):(y(),N(c,{key:1}))}}}),Xp=j(Yp,[["__scopeId","data-v-36dfa483"]]),Mu={Layout:Xp,enhanceApp:({app:t})=>{t.component("Badge",_c)}},qp=["id","host","repo","repoid","category","categoryid","mapping","term","strict","reactionsenabled","emitmetadata","inputposition","theme","lang","loading"],Jp=R({__name:"Giscus",props:{id:{},host:{},repo:{},repoId:{},category:{},categoryId:{},mapping:{},term:{},theme:{},strict:{},reactionsEnabled:{},emitMetadata:{},inputPosition:{},lang:{},loading:{}},setup(t){const e=ne(!1);return Se(()=>{e.value=!0,Cu(()=>import("./giscus-BNK3dBIH.B_EkeIy7.js"),[])}),(i,r)=>e.value?(y(),P("giscus-widget",{key:0,id:i.id,host:i.host,repo:i.repo,repoid:i.repoId,category:i.category,categoryid:i.categoryId,mapping:i.mapping,term:i.term,strict:i.strict,reactionsenabled:i.reactionsEnabled,emitmetadata:i.emitMetadata,inputposition:i.inputPosition,theme:i.theme,lang:i.lang,loading:i.loading},null,8,qp)):L("",!0)}}),Nu=R({setup(){const t=zt(),{isDark:e}=Ht(),i=ne(!0);Be(()=>t.path,()=>{i.value=!1,Ai(()=>{i.value=!0})},{immediate:!0});const r=Ta({repo:"pindemo/blog-vitepress",repoId:"R_kgDOMvcRLA",category:"Q&A",categoryId:"DIC_kwDOMvcRLM4CiV8I",mapping:"pathname",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",lang:"zh-CN",loading:"lazy"});return()=>$("div",{style:{padding:"20px",borderRadius:"10px"}},[i.value?mc(Jp,{...r,theme:e.value?"dark":"light"}):""])}}),Zp=R({__name:"GoTop",props:{isShow:Boolean},setup(t){const e=t,i=Ta({visibilityHeight:500,catStyle:"hide-cat"});Se(()=>{window.addEventListener("scroll",r,!0),window.addEventListener("resize",r,!0)}),Tr(()=>{window.removeEventListener("scroll",r),window.addEventListener("resize",r,!0)});const r=()=>{e.isShow?i.catStyle=n()>i.visibilityHeight?"show-cat":"hide-cat":i.catStyle="hide-cat"},n=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(a,s)=>(y(),P("div",{id:"goTop",class:ue([i.catStyle,"hide"]),onClick:o},null,2))}}),Qp=j(Zp,[["__scopeId","data-v-59112a88"]]),ev=()=>{const t=ne();Se(()=>{window.addEventListener("resize",e,!0),e()}),Tr(()=>{window.removeEventListener("resize",e)});const e=()=>{t.value=window.innerHeight||document.documentElement.clientHeight};return{viewportHeight:t}},tv={showIcon:"https://raw.githubusercontent.com/nsnans/picGo-bed/main/vitepress_1x/202409101530633.ico",showText:"(/≧▽≦/)",hideIcon:"https://raw.githubusercontent.com/nsnans/picGo-bed/main/vitepress_1x/202407021129399.ico",hideText:"(●—●)",recoverTime:500},nv=()=>{const{showIcon:t,showText:e,hideIcon:i,hideText:r,recoverTime:n}=tv,o=Ta({originTitle:"",recoverTimeout:void 0,config:{showIcon:t,showText:e,hideIcon:i,hideText:r,recoverTime:n}});Se(()=>{o.originTitle=document.title,o.config.showIcon!==""&&u().setAttribute("href",o.config.showIcon),document.addEventListener("visibilitychange",()=>{document.hidden?a():s()})});const a=()=>{o.config.hideIcon!==""&&u().setAttribute("href",o.config.hideIcon),document.title=o.config.hideText,clearTimeout(o.recoverTimeout)},s=()=>{o.config.showIcon!==""&&u().setAttribute("href",o.config.showIcon),document.title=o.config.showText,o.recoverTimeout=setTimeout(()=>{document.title=o.originTitle},o.config.recoverTime)},u=()=>{let c=document.querySelector("link[rel=icon]");return c===null&&(c=document.createElement("link"),c.setAttribute("rel","icon"),document.head.appendChild(c)),c},l=zt();Be(()=>l.path,(c,f)=>{c!==f&&(setTimeout(()=>{o.originTitle=document.title},100),clearTimeout(o.recoverTimeout))})},rv=()=>{const{isDark:t}=Ht(),e=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;Oa("toggle-appearance",async({clientX:i,clientY:r})=>{if(!e()){t.value=!t.value;return}const n=[`circle(0px at ${i}px ${r}px)`,`circle(${Math.hypot(Math.max(i,innerWidth-i),Math.max(r,innerHeight-r))}px at ${i}px ${r}px)`];await document.startViewTransition(async()=>{t.value=!t.value,await Ai()}).ready,document.documentElement.animate({clipPath:t.value?n.reverse():n},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${t.value?"old":"new"}(root)`})})},iv={},ov={class:"panel"};function av(t,e){return y(),P("div",ov,e[0]||(e[0]=[bc('<div class="container" data-v-16668da6><section class="grid" data-v-16668da6><span class="text" data-v-16668da6> 本站总访问量 <span id="busuanzi_value_site_pv" class="font-bold" data-v-16668da6>--</span> 次 </span><span class="text" data-v-16668da6> 本站访客数 <span id="busuanzi_value_site_uv" class="font-bold" data-v-16668da6>--</span> 人次 </span></section></div>',1)]))}const ju=j(iv,[["render",av],["__scopeId","data-v-16668da6"]]),sv={id:"hero-text"},uv={style:{display:"inline-block",position:"relative"}},lv={style:{color:"var(--vp-c-brand)",position:"absolute","z-index":"-1",top:"1em",left:"0.2em",width:"calc(100% - 0.7em)",height:"auto"},width:"240",height:"11",viewBox:"0 0 240 11",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Bu=R({__name:"HomeUnderline",setup(t){const{frontmatter:e}=Ht();return Se(()=>{const i=document.querySelector(".VPHero .text"),r=document.querySelector("#hero-text");if(!(!i||!r)){for(;i.lastChild;)i.lastChild.remove();i.append(r)}}),(i,r)=>(y(),P("div",sv,[k("span",uv,[Le(te(w(e).hero.text)+" ",1),(y(),P("svg",lv,r[0]||(r[0]=[k("path",{d:"M20.766 10.187c.939-.024.386-.885.552-1.401 1.105-.301.553.626.962 1.061.685-.263 1.171-1.1 1.696-1.085.044.144.15.191.044.378.697-.736 2.21-.134 2.995-1.052a.55.55 0 0 1 .127.215 3.35 3.35 0 0 1-.204-1.204c.42-.034.751-.593.94 0-.255 0-.266.23-.377.416l.426-.273c.448.813-.586.316-.553.927.84-.306 1.802-1.037 2.476-.831.182.803-1.525.339-.608 1.023l-1.033-.268c.85 1.248-.625-.057.171 1.276 1.348.177 1.47-.478 2.818-.3.276-.479-.132-.66.144-1.124 1.857-.885 1.602 1.984 2.94.846.337-.555.42-1.582 1.442-1.08l-.276.889c1.298.038.668-1.348 2.06-.784-.226.368-1.005.344-.8.444.917.689.59-.545 1.27-.569l.16.827c1.371-.181 2.863-.827 4.388-1.037-.072.249-.326.512.044.746 1.912-.478 4.123-.058 6.007.368l.68-.727c.05.015.095.04.132.074a.275.275 0 0 1 .077.118c.014.044.015.091.004.136a.27.27 0 0 1-.07.122c.74.243 0-.445.354-.732.414-.062.552.383.315.603 1.248-.636 3.586-1.401 4.973-.694l-.254.22c1.06.249 1.105-1.477 2.127-.855l-.182.129c2.293.23 4.785-.478 6.564.52.293-1.017 2.272.393 2.365-1.022 1.327.664.967.927 2.813 1.348.492.052.702-.899 1.299-1.061l.044.731.79-.794.47.87.552-.205a.66.66 0 0 1-.332-.2.517.517 0 0 1-.132-.33c.873-.354 2.177.477 2.21.831l2.078-.679c-.039.301-.387.411-.657.607 1.105-.779.226.77 1.232.053-.144-.163.06-.44.077-.588.553.435 1.691.416 2.547.205l-.149.512c1.558.1 3.271-.31 5.018-.335-.636-.224-.514-1.109 0-1.204l.226.774c.32-.478-.552-.282.122-.884.652.076.464.875.094 1.138l.784-.287c.056.23-.127.358-.165.655.309-.478 1.387.75 1.834-.096l.05.23c1.746-.03 2.53-.316 3.95-.383 0-.674.553-.535.984-1.085 1.05.196 2.21.707 3.482.63.878-.343.243-.568.635-.955.077.612 1.332.535.69.985a15.353 15.353 0 0 0 3.83-.68c-.21-.243-.447-.353-.331-.563a.738.738 0 0 1 .275.01c.09.02.173.058.245.11a.58.58 0 0 1 .169.188c.04.072.061.151.062.232l-.088.067c2.127-.956 4.973 1.706 6.669.41l-.099.068 1.763-.684c.817.1-.481.478.127.842 1.9-1.043 3.022.12 4.586-.574 1.243 1.793 4.327-.167 5.979.956l-.1-.42c.426-.421.52.234.835.33-.05-.33-.464-.378-.205-.613 3.598-.545 7.438.598 11.129.956 1.348.11.757-2.203 2.465-1.195l-.481.794c2.719-.956 5.564 0 8.233-.77-.154.182-.16.416-.425.416.552.574 2.083.034 2.094-.435.42.053.1.425.354.665.552.339 1.42-.732 1.718-.158.05.09-.16.186-.265.23.37-.278 1.719.076 1.365-.589 1 .32 1.917-.287 2.713.105.553-.736 1.713.364 1.884-.683-.077 1.08 1.752.875 2.387.377-.215.326.553.345.299.794.718 0 1.381-.206 1.265-.76 1.315 1.305 2.686-1.018 3.415.645a45.888 45.888 0 0 1 6.078-1.17c-.082 1.075-2.138.09-2.066 1.218 1.834-.425 2.906-1.343 4.719-1.066.47.153-.276.478-.437.65 1.835-.43 3.537.148 5.172-.42 0 .1-.182.21-.348.291.321-.033.741.167.713-.325l-.315.13c-.497-.718 1.304-1.468 1.365-1.841-.553 1.396 1.602.377.707 2.137a.73.73 0 0 0 .337-.263.58.58 0 0 0 .1-.383c.315.1.409.297.083.665 1.155-.254.757-.78 1.801-.75 0 .233-.221.324-.337.601.553-.478 1.078-.908 1.951-.697-.056.143.044.33-.216.325 1.509-.048 2.603-1.195 4.249-.722-.513 1.023.553.349.625 1.243l.895-.254-.348-.44c.785.034 1.492-.602 2.155-.296l-.591.354 1.47-.139-.824-.354c.807-.444-.055-1.132.978-.86-.21.086.785.029 1.177.56.398-.278.801-.57 1.376-.335.138.291-.149.984-.055 1.176.398-.736 1.834-.168 2.337-.956-.143.227-.192.49-.138.745l.337-.597c.359.2.409.296.337.669 1.105.134-.309-1.138.967-.626-.105.048-.055.138-.27.23 1.287.277 2.519-.335 3.702 0 .326.903-1.05.195-.669.955 1.724-.129 3.592-.999 5.25-.74l-.31-.106c.277-1.262 1.221.66 2.083.086-.21.086-.298.693-.237.555 1.105.234 2.343-.249 4.083-.603l-.226.32c.657.311 1.763.216 2.481.383.226-.315.641-.253.403-.731 2.166 1.912 4.305-.89 6.228.726-.238 0-.553.268-.387.273l1.702-.244c-.111-.554-.21-.34-.553-.784.124-.163.292-.298.489-.392.198-.094.419-.145.644-.148-.774.34-.028.884.287 1.205-.049-.173.072-.354.05-.526.846 1.008.199-1.11 1.376-.407l-.077.287c.458-.134.889-.478 1.37-.401.177.645-.492.282-.552.803.685 0 1.403-1.162 1.994-.507-.298.167-.718.158-1.016.325.641.77.729.583 1.221.717h-.044l1.138.378-.282-.21c.928-1.635 1.752-.25 2.951-1.3-1.166.994-.21.592-.332 1.309.288.21.724.454.586.65.553-.564.89.478 1.696-.34 0 .235.581.044.431.627.713-.163-.149-.411-.077-.703 1.133-.76 2.514 1.061 4.139.029 1.376-.397 1.658-1.171 2.94-1.515.403.392-.393.836-.393.836.267.161.581.255.906.27a1.97 1.97 0 0 0 .934-.184c-.138.196 0 .373.172.64.519-.038.386-.831 1.05-.477a3.24 3.24 0 0 1-.553.918c.619-.192 1.243-.603 1.884-.79.149.412-.409.603-.646.856.718-.153 1.851-.296 2.105-.927l-.442-.248c.26 0 .105.559-.094.669-.63.478-.862-.258-.884-.478l.459-.134c-.387-1.382-1.818.148-2.719.033l.431-.956-.973.784c-.182-.263-.287-.822.166-.956-.624-.516-.591.33-1.105-.239-.055-.086-.028-.134.033-.172l-.646.273c.132-.201-.072-.703.309-.545-1.105-.617-1.873.674-2.26-.096l.099-.057c-1.596.272-.193.721-1.414 1.534l-.713-1.83-.188.721c-.16-.033-.481-.1-.409-.387-.63.478.089.32-.287.78-.752-.699-2.172.229-2.293-.957-.31.545.729.478-.127.813-.183-1.258-.978.181-1.658-.416.254-.636.917-.273.226-.875-.486 1.076-1.386-.282-2-.096-.066.87-1.332.32-2.354.579.078-.292-1.89-.54-2.818-.885l.033-.148c-.221.87-1.182.674-1.901.832a.906.906 0 0 1 .132-.55c.102-.169.258-.31.449-.406h-.669a.979.979 0 0 1-.34.327 1.167 1.167 0 0 1-.478.151l.194-.65c-.885 0-1.813.712-2.94.244-.083.607.84 1.725-.381 2.103-.034-.335-.056-.899.27-1.028-.105.043-.381.263-.585.12l.502-.545c-.508-.258-.287.478-.701.397 0-.478-.293-.35-.221-.722.11-.038.359.205.525 0a1.931 1.931 0 0 1-.691-.264 1.649 1.649 0 0 1-.503-.487c.028.268-.028.636-.37.684-.89 0-.282-.574-.79-.832-.227.325-.78-.033-.824.674-.259 0-.293-.34-.387-.535-.469.3-2.149.033-1.657.793l.116.053s-.05 0-.078.033c-1.525.66-3.105-.478-4.608-.224V3.34c-.895.244-1.984.106-2.636.593a.711.711 0 0 1-.402-.28.553.553 0 0 1-.084-.442c-.691.158-.774.416-1.746 0 .701-.396-.221-.373.713-.287-.879-.224-1.067-.607-2.039 0 .342-.597-.641-.774-1.067-.602l.608.445c-.436.053-.88.039-1.31-.043l.254-.794c-1.784-1.004-3.315 1.578-4.647-.067-.497.545.973.411.553 1.052-.829-.124-1.658-1.286-1.929-1.29-1.132-.479-1.105 1.137-2.282.812a.818.818 0 0 1 .031.774.938.938 0 0 1-.264.323 1.11 1.11 0 0 1-.397.198c-.829-.124-.994-1.214-.464-1.434.205 0 .299.072.288.168.27-.096.629-.21.303-.526l-.116.282c-.403-.297-1.552-.292-1.271-.75-.635.257-.281.477.183.616-1.061-.435-1.658-.053-2.763-.344.171.162.326.478.155.478-1.608-.378-.724.526-1.824.636-.608-.445.249-1.033-.862-.684-.668-.306-.127-.755.149-.985-1.016.536-1.867-.387-2.442-.478l.553-.22a1.892 1.892 0 0 1-.846.12l.293.573c-.309-.105-.553-.11-.553-.348-.326.368.227.956-.42 1.434-.403-.297-1.265.286-1.392-.478 1.298.272-.127-.76.978-.866a1.102 1.102 0 0 1-.851.024c-.044-.086.044-.157.133-.2-1.233-.689-.592.846-1.879.807.171-.42-.287-.808-.497-.721.519 0 .237.712-.249 1.027-.823-.34-.906.235-1.337.187l.491.162c-.176.426-.585.364-1.165.478-.045-.33.524-.22.326-.368-.652.736-1.437-.793-2.338-.306-.409-.291-.027-.798-.387-.999-1.011.54-1.077-.588-2.133-.148.293.574.349.435-.403.985l1.735-.387-1.105.822c.525 0 1.105-.35 1.42-.249-.553.478-.481.316-.238.794-.701-.86-1.425.478-2.21-.1l.044-1.41c-1.232-.641-2.21.702-3.823.334l.513.248c-.221.56-.994.072-1.519.292.055-.478-.271-.645-.492-.956.028.349-1.177-.043-1.337.899l-.707-.627c-1.305-.267-1.503 1.33-2.763 1.157.381-.507-.183-.846.657-1.21-.414 0-.79-.095-.801.23-.276-.263-1.199.646-1.575.215-.182.206-.243.698-.713.655a.337.337 0 0 1 0-.234c0 .234-.735.31-.331.837-1.271-1.478-3.592.095-4.708-1.172-.936.165-1.883.277-2.835.335.05-.139 0-.234.16-.186-1.143-.44-.707 1.352-2.005.86-.664-.765.69-.411.276-.703-.171-1.553-1.564.21-2.437-.702l.21-.091c-.663-.555-1.608.564-2.713.454a.326.326 0 0 0 0-.234c-.746.784-2.155 1.051-3.205 1.271.326-.607.475-.32.276-.956-.47.091.138.99-.801 1.167-.304-.33-.984-.622-1.078-1.282l.89-.019c-.459-.85-1.149.034-1.613-.114l.055-.368c-1.36.124-1.376 1.06-2.835.999l.155.282c-.796.956-.674-.521-1.465.172l-.248-.956c-.871.453-1.797.82-2.763 1.094.552-.698 1.658-1.06 2.315-1.477-.519 0-1.774.072-2.044.54.21-.09.475-.325.685-.181a2.832 2.832 0 0 1-1.094.83 3.298 3.298 0 0 1-1.42.27c.171-1.832-2.713-.455-3.482-1.865-1.834.693-3.652-.258-5.796-.13.774 1.435-.625.049-.481 1.507-.497.1-.685.076-.729 0l-1.525-.86c-.365-.421.469-.326.42-.65-1.106-.106-.465-.618-1.194-1 .155.521-.37.75-1 .56l.901.659c-1.52.793-1.338-1.214-2.868-.43l.48-.478c-.79.277-2.917 0-3.674 1.204-.144-.167-.332-.564 0-.674-1.89-.148-4.183 1.31-5.664.612l.138-.358c-.348.105-.602.678-1.05.325 0-.148.138-.359 0-.378-.182.124-.923.64-1.392.44l.386-.411c-1.85-.44-2.807 1.023-4.343 1.29 0-1.051-1.475-1.376-2.21-1.53V.685c-2.15-.086-3.625.956-5.598 1.4-1.265-1.118-4.188-.392-6.194-.99.31.182 0 .818-.37.957-.475-.206-1.266.755-1.221-.21h.165c-.375-.957-1.326-.67-2.072-.675l-.083 1.267c-2.006-1.778-5.106.813-6.227-.803-.459.33-1.045.34-1.498.67v-.68a12.396 12.396 0 0 0-3.575 0l.31-.478c-.912 0-1.072 1.98-1.912 2.042l-.288-1c-1.591.053-3.232-.774-4.763.192 0-.148.055-.445.31-.478-.746 0-2.918-.588-2.587.788-.06-.903-1.657-.038-2.48.388l.104-.689c-.685.875-.701 1.11-1.696 1.377-.243-.076-.238-.526.088-.368-.812-.32-.59.655-1.574.33l.342-.435c-.823-.029-.746.2-1.177.707-.503.287-1.564-.114-1.713-.712-.094.368-.52.875-1.011.717a.38.38 0 0 1 .013-.245.442.442 0 0 1 .164-.2c-1.393-.406-2 .851-2.973.235a.553.553 0 0 0-.182-.392 9.431 9.431 0 0 1 1.89.028c0-.616-.912-.688-.255-1.563-.685.478-1.845 1.54-2.713 1.286a.84.84 0 0 1-.1-.215l.061-.072a.668.668 0 0 0-.295 0 .61.61 0 0 0-.257.125 1.992 1.992 0 0 0-.718-.158c-.128-.507-1.023-.234-1.465-.244.072.67-.508.583.06 1.119-.07-.048.078-.086.366-.125a.528.528 0 0 0 .188-.076l-.028.062c.287-.033.663-.062 1.105-.09-.332.358-.68.654-1.183.3-.204.445-.43.894-.552 1.11-.647-.914-1.83-1.377-2.022-1.946-1.321.43-3.145.368-3.918 1.663-.376.177-.459-.344-.614-.535.216-.139.476-.13.586-.316-.74.354-2.249.216-2.381 1.105-.984-.364.491-.837-.818-.636l.166-.277c-2.675-1.291-4.09 2.433-7.068.755.204.105.304.148.354.296-3.316-.645-6.709 1.038-10.018-.062-.94-.205-1 .359-1.531.818l-.249-.713-.906.88c-1.315.679-2.47-1.65-4.117-.411l.254.478c-.624-.058-1.939.387-1.873-.177-.055.09-.166.516-.425.272l-.044-.372-1.487.712c-1.199-.215.078-1.506-1.658-1.492C.895 5.105-.22 6.114.04 6.362c.178.01.347.073.478.179a.645.645 0 0 1 .24.4l-.558.225C.17 8.279-.194 9.44 1.304 10.144l.917-.732.36.521-.818.1c.513.479.784 0 1.105-.305.07.225.233.42.458.55l.907-1.114c.149.43-.376.884.292 1.094.426-.516-.502-.956.233-1.314.513.478.403.898.933.44a.447.447 0 0 1 .012.336.525.525 0 0 1-.233.27c.476-.367 1.304-.214 1.525-.817.553.598 1.658-.248 1.691.808.29-.433.74-.77 1.277-.956-.752 1.3 1.724 0 1.591 1.348.553-1.162 2.21-.617 3.255-1.3-.055.095-.16.282-.265.23.624.061.823.391 1.237.592 0-.956.967-1.195 1.448-1.797.812.87-.392 1.118-.1 1.974-.082-.755 1.272-.813.973-1.434.614.53.514.248.862 1.008.028-1.17.553-.22.962-.956.873.54.282 1.086 1.182.689.453.354-.342.808-.342.808Zm21.793-2.93-.447.057.447-.058Zm1.818-.091a7.552 7.552 0 0 0-.801 0c-.072-.23 0-.478.171-.478-.083.186.348.305.63.478Zm-4.128-4.49c.288-.109.393 0 .442.159-.172.02-.343.053-.508.1v.081a.973.973 0 0 1 .066-.34Z"},null,-1)])))])]))}});var La={};(function t(e,i,r,n){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",s=function(){if(!e.OffscreenCanvas)return!1;var _=new OffscreenCanvas(1,1),v=_.getContext("2d");v.fillRect(0,0,1,1);var M=_.transferToImageBitmap();try{v.createPattern(M,"no-repeat")}catch{return!1}return!0}();function u(){}function l(_){var v=i.exports.Promise,M=v!==void 0?v:e.Promise;return typeof M=="function"?new M(_):(_(u,u),null)}var c=function(_,v){return{transform:function(M){if(_)return M;if(v.has(M))return v.get(M);var z=new OffscreenCanvas(M.width,M.height),G=z.getContext("2d");return G.drawImage(M,0,0),v.set(M,z),z},clear:function(){v.clear()}}}(s,new Map),f=function(){var _=Math.floor(16.666666666666668),v,M,z={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(v=function(U){var Y=Math.random();return z[Y]=requestAnimationFrame(function V(W){G===W||G+_-1<W?(G=W,delete z[Y],U()):z[Y]=requestAnimationFrame(V)}),Y},M=function(U){z[U]&&cancelAnimationFrame(z[U])}):(v=function(U){return setTimeout(U,_)},M=function(U){return clearTimeout(U)}),{frame:v,cancel:M}}(),h=function(){var _,v,M={};function z(G){function U(Y,V){G.postMessage({options:Y||{},callback:V})}G.init=function(V){var W=V.transferControlToOffscreen();G.postMessage({canvas:W},[W])},G.fire=function(V,W,se){if(v)return U(V,null),v;var pe=Math.random().toString(36).slice(2);return v=l(function(ae){function ce(me){me.data.callback===pe&&(delete M[pe],G.removeEventListener("message",ce),v=null,c.clear(),se(),ae())}G.addEventListener("message",ce),U(V,pe),M[pe]=ce.bind(null,{data:{callback:pe}})}),v},G.reset=function(){G.postMessage({reset:!0});for(var V in M)M[V](),delete M[V]}}return function(){if(_)return _;if(!r&&o){var G=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{_=new Worker(URL.createObjectURL(new Blob([G])))}catch(U){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",U),null}z(_)}return _}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(_,v){return v?v(_):_}function b(_){return _!=null}function g(_,v,M){return m(_&&b(_[v])?_[v]:p[v],M)}function I(_){return _<0?0:Math.floor(_)}function x(_,v){return Math.floor(Math.random()*(v-_))+_}function O(_){return parseInt(_,16)}function re(_){return _.map(J)}function J(_){var v=String(_).replace(/[^0-9a-f]/gi,"");return v.length<6&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]),{r:O(v.substring(0,2)),g:O(v.substring(2,4)),b:O(v.substring(4,6))}}function ve(_){var v=g(_,"origin",Object);return v.x=g(v,"x",Number),v.y=g(v,"y",Number),v}function A(_){_.width=document.documentElement.clientWidth,_.height=document.documentElement.clientHeight}function E(_){var v=_.getBoundingClientRect();_.width=v.width,_.height=v.height}function ge(_){var v=document.createElement("canvas");return v.style.position="fixed",v.style.top="0px",v.style.left="0px",v.style.pointerEvents="none",v.style.zIndex=_,v}function B(_,v,M,z,G,U,Y,V,W){_.save(),_.translate(v,M),_.rotate(U),_.scale(z,G),_.arc(0,0,1,Y,V,W),_.restore()}function ie(_){var v=_.angle*(Math.PI/180),M=_.spread*(Math.PI/180);return{x:_.x,y:_.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:_.startVelocity*.5+Math.random()*_.startVelocity,angle2D:-v+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:_.color,shape:_.shape,tick:0,totalTicks:_.ticks,decay:_.decay,drift:_.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:_.gravity*3,ovalScalar:.6,scalar:_.scalar,flat:_.flat}}function D(_,v){v.x+=Math.cos(v.angle2D)*v.velocity+v.drift,v.y+=Math.sin(v.angle2D)*v.velocity+v.gravity,v.velocity*=v.decay,v.flat?(v.wobble=0,v.wobbleX=v.x+10*v.scalar,v.wobbleY=v.y+10*v.scalar,v.tiltSin=0,v.tiltCos=0,v.random=1):(v.wobble+=v.wobbleSpeed,v.wobbleX=v.x+10*v.scalar*Math.cos(v.wobble),v.wobbleY=v.y+10*v.scalar*Math.sin(v.wobble),v.tiltAngle+=.1,v.tiltSin=Math.sin(v.tiltAngle),v.tiltCos=Math.cos(v.tiltAngle),v.random=Math.random()+2);var M=v.tick++/v.totalTicks,z=v.x+v.random*v.tiltCos,G=v.y+v.random*v.tiltSin,U=v.wobbleX+v.random*v.tiltCos,Y=v.wobbleY+v.random*v.tiltSin;if(_.fillStyle="rgba("+v.color.r+", "+v.color.g+", "+v.color.b+", "+(1-M)+")",_.beginPath(),a&&v.shape.type==="path"&&typeof v.shape.path=="string"&&Array.isArray(v.shape.matrix))_.fill(we(v.shape.path,v.shape.matrix,v.x,v.y,Math.abs(U-z)*.1,Math.abs(Y-G)*.1,Math.PI/10*v.wobble));else if(v.shape.type==="bitmap"){var V=Math.PI/10*v.wobble,W=Math.abs(U-z)*.1,se=Math.abs(Y-G)*.1,pe=v.shape.bitmap.width*v.scalar,ae=v.shape.bitmap.height*v.scalar,ce=new DOMMatrix([Math.cos(V)*W,Math.sin(V)*W,-Math.sin(V)*se,Math.cos(V)*se,v.x,v.y]);ce.multiplySelf(new DOMMatrix(v.shape.matrix));var me=_.createPattern(c.transform(v.shape.bitmap),"no-repeat");me.setTransform(ce),_.globalAlpha=1-M,_.fillStyle=me,_.fillRect(v.x-pe/2,v.y-ae/2,pe,ae),_.globalAlpha=1}else if(v.shape==="circle")_.ellipse?_.ellipse(v.x,v.y,Math.abs(U-z)*v.ovalScalar,Math.abs(Y-G)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI):B(_,v.x,v.y,Math.abs(U-z)*v.ovalScalar,Math.abs(Y-G)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI);else if(v.shape==="star")for(var Q=Math.PI/2*3,be=4*v.scalar,xe=8*v.scalar,Re=v.x,De=v.y,mt=5,Ke=Math.PI/mt;mt--;)Re=v.x+Math.cos(Q)*xe,De=v.y+Math.sin(Q)*xe,_.lineTo(Re,De),Q+=Ke,Re=v.x+Math.cos(Q)*be,De=v.y+Math.sin(Q)*be,_.lineTo(Re,De),Q+=Ke;else _.moveTo(Math.floor(v.x),Math.floor(v.y)),_.lineTo(Math.floor(v.wobbleX),Math.floor(G)),_.lineTo(Math.floor(U),Math.floor(Y)),_.lineTo(Math.floor(z),Math.floor(v.wobbleY));return _.closePath(),_.fill(),v.tick<v.totalTicks}function H(_,v,M,z,G){var U=v.slice(),Y=_.getContext("2d"),V,W,se=l(function(pe){function ae(){V=W=null,Y.clearRect(0,0,z.width,z.height),c.clear(),G(),pe()}function ce(){r&&!(z.width===n.width&&z.height===n.height)&&(z.width=_.width=n.width,z.height=_.height=n.height),!z.width&&!z.height&&(M(_),z.width=_.width,z.height=_.height),Y.clearRect(0,0,z.width,z.height),U=U.filter(function(me){return D(Y,me)}),U.length?V=f.frame(ce):ae()}V=f.frame(ce),W=ae});return{addFettis:function(pe){return U=U.concat(pe),se},canvas:_,promise:se,reset:function(){V&&f.cancel(V),W&&W()}}}function ee(_,v){var M=!_,z=!!g(v||{},"resize"),G=!1,U=g(v,"disableForReducedMotion",Boolean),Y=o&&!!g(v||{},"useWorker"),V=Y?h():null,W=M?A:E,se=_&&V?!!_.__confetti_initialized:!1,pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function ce(Q,be,xe){for(var Re=g(Q,"particleCount",I),De=g(Q,"angle",Number),mt=g(Q,"spread",Number),Ke=g(Q,"startVelocity",Number),Zl=g(Q,"decay",Number),Ql=g(Q,"gravity",Number),ec=g(Q,"drift",Number),za=g(Q,"colors",re),tc=g(Q,"ticks",Number),Ua=g(Q,"shapes"),nc=g(Q,"scalar"),rc=!!g(Q,"flat"),Ka=ve(Q),Ga=Re,zi=[],ic=_.width*Ka.x,oc=_.height*Ka.y;Ga--;)zi.push(ie({x:ic,y:oc,angle:De,spread:mt,startVelocity:Ke,color:za[Ga%za.length],shape:Ua[x(0,Ua.length)],ticks:tc,decay:Zl,gravity:Ql,drift:ec,scalar:nc,flat:rc}));return ae?ae.addFettis(zi):(ae=H(_,zi,W,be,xe),ae.promise)}function me(Q){var be=U||g(Q,"disableForReducedMotion",Boolean),xe=g(Q,"zIndex",Number);if(be&&pe)return l(function(Ke){Ke()});M&&ae?_=ae.canvas:M&&!_&&(_=ge(xe),document.body.appendChild(_)),z&&!se&&W(_);var Re={width:_.width,height:_.height};V&&!se&&V.init(_),se=!0,V&&(_.__confetti_initialized=!0);function De(){if(V){var Ke={getBoundingClientRect:function(){if(!M)return _.getBoundingClientRect()}};W(Ke),V.postMessage({resize:{width:Ke.width,height:Ke.height}});return}Re.width=Re.height=null}function mt(){ae=null,z&&(G=!1,e.removeEventListener("resize",De)),M&&_&&(document.body.contains(_)&&document.body.removeChild(_),_=null,se=!1)}return z&&!G&&(G=!0,e.addEventListener("resize",De,!1)),V?V.fire(Q,Re,mt):ce(Q,Re,mt)}return me.reset=function(){V&&V.reset(),ae&&ae.reset()},me}var he;function Z(){return he||(he=ee(null,{useWorker:!0,resize:!0})),he}function we(_,v,M,z,G,U,Y){var V=new Path2D(_),W=new Path2D;W.addPath(V,new DOMMatrix(v));var se=new Path2D;return se.addPath(W,new DOMMatrix([Math.cos(Y)*G,Math.sin(Y)*G,-Math.sin(Y)*U,Math.cos(Y)*U,M,z])),se}function Ie(_){if(!a)throw new Error("path confetti are not supported in this browser");var v,M;typeof _=="string"?v=_:(v=_.path,M=_.matrix);var z=new Path2D(v),G=document.createElement("canvas"),U=G.getContext("2d");if(!M){for(var Y=1e3,V=Y,W=Y,se=0,pe=0,ae,ce,me=0;me<Y;me+=2)for(var Q=0;Q<Y;Q+=2)U.isPointInPath(z,me,Q,"nonzero")&&(V=Math.min(V,me),W=Math.min(W,Q),se=Math.max(se,me),pe=Math.max(pe,Q));ae=se-V,ce=pe-W;var be=10,xe=Math.min(be/ae,be/ce);M=[xe,0,0,xe,-Math.round(ae/2+V)*xe,-Math.round(ce/2+W)*xe]}return{type:"path",path:v,matrix:M}}function st(_){var v,M=1,z="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof _=="string"?v=_:(v=_.text,M="scalar"in _?_.scalar:M,G="fontFamily"in _?_.fontFamily:G,z="color"in _?_.color:z);var U=10*M,Y=""+U+"px "+G,V=new OffscreenCanvas(U,U),W=V.getContext("2d");W.font=Y;var se=W.measureText(v),pe=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),ae=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),ce=2,me=se.actualBoundingBoxLeft+ce,Q=se.actualBoundingBoxAscent+ce;pe+=ce+ce,ae+=ce+ce,V=new OffscreenCanvas(pe,ae),W=V.getContext("2d"),W.font=Y,W.fillStyle=z,W.fillText(v,me,Q);var be=1/M;return{type:"bitmap",bitmap:V.transferToImageBitmap(),matrix:[be,0,0,be,-pe*be/2,-ae*be/2]}}i.exports=function(){return Z().apply(this,arguments)},i.exports.reset=function(){Z().reset()},i.exports.create=ee,i.exports.shapeFromPath=Ie,i.exports.shapeFromText=st})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),La,!1);const cv=La.exports;La.exports.create;const fv=R({__name:"confetti",setup(t){return Se(()=>cv({particleCount:100,spread:170,origin:{y:.6}})),()=>{}}});/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},xr=function(e){return e.tagName==="IMG"},dv=function(e){return NodeList.prototype.isPrototypeOf(e)},Fr=function(e){return e&&e.nodeType===1},Ya=function(e){var i=e.currentSrc||e.src;return i.substr(-4).toLowerCase()===".svg"},Xa=function(e){try{return Array.isArray(e)?e.filter(xr):dv(e)?[].slice.call(e).filter(xr):Fr(e)?[e].filter(xr):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(xr):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},hv=function(e){var i=document.createElement("div");return i.classList.add("medium-zoom-overlay"),i.style.background=e,i},pv=function(e){var i=e.getBoundingClientRect(),r=i.top,n=i.left,o=i.width,a=i.height,s=e.cloneNode(),u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return s.removeAttribute("id"),s.style.position="absolute",s.style.top=r+u+"px",s.style.left=n+l+"px",s.style.width=o+"px",s.style.height=a+"px",s.style.transform="",s},Gt=function(e,i){var r=wt({bubbles:!1,cancelable:!1,detail:void 0},i);if(typeof window.CustomEvent=="function")return new CustomEvent(e,r);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),n},vv=function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(D){function H(){}D(H,H)},n=function(D){var H=D.target;if(H===ge){m();return}O.indexOf(H)!==-1&&b({target:H})},o=function(){if(!(J||!E.original)){var D=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ve-D)>A.scrollOffset&&setTimeout(m,150)}},a=function(D){var H=D.key||D.keyCode;(H==="Escape"||H==="Esc"||H===27)&&m()},s=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=D;if(D.background&&(ge.style.background=D.background),D.container&&D.container instanceof Object&&(H.container=wt({},A.container,D.container)),D.template){var ee=Fr(D.template)?D.template:document.querySelector(D.template);H.template=ee}return A=wt({},A,H),O.forEach(function(he){he.dispatchEvent(Gt("medium-zoom:update",{detail:{zoom:B}}))}),B},u=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(wt({},A,D))},l=function(){for(var D=arguments.length,H=Array(D),ee=0;ee<D;ee++)H[ee]=arguments[ee];var he=H.reduce(function(Z,we){return[].concat(Z,Xa(we))},[]);return he.filter(function(Z){return O.indexOf(Z)===-1}).forEach(function(Z){O.push(Z),Z.classList.add("medium-zoom-image")}),re.forEach(function(Z){var we=Z.type,Ie=Z.listener,st=Z.options;he.forEach(function(_){_.addEventListener(we,Ie,st)})}),B},c=function(){for(var D=arguments.length,H=Array(D),ee=0;ee<D;ee++)H[ee]=arguments[ee];E.zoomed&&m();var he=H.length>0?H.reduce(function(Z,we){return[].concat(Z,Xa(we))},[]):O;return he.forEach(function(Z){Z.classList.remove("medium-zoom-image"),Z.dispatchEvent(Gt("medium-zoom:detach",{detail:{zoom:B}}))}),O=O.filter(function(Z){return he.indexOf(Z)===-1}),B},f=function(D,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(he){he.addEventListener("medium-zoom:"+D,H,ee)}),re.push({type:"medium-zoom:"+D,listener:H,options:ee}),B},h=function(D,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(he){he.removeEventListener("medium-zoom:"+D,H,ee)}),re=re.filter(function(he){return!(he.type==="medium-zoom:"+D&&he.listener.toString()===H.toString())}),B},p=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=D.target,ee=function(){var Z={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},we=void 0,Ie=void 0;if(A.container)if(A.container instanceof Object)Z=wt({},Z,A.container),we=Z.width-Z.left-Z.right-A.margin*2,Ie=Z.height-Z.top-Z.bottom-A.margin*2;else{var st=Fr(A.container)?A.container:document.querySelector(A.container),_=st.getBoundingClientRect(),v=_.width,M=_.height,z=_.left,G=_.top;Z=wt({},Z,{width:v,height:M,left:z,top:G})}we=we||Z.width-A.margin*2,Ie=Ie||Z.height-A.margin*2;var U=E.zoomedHd||E.original,Y=Ya(U)?we:U.naturalWidth||we,V=Ya(U)?Ie:U.naturalHeight||Ie,W=U.getBoundingClientRect(),se=W.top,pe=W.left,ae=W.width,ce=W.height,me=Math.min(Math.max(ae,Y),we)/ae,Q=Math.min(Math.max(ce,V),Ie)/ce,be=Math.min(me,Q),xe=(-pe+(we-ae)/2+A.margin+Z.left)/be,Re=(-se+(Ie-ce)/2+A.margin+Z.top)/be,De="scale("+be+") translate3d("+xe+"px, "+Re+"px, 0)";E.zoomed.style.transform=De,E.zoomedHd&&(E.zoomedHd.style.transform=De)};return new r(function(he){if(H&&O.indexOf(H)===-1){he(B);return}var Z=function v(){J=!1,E.zoomed.removeEventListener("transitionend",v),E.original.dispatchEvent(Gt("medium-zoom:opened",{detail:{zoom:B}})),he(B)};if(E.zoomed){he(B);return}if(H)E.original=H;else if(O.length>0){var we=O;E.original=we[0]}else{he(B);return}if(E.original.dispatchEvent(Gt("medium-zoom:open",{detail:{zoom:B}})),ve=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,J=!0,E.zoomed=pv(E.original),document.body.appendChild(ge),A.template){var Ie=Fr(A.template)?A.template:document.querySelector(A.template);E.template=document.createElement("div"),E.template.appendChild(Ie.content.cloneNode(!0)),document.body.appendChild(E.template)}if(E.original.parentElement&&E.original.parentElement.tagName==="PICTURE"&&E.original.currentSrc&&(E.zoomed.src=E.original.currentSrc),document.body.appendChild(E.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),E.original.classList.add("medium-zoom-image--hidden"),E.zoomed.classList.add("medium-zoom-image--opened"),E.zoomed.addEventListener("click",m),E.zoomed.addEventListener("transitionend",Z),E.original.getAttribute("data-zoom-src")){E.zoomedHd=E.zoomed.cloneNode(),E.zoomedHd.removeAttribute("srcset"),E.zoomedHd.removeAttribute("sizes"),E.zoomedHd.removeAttribute("loading"),E.zoomedHd.src=E.zoomed.getAttribute("data-zoom-src"),E.zoomedHd.onerror=function(){clearInterval(st),console.warn("Unable to reach the zoom image target "+E.zoomedHd.src),E.zoomedHd=null,ee()};var st=setInterval(function(){E.zoomedHd.complete&&(clearInterval(st),E.zoomedHd.classList.add("medium-zoom-image--opened"),E.zoomedHd.addEventListener("click",m),document.body.appendChild(E.zoomedHd),ee())},10)}else if(E.original.hasAttribute("srcset")){E.zoomedHd=E.zoomed.cloneNode(),E.zoomedHd.removeAttribute("sizes"),E.zoomedHd.removeAttribute("loading");var _=E.zoomedHd.addEventListener("load",function(){E.zoomedHd.removeEventListener("load",_),E.zoomedHd.classList.add("medium-zoom-image--opened"),E.zoomedHd.addEventListener("click",m),document.body.appendChild(E.zoomedHd),ee()})}else ee()})},m=function(){return new r(function(D){if(J||!E.original){D(B);return}var H=function ee(){E.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(E.zoomed),E.zoomedHd&&document.body.removeChild(E.zoomedHd),document.body.removeChild(ge),E.zoomed.classList.remove("medium-zoom-image--opened"),E.template&&document.body.removeChild(E.template),J=!1,E.zoomed.removeEventListener("transitionend",ee),E.original.dispatchEvent(Gt("medium-zoom:closed",{detail:{zoom:B}})),E.original=null,E.zoomed=null,E.zoomedHd=null,E.template=null,D(B)};J=!0,document.body.classList.remove("medium-zoom--opened"),E.zoomed.style.transform="",E.zoomedHd&&(E.zoomedHd.style.transform=""),E.template&&(E.template.style.transition="opacity 150ms",E.template.style.opacity=0),E.original.dispatchEvent(Gt("medium-zoom:close",{detail:{zoom:B}})),E.zoomed.addEventListener("transitionend",H)})},b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=D.target;return E.original?m():p({target:H})},g=function(){return A},I=function(){return O},x=function(){return E.original},O=[],re=[],J=!1,ve=0,A=i,E={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?A=e:(e||typeof e=="string")&&l(e),A=wt({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},A);var ge=hv(A.background);document.addEventListener("click",n),document.addEventListener("keyup",a),document.addEventListener("scroll",o),window.addEventListener("resize",m);var B={open:p,close:m,toggle:b,update:s,clone:u,attach:l,detach:c,on:f,off:h,getOptions:g,getImages:I,getZoomedImage:x};return B};function yv(t,e){e===void 0&&(e={});var i=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",i==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var gv=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";yv(gv);const mv=R({setup(){globalThis!=null&&globalThis.document&&(rv(),nv());const{Layout:t}=Mu;Ht();const{viewportHeight:e}=ev(),i=zr("(min-width: 960px)"),r=F(()=>i.value?e.value<700:!0),n=zt(),o=()=>{vv(".main img",{background:"var(--vp-c-bg)"})};return Se(()=>{o()}),Be(()=>n.path,()=>Ai(()=>o())),()=>$(t,null,{"doc-after":()=>$(le,null,[$(Qp,{isShow:!r.value},null),$(Nu,null,null)]),"home-features-after":()=>$(le,null,[$(Bu,null,null),$(ju,null,null),$(fv,null,null)])})}});var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fu={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new n(c,f||u,h),m=i?i+l:l;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],p]:u._events[m].push(p):(u._events[m]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=i?i+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(l){var c=i?i+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,p,m){var b=i?i+l:l;if(!this._events[b])return!1;var g=this._events[b],I=arguments.length,x,O;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),I){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,p),!0;case 6:return g.fn.call(g.context,c,f,h,p,m),!0}for(O=1,x=new Array(I-1);O<I;O++)x[O-1]=arguments[O];g.fn.apply(g.context,x)}else{var re=g.length,J;for(O=0;O<re;O++)switch(g[O].once&&this.removeListener(l,g[O].fn,void 0,!0),I){case 1:g[O].fn.call(g[O].context);break;case 2:g[O].fn.call(g[O].context,c);break;case 3:g[O].fn.call(g[O].context,c,f);break;case 4:g[O].fn.call(g[O].context,c,f,h);break;default:if(!x)for(J=1,x=new Array(I-1);J<I;J++)x[J-1]=arguments[J];g[O].fn.apply(g[O].context,x)}}return!0},s.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var p=i?i+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var b=0,g=[],I=m.length;b<I;b++)(m[b].fn!==c||h&&!m[b].once||f&&m[b].context!==f)&&g.push(m[b]);g.length?this._events[p]=g.length===1?g[0]:g:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=i?i+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s})(Fu);var Hu=Fu.exports;const Vu=Mi(Hu);var ho=JSON.parse('"3.0.0-alpha.138"'),_v=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,Ki={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},Gi="%c[xgplayer]",K={config:{debug:_v?3:1},logInfo:function(e){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.config.debug>=3&&(i=console).log.apply(i,[Gi,Ki.info,e].concat(n))},logWarn:function(e){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.config.debug>=1&&(i=console).warn.apply(i,[Gi,Ki.warn,e].concat(n))},logError:function(e){var i;if(!(this.config.debug<1)){for(var r=this.config.debug>=2?"trace":"error",n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(i=console)[r].apply(i,[Gi,Ki.error,e].concat(o))}}};function wv(t){t.logInfo=K.logInfo.bind(t),t.logWarn=K.logWarn.bind(t),t.logError=K.logError.bind(t)}function mr(t){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}function Pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sv(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ov(r.key),r)}}function kv(t,e,i){return e&&Sv(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ov(t){var e=Tv(t,"string");return mr(e)==="symbol"?e:String(e)}function Tv(t,e){if(mr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(mr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ev=function(){function t(e){Pv(this,t),this.bufferedList=e}return kv(t,[{key:"start",value:function(i){return this.bufferedList[i].start}},{key:"end",value:function(i){return this.bufferedList[i].end}},{key:"length",get:function(){return this.bufferedList.length}}]),t}();function Cv(t){return $v(t)||Rv(t)||xv(t)||Iv()}function Iv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(t,e){if(t){if(typeof t=="string")return po(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return po(t,e)}}function Rv(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $v(t){if(Array.isArray(t))return po(t)}function po(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function xt(t){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(t)}var d={};d.createDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",n=document.createElement(t);return n.className=r,n.innerHTML=e,Object.keys(i).forEach(function(o){var a=o,s=i[o];t==="video"||t==="audio"||t==="live-video"?s&&n.setAttribute(a,s):n.setAttribute(a,s)}),n};d.createDomFromHtml=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var r=document.createElement("div");r.innerHTML=t;var n=r.children;return r=null,n.length>0?(n=n[0],i&&d.addClass(n,i),e&&Object.keys(e).forEach(function(o){n.setAttribute(o,e[o])}),n):null}catch(o){return K.logError("util.createDomFromHtml",o),null}};d.hasClass=function(t,e){if(!t||!e)return!1;try{return Array.prototype.some.call(t.classList,function(r){return r===e})}catch{var i=t.className&&xt(t.className)==="object"?t.getAttribute("class"):t.className;return i&&!!i.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}};d.addClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&t.classList.add(i)})}catch{d.hasClass(t,e)||(t.className&&xt(t.className)==="object"?t.setAttribute("class",t.getAttribute("class")+" "+e):t.className+=" "+e)}};d.removeClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&t.classList.remove(i)})}catch{d.hasClass(t,e)&&e.split(/\s+/g).forEach(function(r){var n=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className&&xt(t.className)==="object"?t.setAttribute("class",t.getAttribute("class").replace(n," ")):t.className=t.className.replace(n," ")})}};d.toggleClass=function(t,e){t&&e.split(/\s+/g).forEach(function(i){d.hasClass(t,i)?d.removeClass(t,i):d.addClass(t,i)})};d.classNames=function(){for(var t=arguments,e=[],i=function(o){d.typeOf(t[o])==="String"?e.push(t[o]):d.typeOf(t[o])==="Object"&&Object.keys(t[o]).map(function(a){t[o][a]&&e.push(a)})},r=0;r<arguments.length;r++)i(r);return e.join(" ")};d.findDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0,i;try{i=t.querySelector(e)}catch(r){K.logError("util.findDom",r),e.indexOf("#")===0&&(i=t.getElementById(e.slice(1)))}return i};d.getCss=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,!1)[e]};d.padStart=function(t,e,i){for(var r=String(i),n=e>>0,o=Math.ceil(n/r.length),a=[],s=String(t);o--;)a.push(r);return a.join("").substring(0,n-s.length)+s};d.format=function(t){if(window.isNaN(t))return"";t=Math.round(t);var e=d.padStart(Math.floor(t/3600),2,0),i=d.padStart(Math.floor((t-e*3600)/60),2,0),r=d.padStart(Math.floor(t-e*3600-i*60),2,0);return(e==="00"?[i,r]:[e,i,r]).join(":")};d.event=function(t){if(t.touches){var e=t.touches[0]||t.changedTouches[0];t.clientX=e.clientX||0,t.clientY=e.clientY||0,t.offsetX=e.pageX-e.target.offsetLeft,t.offsetY=e.pageY-e.target.offsetTop}t._target=t.target||t.srcElement};d.typeOf=function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]};d.deepCopy=function(t,e){if(d.typeOf(e)==="Object"&&d.typeOf(t)==="Object")return Object.keys(e).forEach(function(i){d.typeOf(e[i])==="Object"&&!(e[i]instanceof Node)?t[i]===void 0||t[i]===void 0?t[i]=e[i]:d.deepCopy(t[i],e[i]):d.typeOf(e[i])==="Array"?t[i]=d.typeOf(t[i])==="Array"?t[i].concat(e[i]):e[i]:t[i]=e[i]}),t};d.deepMerge=function(t,e){return Object.keys(e).map(function(i){if(d.typeOf(e[i])==="Array"&&d.typeOf(t[i])==="Array"){if(d.typeOf(t[i])==="Array"){var r;(r=t[i]).push.apply(r,Cv(e[i]))}}else d.typeOf(t[i])===d.typeOf(e[i])&&t[i]!==null&&d.typeOf(t[i])==="Object"&&!(e[i]instanceof window.Node)?d.deepMerge(t[i],e[i]):e[i]!==null&&(t[i]=e[i])}),t};d.getBgImage=function(t){var e=(t.currentStyle||window.getComputedStyle(t,null)).backgroundImage;if(!e||e==="none")return"";var i=document.createElement("a");return i.href=e.replace(/url\("|"\)/g,""),i.href};d.copyDom=function(t){if(t&&t.nodeType===1){var e=document.createElement(t.tagName);return Array.prototype.forEach.call(t.attributes,function(i){e.setAttribute(i.name,i.value)}),t.innerHTML&&(e.innerHTML=t.innerHTML),e}else return""};d.setInterval=function(t,e,i,r){t._interval[e]||(t._interval[e]=window.setInterval(i.bind(t),r))};d.clearInterval=function(t,e){clearInterval(t._interval[e]),t._interval[e]=null};d.setTimeout=function(t,e,i){t._timers||(t._timers=[]);var r=setTimeout(function(){e(),d.clearTimeout(t,r)},i);return t._timers.push(r),r};d.clearTimeout=function(t,e){var i=t._timers;if(d.typeOf(i)==="Array"){for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),clearTimeout(e);break}}else clearTimeout(e)};d.clearAllTimers=function(t){var e=t._timers;d.typeOf(e)==="Array"&&(e.map(function(i){clearTimeout(i)}),t._timerIds=[])};d.createImgBtn=function(t,e,i,r){var n=d.createDom("xg-".concat(t),"",{},"xgplayer-".concat(t,"-img"));if(n.style.backgroundImage='url("'.concat(e,'")'),i&&r){var o,a,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(u){return i.indexOf(u)>-1&&r.indexOf(u)>-1?(o=parseFloat(i.slice(0,i.indexOf(u)).trim()),a=parseFloat(r.slice(0,r.indexOf(u)).trim()),s=u,!1):!0}),n.style.width="".concat(o).concat(s),n.style.height="".concat(a).concat(s),n.style.backgroundSize="".concat(o).concat(s," ").concat(a).concat(s),t==="start"?n.style.margin="-".concat(a/2).concat(s," auto auto -").concat(o/2).concat(s):n.style.margin="auto 5px auto 5px"}return n};d.Hex2RGBA=function(t,e){var i=[];if(/^\#[0-9A-F]{3}$/i.test(t)){var r="#";t.replace(/[0-9A-F]/ig,function(n){r+=n+n}),t=r}return/^#[0-9A-F]{6}$/i.test(t)?(t.replace(/[0-9A-F]{2}/ig,function(n){i.push(parseInt(n,16))}),"rgba(".concat(i.join(","),", ").concat(e,")")):"rgba(255, 255, 255, 0.1)"};d.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};d.checkIsFunction=function(t){return t&&typeof t=="function"};d.checkIsObject=function(t){return t!==null&&xt(t)==="object"};d.hide=function(t){t.style.display="none"};d.show=function(t,e){t.style.display=e||"block"};d.isUndefined=function(t){if(typeof t>"u"||t===null)return!0};d.setStyleFromCsstext=function(t,e){if(e)if(d.typeOf(e)==="String"){var i=e.replace(/\s+/g,"").split(";");i.map(function(r){if(r){var n=r.split(":");n.length>1&&(t.style[n[0]]=n[1])}})}else Object.keys(e).map(function(r){t.style[r]=e[r]})};function Lv(t,e){for(var i=0,r=e.length;i<r;i++)if(t.indexOf(e[i])>-1)return!0;return!1}d.filterStyleFromText=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=t.style.cssText;if(!i)return{};var r=i.replace(/\s+/g,"").split(";"),n={},o={};return r.map(function(a){if(a){var s=a.split(":");s.length>1&&(Lv(s[0],e)?n[s[0]]=s[1]:o[s[0]]=s[1])}}),t.setAttribute("style",""),Object.keys(o).map(function(a){t.style[a]=o[a]}),n};d.getStyleFromCsstext=function(t){var e=t.style.cssText;if(!e)return{};var i=e.replace(/\s+/g,"").split(";"),r={};return i.map(function(n){if(n){var o=n.split(":");o.length>1&&(r[o[0]]=o[1])}}),r};d.preloadImg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(t){var r=new window.Image;r.onload=function(n){r=null,e&&e(n)},r.onerror=function(n){r=null,i&&i(n)},r.src=t}};d.stopPropagation=function(t){t&&(t.stopPropagation(),t.cancelable&&t.preventDefault())};d.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};d.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};d.checkTouchSupport=function(){return"ontouchstart"in window};d.getBuffered2=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=[],r=0;r<t.length;r++)i.push({start:t.start(r)<.5?0:t.start(r),end:t.end(r)});i.sort(function(u,l){var c=u.start-l.start;return c||l.end-u.end});var n=[];if(e)for(var o=0;o<i.length;o++){var a=n.length;if(a){var s=n[a-1].end;i[o].start-s<e?i[o].end>s&&(n[a-1].end=i[o].end):n.push(i[o])}else n.push(i[o])}else n=i;return new Ev(n)};d.getBufferByCurrentTime=function(t,e){var i={start:0,end:0,include:0,diff:0,cur:e};if(!t||t.length<1)return i;for(var r=-1,n=-1,o=parseInt(e*1e3,10),a=t.length-1;a>-1;a--){var s=parseInt(t.start(a)*1e3,10),u=parseInt(t.end(a)*1e3,10);if(o>=s&&o<=u){i.include=1,i.start=s/1e3,i.end=u/1e3,i.diff=(u-o)/1e3;break}else o<s&&(r<0||s-o<r)?(r=(s-o)/1e3,n=a):o>u&&(r<0||o-u<r)&&(r=(o-u)/1e3,n=a)}return i.include!==1&&(n<0&&(n=t.length-1),i.start=parseInt(t.start(n)*1e3,10)/1e3,i.end=parseInt(t.end(n)*1e3,10)/1e3,i.diff=(parseInt(i.end*1e3,10)-o)/1e3),i};d.getEventPos=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.touches&&t.touches.length>0&&(t=t.touches[0]),{x:t.x/e,y:t.y/e,clientX:t.clientX/e,clientY:t.clientY/e,offsetX:t.offsetX/e,offsetY:t.offsetY/e,pageX:t.pageX/e,pageY:t.pageY/e}};d.requestAnimationFrame=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return e(t)};d.getHostFromUrl=function(t){if(d.typeOf(t)!=="String")return"";var e=t.split("/"),i="";return e.length>3&&e[2]&&(i=e[2]),i};d.cancelAnimationFrame=function(t){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;e&&e(t)};d.isMSE=function(t){return t.media&&(t=t.media),!t||!(t instanceof HTMLMediaElement)?!1:/^blob/.test(t.currentSrc)||/^blob/.test(t.src)};d.isBlob=function(t){return typeof t=="string"&&/^blob/.test(t)};d.generateSessionId=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=new Date().getTime();try{t=parseInt(t)}catch{t=0}e+=t,window.performance&&typeof window.performance.now=="function"&&(e+=parseInt(window.performance.now()));var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?n:n&3|8).toString(16)});return i};d.adjustTimeByDuration=function(t,e,i){return!e||!t?t:t>e||i&&t<e?e:t};d.getTransformStyle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i={scale:"".concat(t.scale||1),translate:"".concat(t.x||0,"%, ").concat(t.y||0,"%"),rotate:"".concat(t.rotate||0,"deg")},r=Object.keys(i);return r.forEach(function(n){var o=new RegExp("".concat(n,"\\([^\\(]+\\)"),"g"),a="".concat(n,"(").concat(i[n],")");o.test(e)?(o.lastIndex=-1,e=e.replace(o,a)):e+="".concat(a," ")}),e};d.convertDeg=function(t){return Math.abs(t)<=1?t*360:t%360};function zu(t){var e=xt(t);return t!==null&&(e==="object"||e==="function")}function Av(t,e,i){var r,n,o,a,s,u,l=0,c=!1,f=!1,h=!0,p=!e&&e!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0,zu(i)&&(c=!!i.leading,f="maxWait"in i,o=f?Math.max(+i.maxWait||0,e):o,h="trailing"in i?!!i.trailing:h);function m(B){var ie=r,D=n;return r=n=void 0,l=B,a=t.apply(D,ie),a}function b(B,ie){return p?(window.cancelAnimationFrame(s),window.requestAnimationFrame(B)):setTimeout(B,ie)}function g(B){if(p)return window.cancelAnimationFrame(B);clearTimeout(B)}function I(B){return l=B,s=b(re,e),c?m(B):a}function x(B){var ie=B-u,D=B-l,H=e-ie;return f?Math.min(H,o-D):H}function O(B){var ie=B-u,D=B-l;return u===void 0||ie>=e||ie<0||f&&D>=o}function re(){var B=Date.now();if(O(B))return J(B);s=b(re,x(B))}function J(B){return s=void 0,h&&r?m(B):(r=n=void 0,a)}function ve(){s!==void 0&&g(s),l=0,r=u=n=s=void 0}function A(){return s===void 0?a:J(Date.now())}function E(){return s!==void 0}function ge(){for(var B=Date.now(),ie=O(B),D=arguments.length,H=new Array(D),ee=0;ee<D;ee++)H[ee]=arguments[ee];if(r=H,n=this,u=B,ie){if(s===void 0)return I(u);if(f)return s=b(re,e),m(u)}return s===void 0&&(s=b(re,e)),a}return ge.cancel=ve,ge.flush=A,ge.pending=E,ge}function Dv(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError("Expected a function");return zu(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),Av(t,e,{leading:r,trailing:n,maxWait:e})}function Mv(){var t=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return t==="zh-cn"&&(t="zh"),t}function Nv(t,e,i){if(t){var r=t.getAttribute(i);return!!(r&&r===e&&(t.tagName==="VIDEO"||t.tagName==="AUDIO"))}}function jv(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Bv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qa={1:"network",2:"network",3:"decoder",4:"format"},Kr=jv(function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null,src:null};Bv(this,t);var r=e&&e.i18n?e.i18n.ERROR_TYPES:null;if(e!=null&&e.video){var n=i.mediaError?i.mediaError:e.video.error||{},o=e.duration,a=e.currentTime,s=e.ended,u=e.src,l=e.currentSrc,c=e.video,f=c.readyState,h=c.networkState,p={playerVersion:ho,domain:document.domain,currentTime:a,duration:o,ended:s,readyState:f,networkState:h,src:i.src||u||l,errorType:i.errorType,errorCode:i.errorCode||n.code,message:i.errorMessage||n.message,mediaError:n,originError:i.originError?i.originError.stack:"",host:d.getHostFromUrl(u||l)};return i.ext&&Object.keys(i.ext).map(function(I){p[I]=i.ext[I]}),p}else if(arguments.length>1){for(var m={playerVersion:ho,domain:document.domain},b=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],g=0;g<arguments.length;g++)m[b[g]]=arguments[g];return m.ex=r?(r[arguments[0]]||{}).msg:"",m}}),Ue="play",Aa="playing",gt="ended",Ut="pause",Ni="error",Da="seeking",it="seeked",Ve="timeupdate",Ir="waiting",ot="canplay",Fv="canplaythrough",er="durationchange",Uu="volumechange",ln="loadeddata",Hv="loadedmetadata",Ku="ratechange",Gu="progress",ji="loadstart",tr="emptied",Vv="stalled",zv="suspend",Uv="abort",Kv="bufferedChange",Ma="focus",Wu="blur",Na="ready",Yu="urlNull",Ct="autoplay_started",ja="autoplay_was_prevented",Bi="complete",Gr="replay",Ba="destroy",Fi="urlchange",vo="download_speed_change",an="buffer_control",ft="fullscreen_change",Wr="cssFullscreen_change",Yr="mini_state_change",Fa="definition_change",Gv="before_definition_change",yo="after_definition_change",Wv="SEI_PARSED",Yv="retry",cn="video_resize",go="pip_change",Xu="rotate",qu="screenShot",Xr="playnext",Ju="shortcut",Zu="xglog",qr="user_action",Hi="reset",Qu="source_error",el="source_success",Xv="switch_subtitle",tl=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],nl={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},rl="fps_stuck",qv="degrade";const Jv=Object.freeze(Object.defineProperty({__proto__:null,ABORT:Uv,AFTER_DEFINITION_CHANGE:yo,AUTOPLAY_PREVENTED:ja,AUTOPLAY_STARTED:Ct,BEFORE_DEFINITION_CHANGE:Gv,BUFFER_CHANGE:Kv,BUFFER_CONTROLS:an,CANPLAY:ot,CANPLAY_THROUGH:Fv,COMPLETE:Bi,CSS_FULLSCREEN_CHANGE:Wr,DEFINITION_CHANGE:Fa,DEGRADE:qv,DESTROY:Ba,DOWNLOAD_SPEED_CHANGE:vo,DURATION_CHANGE:er,EMPTIED:tr,ENDED:gt,ERROR:Ni,FPS_STUCK:rl,FULLSCREEN_CHANGE:ft,LOADED_DATA:ln,LOADED_METADATA:Hv,LOAD_START:ji,MINI_STATE_CHANGE:Yr,PAUSE:Ut,PIP_CHANGE:go,PLAY:Ue,PLAYER_BLUR:Wu,PLAYER_FOCUS:Ma,PLAYING:Aa,PLAYNEXT:Xr,PROGRESS:Gu,RATE_CHANGE:Ku,READY:Na,REPLAY:Gr,RESET:Hi,RETRY:Yv,ROTATE:Xu,SCREEN_SHOT:qu,SEEKED:it,SEEKING:Da,SEI_PARSED:Wv,SHORTCUT:Ju,SOURCE_ERROR:Qu,SOURCE_SUCCESS:el,STALLED:Vv,STATS_EVENTS:nl,SUSPEND:zv,SWITCH_SUBTITLE:Xv,TIME_UPDATE:Ve,URL_CHANGE:Fi,URL_NULL:Yu,USER_ACTION:qr,VIDEO_EVENTS:tl,VIDEO_RESIZE:cn,VOLUME_CHANGE:Uu,WAITING:Ir,XGLOG:Zu},Symbol.toStringTag,{value:"Module"}));var Ja={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},Zv=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],X={get device(){var t=X.os;return t.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var t=navigator.userAgent.toLowerCase(),e={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(e).filter(function(i){return e[i].test(t)}))[0]},get os(){if(typeof navigator>"u")return{};var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),i=/(?:SymbianOS)/.test(t)||e,r=/(?:Android)/.test(t),n=/(?:Firefox)/.test(t),o=/(?:iPad|PlayBook)/.test(t)||r&&!/(?:Mobile)/.test(t)||n&&/(?:Tablet)/.test(t),a=/(?:iPhone)/.test(t)&&!o,s=!a&&!r&&!i&&!o,u=/(?:iPad|PlayBook)/.test(t);return{isTablet:o,isPhone:a,isIpad:u,isIos:a||u,isAndroid:r,isPc:s,isSymbian:i,isWindowsPhone:e,isFireFox:n}},get osVersion(){if(typeof navigator>"u")return 0;var t=navigator.userAgent,e="";/(?:iPhone)|(?:iPad|PlayBook)/.test(t)?e=Ja.ios:e=Ja.android;var i=e?e.exec(t):[];if(i&&i.length>=3){var r=i[2].split(".");return r.length>0?parseInt(r[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var t=/(micromessenger)\/([\d.]+)/,e=t.exec(navigator.userAgent.toLocaleLowerCase());return!!e},isSupportMP4:function(){var e={isSupport:!1,mime:""};if(typeof document>"u")return e;if(this.supportResult)return this.supportResult;var i=document.createElement("video");return typeof i.canPlayType=="function"&&Zv.map(function(r){i.canPlayType('video/mp4; codecs="'.concat(r,'"'))==="probably"&&(e.isSupport=!0,e.mime+="||".concat(r))}),this.supportResult=e,i=null,e},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(e){var i={supported:!1,smooth:!1,powerEfficient:!1};if(!e||typeof navigator>"u")return Promise.resolve(i);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var r=e.video||{},n=e.audio||{};try{var o=MediaSource.isTypeSupported(r.contentType),a=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:o&&a,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(i)}}};function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}function Qv(t,e,i){return e=il(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ey(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ty(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,il(r.key),r)}}function ny(t,e,i){return e&&ty(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function il(t){var e=ry(t,"string");return fn(e)==="symbol"?e:String(e)}function ry(t,e){if(fn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dt(){return typeof Reflect<"u"&&Reflect.get?dt=Reflect.get.bind():dt=function(e,i,r){var n=iy(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dt.apply(this,arguments)}function iy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=qe(t),t!==null););return t}function oy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mo(t,e)}function ay(t){var e=ly();return function(){var r=qe(t),n;if(e){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sy(this,n)}}function sy(t,e){if(e&&(fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uy(t)}function uy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ly(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qe(t){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},qe(t)}function Wi(t,e){!this||!this.emit||(t==="error"?this.errorHandler(t,e.error):this.emit(t,e))}function cy(t,e){var i="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return e[i]&&typeof e[i]=="function"&&e.on(t,e[i]),function(r,n){var o=t,a={player:e,eventName:o,originalEvent:r,detail:r.detail||{},timeStamp:r.timeStamp,currentTime:e.currentTime,duration:e.duration,paused:e.paused,ended:e.ended,isInternalOp:!!e._internalOp[r.type],muted:e.muted,volume:e.volume,host:d.getHostFromUrl(e.currentSrc),vtype:e.vtype};if(e.removeInnerOP(r.type),o==="timeupdate"&&(e._currentTime=e.video&&e.video.currentTime),o==="ratechange"){var s=e.video?e.video.playbackRate:0;if(s&&e._rate===s)return;e._rate=e.video&&e.video.playbackRate}if(o==="durationchange"&&(e._duration=e.video.duration),o==="volumechange"&&(a.isMutedChange=e._lastMuted!==e.muted,e._lastMuted=e.muted),o==="error"&&(a.error=n||e.video.error),e.videoEventMiddleware[t]){var u=Wi.bind(e,t,a);try{e.videoEventMiddleware[t].call(e,a,u)}catch(l){throw Wi.call(e,o,a),l}}else Wi.call(e,o,a)}}var fy=function(t){oy(i,t);var e=ay(i);function i(r){var n;ey(this,i),n=e.call(this,r),n._hasStart=!1,n._currentTime=0,n._duration=0,n._internalOp={},n._lastMuted=!1,n.vtype=r.vtype||"MP4",n.bizType=typeof r.bizType=="number"&&r.bizType>=0?r.bizType:0,n._rate=-1,n.videoConfig=Object.assign({},{controls:!1,autoplay:r.autoplay,playsinline:r.playsinline,"x5-playsinline":r.playsinline,"webkit-playsinline":r.playsinline,"x5-video-player-fullscreen":r["x5-video-player-fullscreen"]||r.x5VideoPlayerFullscreen,"x5-video-orientation":r["x5-video-orientation"]||r.x5VideoOrientation,airplay:r.airplay,"webkit-airplay":r.airplay,tabindex:r.tabindex|0,mediaType:r.mediaType||"video","data-index":-1},r.videoConfig,r.videoAttributes);var o=r["x5-video-player-type"]||r.x5VideoPlayerType;return X.isWeixin&&X.os.isAndroid&&o&&(n.videoConfig["x5-video-player-type"]=o,delete n.videoConfig.playsinline,delete n.videoConfig["webkit-playsinline"],delete n.videoConfig["x5-playsinline"]),r.loop&&(n.videoConfig.loop="loop"),n.video=d.createDom(n.videoConfig.mediaType,"",n.videoConfig,""),r.defaultPlaybackRate&&(n.video.defaultPlaybackRate=n.video.playbackRate=r.defaultPlaybackRate),d.typeOf(r.volume)==="Number"&&(n.volume=r.volume),r.autoplayMuted&&(n.video.muted=!0,n._lastMuted=!0),r.autoplay&&(n.video.autoplay=!0),n._interval={},n.videoEventMiddleware={},n.attachVideoEvents(),n}return ny(i,[{key:"setEventsMiddleware",value:function(n){var o=this;Object.keys(n).map(function(a){o.videoEventMiddleware[a]=n[a]})}},{key:"removeEventsMiddleware",value:function(n){var o=this;Object.keys(n).map(function(a){delete o.videoEventMiddleware[a]})}},{key:"attachVideoEvents",value:function(n){var o=this;this.evHandlers||(this._evHandlers=tl.map(function(a){return Qv({},a,cy(a,o))})),n||(n=this.video),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];n.addEventListener(s,a[s],!1)})}},{key:"detachVideoEvents",value:function(n){n||(n=this.video),this._evHandlers.map(function(o){var a=Object.keys(o)[0];n.removeEventListener(Object.keys(o)[0],o[a],!1)})}},{key:"_attachSourceEvents",value:function(n,o){var a=this;n.removeAttribute("src"),n.load(),n.removeEventListener("loadeddata",this._vLoadeddata),o.forEach(function(f){a.video.appendChild(d.createDom("source","",{src:"".concat(f.src),type:"".concat(f.type||"")}))});var s=n.children;if(s){this._videoSourceCount=s.length,this._vLoadeddata=function(f){a.emit(el,{src:f.target.currentSrc,host:d.getHostFromUrl(f.target.currentSrc)})};for(var u=null,l=0;l<this._evHandlers.length;l++)if(Object.keys(this._evHandlers[l])[0]==="error"){u=this._evHandlers[l];break}!this._sourceError&&(this._sourceError=function(f){if(a._videoSourceCount--,a._videoSourceCount===0){var h={code:4,message:"sources_load_error"};u?u.error(f,h):a.errorHandler("error",h)}var p=qa[4];a.emit(Qu,new Kr(a,{errorType:p,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:f.target.src}))});for(var c=0;c<s.length;c++)s[c].addEventListener("error",this._sourceError);n.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(n){var o=n.children;if(!(!o||o.length===0||!this._sourceError)){for(var a=0;a<o.length;a++)o[a].removeEventListener("error",this._sourceError);for(;o.length>0;)n.removeChild(o[0]);this._vLoadeddata&&n.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.video&&(this.video.error||o)){var a=this.video.error||o,s=a.code?qa[a.code]:"other",u=a.message||"";this.video.currentSrc||(u="empty_src_".concat(a.message),a={code:6,message:u}),this.emit(n,new Kr(this,{errorType:s,errorCode:a.code,errorMessage:a.message||"",mediaError:a}))}}},{key:"hasStart",get:function(){return this._hasStart},set:function(n){typeof n=="boolean"&&(this._hasStart=n,this.emit("hasstart"))}},{key:"destroy",value:function(){var n=this;this.video&&(this.video.pause&&(this.video.pause(),this.video.muted=!0),this.video.removeAttribute("src"),this.video.load()),this._currentTime=0,this._duration=0,this._hasStart=!1,this.videoConfig=null;for(var o in this._interval)Object.prototype.hasOwnProperty.call(this._interval,o)&&(clearInterval(this._interval[o]),this._interval[o]=null);this.detachVideoEvents(),this._evHandlers.map(function(a){var s=Object.keys(a)[0],u="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));typeof n[u]=="function"&&n.off(s,n[u])}),this._evHandlers=null,this.video=null,this.videoEventMiddleware={},this.removeAllListeners()}},{key:"play",value:function(){var n=this.video?this.video.play():null;return n}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"load",value:function(){this.video&&this.video.load()}},{key:"canPlayType",value:function(n){return this.video?this.video.canPlayType(n):!1}},{key:"getBufferedRange",value:function(n){var o=[0,0];if(!this.video)return o;n||(n=this.video.buffered);var a=this.video.currentTime;if(n)for(var s=0,u=n.length;s<u&&(o[0]=n.start(s),o[1]=n.end(s),!(o[0]<=a&&a<=o[1]));s++);return o[0]-a<=0&&a-o[1]<=0?o:[0,0]}},{key:"autoplay",get:function(){return this.video?this.video.autoplay:!1},set:function(n){this.video&&(this.video.autoplay=n)}},{key:"buffered",get:function(){return this.video?this.video.buffered:null}},{key:"buffered2",get:function(){return this.video?d.getBuffered2(this.video.buffered):null}},{key:"bufferedPoint",get:function(){var n={start:0,end:0};if(!this.video)return n;var o=this.video.buffered;if(!o||o.length===0)return n;for(var a=0;a<o.length;a++)if((o.start(a)<=this.currentTime||o.start(a)<.1)&&o.end(a)>=this.currentTime)return{start:o.start(a),end:o.end(a)};return n}},{key:"crossOrigin",get:function(){return this.video?this.video.crossOrigin:""},set:function(n){this.video&&(this.video.crossOrigin=n)}},{key:"currentSrc",get:function(){return this.video?this.video.currentSrc:""},set:function(n){this.video&&(this.video.currentSrc=n)}},{key:"currentTime",get:function(){return this.video?this.video.currentTime!==void 0?this.video.currentTime:this._currentTime:0},set:function(n){this.video&&(this.video.currentTime=n)}},{key:"defaultMuted",get:function(){return this.video?this.video.defaultMuted:!1},set:function(n){this.video&&(this.video.defaultMuted=n)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.video?this.video.ended:!1}},{key:"error",get:function(){if(!this.video||!this.video.error)return null;var n=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return n[this.video.error.code-1]}},{key:"loop",get:function(){return this.video?this.video.loop:!1},set:function(n){this.video&&(this.video.loop=n)}},{key:"muted",get:function(){return this.video?this.video.muted:!1},set:function(n){!this.video||this.video.muted===n||(this._lastMuted=this.video.muted,this.video.muted=n)}},{key:"networkState",get:function(){return this.video?this.video.networkState:0}},{key:"paused",get:function(){return this.video?this.video.paused:!0}},{key:"playbackRate",get:function(){return this.video?this.video.playbackRate:0},set:function(n){!this.video||n===1/0||(this.video.defaultPlaybackRate=n,this.video.playbackRate=n)}},{key:"played",get:function(){return this.video?this.video.played:null}},{key:"preload",get:function(){return this.video?this.video.preload:!1},set:function(n){this.video&&(this.video.preload=n)}},{key:"readyState",get:function(){return this.video?this.video.readyState:0}},{key:"seekable",get:function(){return this.video?this.video.seekable:!1}},{key:"seeking",get:function(){return this.video?this.video.seeking:!1}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(n){this.video.src=n}},{key:"volume",get:function(){return this.video?this.video.volume:0},set:function(n){n===1/0||!this.video||(this.video.volume=n)}},{key:"addInnerOP",value:function(n){this._internalOp[n]=!0}},{key:"removeInnerOP",value:function(n){delete this._internalOp[n]}},{key:"emit",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=dt(qe(i.prototype),"emit",this)).call.apply(a,[this,n,o].concat(u))}},{key:"on",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=dt(qe(i.prototype),"on",this)).call.apply(a,[this,n,o].concat(u))}},{key:"once",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=dt(qe(i.prototype),"once",this)).call.apply(a,[this,n,o].concat(u))}},{key:"off",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=dt(qe(i.prototype),"off",this)).call.apply(a,[this,n,o].concat(u))}},{key:"offAll",value:function(){dt(qe(i.prototype),"removeAllListeners",this).call(this)}}]),i}(Vu);function br(t){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}function dy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vy(r.key),r)}}function py(t,e,i){return e&&hy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vy(t){var e=yy(t,"string");return br(e)==="symbol"?e:String(e)}function yy(t,e){if(br(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(br(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gy=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};dy(this,t),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return py(t,[{key:"openDB",value:function(i){var r=this,n=this,o=this.myDB.version||1,a=n.indexedDB.open(n.myDB.name,o);a.onerror=function(s){},a.onsuccess=function(s){r.myDB.db=s.target.result,i.call(n)},a.onupgradeneeded=function(s){var u=s.target.result;s.target.transaction,u.objectStoreNames.contains(n.myDB.ojstore.name)||u.createObjectStore(n.myDB.ojstore.name,{keyPath:n.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var i=this;i.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(i,r){for(var n=this.myDB.db.transaction(i,"readwrite").objectStore(i),o,a=0;a<r.length;a++)o=n.add(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"putData",value:function(i,r){for(var n=this.myDB.db.transaction(i,"readwrite").objectStore(i),o,a=0;a<r.length;a++)o=n.put(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"getDataByKey",value:function(i,r,n){var o=this,a=this.myDB.db.transaction(i,"readwrite").objectStore(i),s=a.get(r);s.onerror=function(){n.call(o,null)},s.onsuccess=function(u){var l=u.target.result;n.call(o,l)}}},{key:"deleteData",value:function(i,r){var n=this.myDB.db.transaction(i,"readwrite").objectStore(i);n.delete(r)}},{key:"clearData",value:function(i){var r=this.myDB.db.transaction(i,"readwrite").objectStore(i);r.clear()}}]),t}(),Za=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Qa=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],es=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],Pt="data-xgplayerid",ol={BUFFER_CONTROLS:"buffer_control"},bo={PLAYING:"playing",WAITING:"waiting"};function my(t){return Py(t)||wy(t)||_y(t)||by()}function by(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _y(t,e){if(t){if(typeof t=="string")return _o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _o(t,e)}}function wy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Py(t){if(Array.isArray(t))return _o(t)}function _o(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Rr(t,e,i){for(var r=arguments.length,n=new Array(r>3?r-3:0),o=3;o<r;o++)n[o-3]=arguments[o];var a=e.call.apply(e,[t].concat(n));!i||typeof i!="function"||(a&&a.then?a.then(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.call.apply(i,[t].concat(u))}):i.call.apply(i,[t].concat(n)))}function Jr(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[t]&&(this.__hooks[t]=null),(function(){var r=arguments,n=this;if(i.pre)try{var o;(o=i.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(t,":pre error] >> ").concat(u.message),u}if(this.__hooks&&this.__hooks[t])try{var a,s=(a=this.__hooks[t]).call.apply(a,[this,this].concat(Array.prototype.slice.call(arguments)));s?s.then?s.then(function(u){u!==!1&&Rr.apply(void 0,[n,e,i.next].concat(my(r)))}).catch(function(u){throw u}):Rr.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments))):s===void 0&&Rr.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(t,"] >> ").concat(u.message),u}else Rr.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function Zr(t,e){var i=this.__hooks;if(i)return i.hasOwnProperty(t)?(i&&(i[t]=e),!0):(console.warn("has no supported hook which name [".concat(t,"]")),!1)}function Qr(t,e){var i=this.__hooks;i&&delete i[t]}function ts(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){for(var e=this.plugins[t.toLowerCase()],i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e.useHooks&&e.useHooks.apply(e,r)}}function ns(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){var e=this.plugins[t.toLowerCase()];if(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e.removeHooks&&e.removeHooks.apply(e,r)}}}function al(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.__hooks={},e&&e.map(function(i){t.__hooks[i]=null}),Object.defineProperty(t,"hooks",{get:function(){return t.__hooks&&Object.keys(t.__hooks).map(function(r){if(t.__hooks[r])return r})}})}function sl(t){t.__hooks=null}function nt(t,e,i){for(var r=arguments.length,n=new Array(r>3?r-3:0),o=3;o<r;o++)n[o-3]=arguments[o];if(t.__hooks&&t.__hooks[e]){var a,s=(a=t.__hooks[e]).call.apply(a,[t,t].concat(n));if(s&&s.then)s.then(function(u){return u===!1?null:i.call.apply(i,[t,t].concat(n))}).catch(function(u){console.warn("[runHooks]".concat(e," reject"),u.message)});else if(s!==!1)return i.call.apply(i,[t,t].concat(n))}else return i.call.apply(i,[t,t].concat(n))}function _r(t){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(t)}function rs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function is(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rs(Object(i),!0).forEach(function(r){Sy(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rs(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Sy(t,e,i){return e=ul(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ky(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function os(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ul(r.key),r)}}function Oy(t,e,i){return e&&os(t.prototype,e),i&&os(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ul(t){var e=Ty(t,"string");return _r(e)==="symbol"?e:String(e)}function Ty(t,e){if(_r(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(_r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yi(t,e){K.logError("[".concat(t,"] event or callback cant be undefined or null when call ").concat(e))}var Rt=function(){function t(e){ky(this,t),d.checkIsFunction(this.beforeCreate)&&this.beforeCreate(e),al(this),this.__args=e,this.__events={},this.__onceEvents={},this.config=e.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(e)}return Oy(t,[{key:"beforeCreate",value:function(i){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(i){this.player=i.player,this.playerConfig=i.player&&i.player.config,this.pluginName=i.pluginName?i.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=i.player&&i.player.logger}},{key:"updateLang",value:function(i){i||(i=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var i=d.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(i=this.playerConfig.domEventType),i}},{key:"on",value:function(i,r){var n=this;if(!i||!r||!this.player){Yi(this.pluginName,"plugin.on(event, callback)");return}typeof i=="string"?(this.__events[i]=r,this.player.on(i,r)):Array.isArray(i)&&i.forEach(function(o){n.__events[o]=r,n.player.on(o,r)})}},{key:"once",value:function(i,r){var n=this;if(!i||!r||!this.player){Yi(this.pluginName,"plugin.once(event, callback)");return}typeof i=="string"?(this.__onceEvents[i]=r,this.player.once(i,r)):Array.isArray(i)&&i.forEach(function(o){n.__onceEvents[o]=r,n.player.once(i,r)})}},{key:"off",value:function(i,r){var n=this;if(!i||!r||!this.player){Yi(this.pluginName,"plugin.off(event, callback)");return}typeof i=="string"?(delete this.__events[i],this.player.off(i,r)):Array.isArray(i)&&i.forEach(function(o){delete n.__events[i],n.player.off(o,r)})}},{key:"offAll",value:function(){var i=this;["__events","__onceEvents"].forEach(function(r){Object.keys(i[r]).forEach(function(n){i[r][n]&&i.off(n,i[r][n]),n&&delete i[r][n]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(i){var r;if(this.player){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(r=this.player).emit.apply(r,[i].concat(o))}}},{key:"emitUserAction",value:function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var o=is(is({},n),{},{pluginName:this.pluginName});this.player.emitUserAction(i,r,o)}}},{key:"hook",value:function(i,r){return Jr.call.apply(Jr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(i,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Zr.call.apply(Zr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(i,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Qr.call.apply(Qr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return n&&(r.pluginName=n),this.player.registerPlugin({plugin:i,options:r})}},{key:"getPlugin",value:function(i){return this.player?this.player.getPlugin(i):null}},{key:"__destroy",value:function(){var i=this,r=this.player,n=this.pluginName;this.offAll(),d.clearAllTimers(this),d.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(o){i[o]=null}),r.unRegisterPlugin(n),sl(this)}}],[{key:"defineGetterOrSetter",value:function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&Object.defineProperty(i,n,r[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),t}(),Ey=9;if(typeof Element<"u"&&!Element.prototype.matches){var Wt=Element.prototype;Wt.matches=Wt.matchesSelector||Wt.mozMatchesSelector||Wt.msMatchesSelector||Wt.oMatchesSelector||Wt.webkitMatchesSelector}function Cy(t,e){for(;t&&t.nodeType!==Ey;){if(typeof t.matches=="function"&&t.matches(e))return t;t=t.parentNode}}var Iy=Cy,xy=Iy;function Xi(t,e,i,r,n){var o=$y.apply(this,arguments);return t.addEventListener(i,o,n),{destroy:function(){t.removeEventListener(i,o,n)}}}function Ry(t,e,i,r,n){return typeof t.addEventListener=="function"?Xi.apply(null,arguments):typeof i=="function"?Xi.bind(null,document).apply(null,arguments):(typeof t=="string"&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(o){return Xi(o,e,i,r,n)}))}function $y(t,e,i,r){return function(n){n.delegateTarget=xy(n.target,e),n.delegateTarget&&r.call(t,n)}}var Ly=Ry;const as=Mi(Ly);function Ay(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ss(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,My(r.key),r)}}function Dy(t,e,i){return e&&ss(t.prototype,e),i&&ss(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function My(t){var e=Ny(t,"string");return ze(e)==="symbol"?e:String(e)}function Ny(t,e){if(ze(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ze(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sn(){return typeof Reflect<"u"&&Reflect.get?sn=Reflect.get.bind():sn=function(e,i,r){var n=jy(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sn.apply(this,arguments)}function jy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=vt(t),t!==null););return t}function By(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wo(t,e)}function wo(t,e){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wo(t,e)}function Fy(t){var e=zy();return function(){var r=vt(t),n;if(e){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hy(this,n)}}function Hy(t,e){if(e&&(ze(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vy(t)}function Vy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},vt(t)}function ze(t){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(t)}var Uy={CONTROLS:"controls",ROOT:"root"},de={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},us={ICON_DISABLE:"xg-icon-disable",ICON_HIDE:"xg-icon-hide"};function qi(t){return t?t.indexOf&&/^(?:http|data:|\/)/.test(t):!1}function Ky(t,e){return ze(t)==="object"&&t.class&&typeof t.class=="string"?"".concat(e," ").concat(t.class):e}function Gy(t,e){return ze(t)==="object"&&t.attr&&ze(t.attr)==="object"&&Object.keys(t.attr).map(function(i){e[i]=t.attr[i]}),e}function ls(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=null;if(t instanceof window.Element)return d.addClass(t,i),Object.keys(r).map(function(a){t.setAttribute(a,r[a])}),t;if(qi(t)||qi(t.url))return r.src=qi(t)?t:t.url||"",o=d.createDom(t.tag||"img","",r,"xg-img ".concat(i)),o;if(typeof t=="function")try{return o=t(),o instanceof window.Element?(d.addClass(o,i),Object.keys(r).map(function(a){o.setAttribute(a,r[a])}),o):(K.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(n,"] is a function mast return an Element Object")),null)}catch(a){return K.logError("Plugin named [".concat(n,"]:createIcon"),a),null}return typeof t=="string"?d.createDomFromHtml(t,r,i):(K.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(n,"] is invalid")),null)}function Wy(t,e){var i=e.config.icons||e.playerConfig.icons;Object.keys(t).map(function(r){var n=t[r],o=n&&n.class?n.class:"",a=n&&n.attr?n.attr:{},s=null;i&&i[r]&&(o=Ky(i[r],o),a=Gy(i[r],a),s=ls(i[r],r,o,a,e.pluginName)),!s&&n&&(s=ls(n.icon?n.icon:n,a,o,{},e.pluginName)),e.icons[r]=s})}function Yy(t,e){Object.keys(t).map(function(i){Object.defineProperty(e.langText,i,{get:function(){var n=e.lang,o=e.i18n;return o[i]?o[i]:t[i]&&t[i][n]||""}})})}var oe=function(t){By(i,t);var e=Fy(i);function i(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ay(this,i),r=e.call(this,n),r.__delegates=[],r}return Dy(i,[{key:"__init",value:function(n){if(sn(vt(i.prototype),"__init",this).call(this,n),!!n.root){var o=n.root,a=null;this.icons={},this.root=null,this.parent=null;var s=this.registerIcons()||{};Wy(s,this),this.langText={};var u=this.registerLanguageTexts()||{};Yy(u,this);var l="";try{l=this.render()}catch(h){throw K.logError("Plugin:".concat(this.pluginName,":render"),h),new Error("Plugin:".concat(this.pluginName,":render:").concat(h.message))}if(l)a=i.insert(l,o,n.index),a.setAttribute("data-index",n.index);else if(n.tag)a=d.createDom(n.tag,"",n.attr,n.name),a.setAttribute("data-index",n.index),o.appendChild(a);else return;this.root=a,this.parent=o;var c=this.config.attr||{},f=this.config.style||{};this.setAttr(c),this.setStyle(f),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var n=this;if(this.root){this._children=[];var o=this.children();o&&ze(o)==="object"&&Object.keys(o).length>0&&Object.keys(o).map(function(a){var s=a,u=o[s],l={root:n.root},c,f;typeof u=="function"?(c=n.config[s]||{},f=u):ze(u)==="object"&&typeof u.plugin=="function"&&(c=u.options?d.deepCopy(n.config[s]||{},u.options):n.config[s]||{},f=u.plugin),l.config=c,c.index!==void 0&&(l.index=c.index),c.root&&(l.root=c.root),n.registerPlugin(f,l,s)})}}},{key:"updateLang",value:function(n){n||(n=this.lang);function o(l,c){for(var f=0;f<l.children.length;f++)l.children[f].children.length>0?o(l.children[f],c):c(l.children[f])}var a=this.root,s=this.i18n,u=this.langText;a&&o(a,function(l){var c=l.getAttribute&&l.getAttribute("lang-key");if(c){var f=s[c.toUpperCase()]||u[c];f&&(l.innerHTML=typeof f=="function"?f(n):f)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=this.i18n||{},s=this.langText;n.setAttribute&&n.setAttribute("lang-key",o);var u=a[o]||s[o]||"";u&&(n.innerHTML=u)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,d.addClass(this.find(".xgplayer-icon"),us.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,d.removeClass(this.find(".xgplayer-icon"),us.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";o.root=o.root||this.root;var s=sn(vt(i.prototype),"registerPlugin",this).call(this,n,o,a);return this._children.push(s),s}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(n){if(this.root)return this.root.querySelector(n)}},{key:"bind",value:function(n,o,a){var s=this;if(arguments.length<3&&typeof o=="function")Array.isArray(n)?n.forEach(function(l){s.bindEL(l,o)}):this.bindEL(n,o);else{var u=i.delegate.call(this,this.root,n,o,a);this.__delegates=this.__delegates.concat(u)}}},{key:"unbind",value:function(n,o){var a=this;if(arguments.length<3&&typeof o=="function")Array.isArray(n)?n.forEach(function(l){a.unbindEL(l,o)}):this.unbindEL(n,o);else for(var s="".concat(n,"_").concat(o),u=0;u<this.__delegates.length;u++)if(this.__delegates[u].key===s){this.__delegates[u].destroy(),this.__delegates.splice(u,1);break}}},{key:"setStyle",value:function(n,o){var a=this;if(this.root){if(d.typeOf(n)==="String")return this.root.style[n]=o;d.typeOf(n)==="Object"&&Object.keys(n).map(function(s){a.root.style[s]=n[s]})}}},{key:"setAttr",value:function(n,o){var a=this;if(this.root){if(d.typeOf(n)==="String")return this.root.setAttribute(n,o);d.typeOf(n)==="Object"&&Object.keys(n).map(function(s){a.root.setAttribute(s,n[s])})}}},{key:"setHtml",value:function(n,o){this.root&&(this.root.innerHTML=n,typeof o=="function"&&o())}},{key:"bindEL",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(n)in this.root&&typeof o=="function"&&this.root.addEventListener(n,o,a)}},{key:"unbindEL",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(n)in this.root&&typeof o=="function"&&this.root.removeEventListener(n,o,a)}},{key:"show",value:function(n){if(this.root){this.root.style.display=n!==void 0?n:"block";var o=window.getComputedStyle(this.root,null),a=o.getPropertyValue("display");if(a==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(n,o){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!o||!(o instanceof window.Element))return null;try{return typeof n=="string"?this.find(n).appendChild(o):n.appendChild(o)}catch(a){return K.logError("Plugin:appendChild",a),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var n=this,o=this.player;this.__delegates.map(function(a){a.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(a){o.unRegisterPlugin(a.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),sn(vt(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(a){n[a]=null})}}],[{key:"insert",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=o.children.length,u=Number(a),l=n instanceof window.Node;if(s){for(var c=0,f=null,h="";c<s;c++){f=o.children[c];var p=Number(f.getAttribute("data-index"));if(p>=u){h="beforebegin";break}else p<u&&(h="afterend")}return l?h==="afterend"?o.appendChild(n):o.insertBefore(n,f):f.insertAdjacentHTML(h,n),h==="afterend"?o.children[o.children.length-1]:o.children[c]}else return l?o.appendChild(n):o.insertAdjacentHTML("beforeend",n),o.children[o.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(n,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l=[];if(n instanceof window.Node&&typeof s=="function")if(Array.isArray(a))a.forEach(function(f){var h=as(n,o,f,s,u);h.key="".concat(o,"_").concat(f),l.push(h)});else{var c=as(n,o,a,s,u);c.key="".concat(o,"_").concat(a),l.push(c)}return l}},{key:"ROOT_TYPES",get:function(){return Uy}},{key:"POSITIONS",get:function(){return de}}]),i}(Rt);function wr(t){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function Xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qy(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ll(r.key),r)}}function Jy(t,e,i){return e&&qy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zy(t,e,i){return e=ll(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ll(t){var e=Qy(t,"string");return wr(e)==="symbol"?e:String(e)}function Qy(t,e){if(wr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(wr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eg=function(){function t(){var e=this;if(Xy(this,t),Zy(this,"__trigger",function(i){var r=new Date().getTime();e.timeStamp=r;for(var n=0;n<i.length;n++)e.__runHandler(i[n].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(Dv(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(i){console.error(i)}}return Jy(t,[{key:"addObserver",value:function(i,r){if(this.observer){this.observer&&this.observer.observe(i);for(var n=i.getAttribute(Pt),o=this.__handlers,a=-1,s=0;s<o.length;s++)o[s]&&i===o[s].target&&(a=s);a>-1?this.__handlers[a].handler=r:this.__handlers.push({target:i,handler:r,playerId:n})}}},{key:"unObserver",value:function(i){var r=-1;this.__handlers.map(function(n,o){i===n.target&&(r=o)});try{this.observer&&this.observer.unobserve(i)}catch{}this.observer&&this.observer.unobserve(i),r>-1&&this.__handlers.splice(r,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(i){for(var r=this.__handlers,n=0;n<r.length;n++)if(r[n]&&i===r[n].target){try{r[n].handler(i)}catch(o){console.error(o)}return!0}return!1}}]),t}(),sr=null;function tg(t,e){return sr||(sr=new eg),sr.addObserver(t,e),sr}function ng(t,e){sr.unObserver(t,e)}var Pe={pluginGroup:{},init:function(e){var i=e._pluginInfoId;i||(i=new Date().getTime(),e._pluginInfoId=i),!e.config.closeResizeObserver&&tg(e.root,function(){e.getVideoSize()}),this.pluginGroup[i]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,i){var r=null,n=null;return e.plugin&&typeof e.plugin=="function"?(r=e.plugin,n=e.options):(r=e,n={}),i&&(n.config=i||{}),{PLUFGIN:r,options:n}},checkPluginIfExits:function(e,i){for(var r=0;r<i.length;r++)if(e.toLowerCase()===i[r].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,i){for(var r=Object.keys(i),n=null,o=0;o<r.length;o++)if(e.toLowerCase()===r[o].toLowerCase()){n=i[r[o]];break}return d.typeOf(n)==="Object"?{root:n.root,position:n.position}:{}},lazyRegister:function(e,i){var r=this,n=i.timeout||1500;return Promise.race([i.loader().then(function(o){var a;o&&o.__esModule?a=o.default:a=o,r.register(e,a,o.options)}),new Promise(function(o,a){setTimeout(function(){a(new Error("timeout"))},n)})])},register:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!e||!i||typeof i!="function"||i.prototype===void 0)){var n=e._pluginInfoId;if(!(!n||!this.pluginGroup[n])){this.pluginGroup[n]._plugins||(this.pluginGroup[n]._plugins={});var o=this.pluginGroup[n]._plugins,a=this.pluginGroup[n]._originalOptions;r.player=e;var s=r.pluginName||i.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(i.isSupported&&!i.isSupported()){console.warn("not supported plugin [".concat(s,"]"));return}r.config||(r.config={});for(var u=Object.keys(a),l=0;l<u.length;l++)if(s.toLowerCase()===u[l].toLowerCase()){var c=a[u[l]];d.typeOf(c)==="Object"&&(r.config=Object.assign({},r.config,a[u[l]]));break}i.defaultConfig&&Object.keys(i.defaultConfig).forEach(function(h){typeof r.config[h]>"u"&&(r.config[h]=i.defaultConfig[h])}),r.root?typeof r.root=="string"&&(r.root=e[r.root]):r.root=e.root,r.index=r.config.index||0;try{o[s.toLowerCase()]&&(this.unRegister(n,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var f=new i(r);return o[s.toLowerCase()]=f,o[s.toLowerCase()].func=i,f&&typeof f.afterCreate=="function"&&f.afterCreate(),f}catch(h){throw console.error(h),h}}}},unRegister:function(e,i){e._pluginInfoId&&(e=e._pluginInfoId),i=i.toLowerCase();try{var r=this.pluginGroup[e]._plugins[i];r&&(r.pluginName&&r.__destroy(),delete this.pluginGroup[e]._plugins[i])}catch(n){console.error("[unRegister:".concat(i,"] cgid:[").concat(e,"] error"),n)}},deletePlugin:function(e,i){var r=e._pluginInfoId;r&&this.pluginGroup[r]&&this.pluginGroup[r]._plugins&&delete this.pluginGroup[r]._plugins[i]},getPlugins:function(e){var i=e._pluginInfoId;return i&&this.pluginGroup[i]?this.pluginGroup[i]._plugins:{}},findPlugin:function(e,i){var r=e._pluginInfoId;if(!r||!this.pluginGroup[r])return null;var n=i.toLowerCase();return this.pluginGroup[r]._plugins[n]},beforeInit:function(e){var i=this;function r(n){return!n||!n.then?new Promise(function(o){o()}):n}return new Promise(function(n){if(i.pluginGroup){var o;return e._loadingPlugins&&e._loadingPlugins.length?o=Promise.all(e._loadingPlugins):o=Promise.resolve(),o.then(function(){var a=e._pluginInfoId;if(!i.pluginGroup[a]){n();return}var s=i.pluginGroup[a]._plugins,u=[];Object.keys(s).forEach(function(l){if(s[l]&&s[l].beforePlayerInit)try{var c=s[l].beforePlayerInit();u.push(r(c))}catch(f){throw u.push(r(null)),f}}),Promise.all([].concat(u)).then(function(){n()}).catch(function(l){console.error(l),n()})})}})},afterInit:function(e){var i=e._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var r=this.pluginGroup[i]._plugins;Object.keys(r).forEach(function(n){r[n]&&r[n].afterPlayerInit&&r[n].afterPlayerInit()})}},setLang:function(e,i){var r=i._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=this.pluginGroup[r]._plugins;Object.keys(n).forEach(function(o){if(n[o].updateLang)n[o].updateLang(e);else try{n[o].lang=e}catch{console.warn("".concat(o," setLang"))}})}},reRender:function(e){var i=this,r=e._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=[],o=this.pluginGroup[r]._plugins;Object.keys(o).forEach(function(a){a!=="controls"&&o[a]&&(n.push({plugin:o[a].func,options:o[a].__args}),i.unRegister(r,a))}),n.forEach(function(a){i.register(e,a.plugin,a.options)})}},onPluginsReady:function(e){var i=e._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var r=this.pluginGroup[i]._plugins||{};Object.keys(r).forEach(function(n){r[n].onPluginsReady&&typeof r[n].onPluginsReady=="function"&&r[n].onPluginsReady()})}},destroy:function(e){var i=e._pluginInfoId;if(this.pluginGroup[i]){ng(e.root);for(var r=this.pluginGroup[i]._plugins,n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];this.unRegister(i,a)}delete this.pluginGroup[i],delete e._pluginInfoId}}};const C={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",INNER_FULLSCREEN:"xgplayer-inner-fullscreen",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",AUTOHIDE:"xgplayer_autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function cs(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Mv(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}function Ji(t){return ag(t)||og(t)||ig(t)||rg()}function rg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ig(t,e){if(t){if(typeof t=="string")return Po(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Po(t,e)}}function og(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ag(t){if(Array.isArray(t))return Po(t)}function Po(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var sg=function(e,i){var r,n,o;i.preset&&i.options?o=new i.preset(i.options,e.config):o=new i({},e.config);var a=o,s=a.plugins,u=s===void 0?[]:s,l=a.ignores,c=l===void 0?[]:l,f=a.icons,h=f===void 0?{}:f,p=a.i18n,m=p===void 0?[]:p;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(r=e.config.plugins).push.apply(r,Ji(u)),(n=e.config.ignores).push.apply(n,Ji(c)),Object.keys(h).map(function(g){e.config.icons[g]||(e.config.icons[g]=h[g])});var b=e.config.i18n||[];m.push.apply(m,Ji(b)),e.config.i18n=m};function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}function ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cl(r.key),r)}}function lg(t,e,i){return e&&fs(t.prototype,e),i&&fs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hr(){return typeof Reflect<"u"&&Reflect.get?Hr=Reflect.get.bind():Hr=function(e,i,r){var n=cg(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hr.apply(this,arguments)}function cg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hn(t),t!==null););return t}function fg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}function So(t,e){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},So(t,e)}function dg(t){var e=pg();return function(){var r=hn(t),n;if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hg(this,n)}}function hg(t,e){if(e&&(dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ur(t)}function ur(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hn(t)}function ds(t,e,i){return e=cl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cl(t){var e=vg(t,"string");return dn(e)==="symbol"?e:String(e)}function vg(t,e){if(dn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(dn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg=function(t){fg(i,t);var e=dg(i);function i(){var r;ug(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ds(ur(r),"onMouseEnter",function(s){var u=ur(r),l=u.player,c=u.playerConfig;c.closeControlsBlur&&l.focus({autoHide:!1})}),ds(ur(r),"onMouseLeave",function(){var s=ur(r),u=s.player;u.focus()}),r}return lg(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.controls=="boolean"&&(n.config.disable=!n.player.config.controls),!n.config.mode&&X.device==="mobile"&&(n.config.mode="flex"),n.player.config.marginControls&&(n.config.autoHide=!1)}},{key:"afterCreate",value:function(){var n=this,o=this.config,a=o.disable,s=o.height,u=o.mode,l=o.autoHide;if(!a){u==="flex"&&this.player.addClass(C.FLEX_CONTROLS),l&&this.player.addClass(C.AUTOHIDE);var c={height:"".concat(s,"px")};Object.keys(c).map(function(h){n.root.style[h]=c[h]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Yr,function(h){h?d.addClass(n.root,"mini-controls"):d.removeClass(n.root,"mini-controls")});var f=this.playerConfig.isMobileSimulateMode;X.device!=="mobile"&&f!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"unFocus",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&d.addClass(this.root,"control_autohide")}},{key:"pauseAutoHide",value:function(){d.removeClass(this.root,"control_autohide")}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(this.root){var s=n.defaultConfig||{};if(!o.root){var u=o.position?o.position:o.config&&o.config.position?o.config.position:s.position;switch(u){case de.CONTROLS_LEFT:o.root=this.left;break;case de.CONTROLS_RIGHT:o.root=this.right;break;case de.CONTROLS_CENTER:o.root=this.center;break;case de.CONTROLS:o.root=this.root;break;default:o.root=this.left}return Hr(hn(i.prototype),"registerPlugin",this).call(this,n,o,a)}}}},{key:"destroy",value:function(){X.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var n=this.config,o=n.mode,a=n.autoHide,s=n.initShow,u=n.disable;if(!u){var l=d.classNames({"xgplayer-controls":!0},{"flex-controls":o==="flex"},{"bottom-controls":o==="bottom"},{control_autohide:a},{controls_permanent:!a},{"xgplayer-controls-initshow":s||!a});return'<xg-controls class="'.concat(l,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(oe);const gg={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}};function fl(t){return wg(t)||_g(t)||bg(t)||mg()}function mg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bg(t,e){if(t){if(typeof t=="string")return ko(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ko(t,e)}}function _g(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wg(t){if(Array.isArray(t))return ko(t)}function ko(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var $e={lang:{},langKeys:[],textKeys:[]};function Pr(t,e){return Object.keys(e).forEach(function(i){var r=d.typeOf(e[i]),n=d.typeOf(t[i]);if(r==="Array"){var o;n!=="Array"&&(t[i]=[]),(o=t[i]).push.apply(o,fl(e[i]))}else r==="Object"?(n!=="Object"&&(t[i]={}),Pr(t[i],e[i])):t[i]=e[i]}),t}function dl(){Object.keys($e.lang.en).map(function(t){$e.textKeys[t]=t})}function Pg(t,e){var i=[];if(e||(e=$e),!!e.lang){d.typeOf(t)!=="Array"?i=Object.keys(t).map(function(o){var a=o==="zh"?"zh-cn":o;return{LANG:a,TEXT:t[o]}}):i=t;var r=e,n=r.lang;i.map(function(o){o.LANG==="zh"&&(o.LANG="zh-cn"),n[o.LANG]?Pr(n[o.LANG]||{},o.TEXT||{}):Ha(o,e)}),dl()}}function Ha(t,e){var i=t.LANG;if(e||(e=$e),!!e.lang){var r=t.TEXT||{};i==="zh"&&(i="zh-cn"),e.lang[i]?Pr(e.lang[i],r):(e.langKeys.push(i),e.lang[i]=r),dl()}}function Sg(t){var e,i={lang:{},langKeys:[],textKeys:{},pId:t};return Pr(i.lang,$e.lang),(e=i.langKeys).push.apply(e,fl($e.langKeys)),Pr(i.textKeys,$e.textKeys),i}Ha(gg);var rn={get textKeys(){return $e.textKeys},get langKeys(){return $e.langKeys},get lang(){var t={};return $e.langKeys.map(function(e){t[e]=$e.lang[e]}),$e.lang["zh-cn"]&&(t.zh=$e.lang["zh-cn"]||{}),t},extend:Pg,use:Ha,init:Sg};function pn(t){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(t)}function kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tg(r.key),r)}}function Og(t,e,i){return e&&hs(t.prototype,e),i&&hs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tg(t){var e=Eg(t,"string");return pn(e)==="symbol"?e:String(e)}function Eg(t,e){if(pn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Oo(t,e)}function Ig(t){var e=$g();return function(){var r=ei(t),n;if(e){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xg(this,n)}}function xg(t,e){if(e&&(pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rg(t)}function Rg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ei(t){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ei(t)}var Ce={},Zi=null,hl=function(t){Cg(i,t);var e=Ig(i);function i(){return kg(this,i),e.apply(this,arguments)}return Og(i,[{key:"add",value:function(n){n&&(Ce[n.playerId]=n,Object.keys(Ce).length===1&&this.setActive(n.playerId,!0))}},{key:"remove",value:function(n){n&&(n.isUserActive,delete Ce[n.playerId])}},{key:"_iterate",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var a in Ce)if(Object.prototype.hasOwnProperty.call(Ce,a)){var s=Ce[a];if(o){if(n(s))break}else n(s)}}},{key:"forEach",value:function(n){this._iterate(n)}},{key:"find",value:function(n){var o=null;return this._iterate(function(a){var s=n(a);return s&&(o=a),s},!0),o}},{key:"findAll",value:function(n){var o=[];return this._iterate(function(a){n(a)&&o.push(a)}),o}},{key:"setActive",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ce[n])return o?this.forEach(function(a){n===a.playerId?(a.isUserActive=!0,a.isInstNext=!1):a.isUserActive=!1}):Ce[n].isUserActive=o,n}},{key:"getActiveId",value:function(){for(var n=Object.keys(Ce),o=0;o<n.length;o++){var a=Ce[n[o]];if(a&&a.isUserActive)return n[o]}return null}},{key:"setNext",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ce[n])return o?this.forEach(function(a){n===a.playerId?(a.isUserActive=!1,a.isInstNext=!0):a.isInstNext=!1}):Ce[n].isInstNext=o,n}}],[{key:"getInstance",value:function(){return Zi||(Zi=new i),Zi}}]),i}(Hu.EventEmitter);function Lg(t){for(var e=Object.keys(Ce),i=0;i<e.length;i++){var r=Ce[e[i]];if(r.root===t)return r}return null}function vn(t){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(t)}function ps(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Qi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ps(Object(i),!0).forEach(function(r){Tt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ps(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ag(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vl(r.key),r)}}function Dg(t,e,i){return e&&vs(t.prototype,e),i&&vs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(){return typeof Reflect<"u"&&Reflect.get?Xe=Reflect.get.bind():Xe=function(e,i,r){var n=Mg(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xe.apply(this,arguments)}function Mg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=je(t),t!==null););return t}function Ng(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&To(t,e)}function To(t,e){return To=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},To(t,e)}function jg(t){var e=Bg();return function(){var r=je(t),n;if(e){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pl(this,n)}}function pl(t,e){if(e&&(vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},je(t)}function Tt(t,e,i){return e=vl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vl(t){var e=Fg(t,"string");return vn(e)==="symbol"?e:String(e)}function Fg(t,e){if(vn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(vn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hg=["play","pause","replay","retry","playnext"],ys=0,gs=0,ut=null,Vi=function(t){Ng(i,t);var e=jg(i);function i(r){var n;Ag(this,i);var o=d.deepMerge(cs(),r);n=e.call(this,o),Tt(Me(n),"canPlayFunc",function(){if(n.config){var l=n.config,c=l.autoplay,f=l.startTime,h=l.defaultPlaybackRate;K.logInfo("player","canPlayFunc, startTime",f),f&&(n.currentTime=f>n.duration?n.duration:f,n.config.startTime=0),n.playbackRate=h,c&&n.videoPlay(),n.off(ot,n.canPlayFunc),n.removeClass(C.ENTER)}}),Tt(Me(n),"onFullscreenChange",function(l,c){var f=function(){d.setTimeout(Me(n),function(){n.getVideoSize()},100)},h=d.getFullScreenEl();n._fullActionFrom?n._fullActionFrom="":n.emit(qr,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:n.currentTime,duration:n.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var p=Nv(h,n.playerId,Pt);if(c||h&&(h===n._fullscreenEl||p))f(),!n.config.closeFocusVideoFocus&&n.video.focus(),n.fullscreen=!0,n.emit(ft,!0,n._fullScreenOffset),n.cssfullscreen&&n.exitCssFullscreen();else if(n.fullscreen){f();var m=Me(n),b=m._fullScreenOffset,g=m.config;g.needFullscreenScroll?(window.scrollTo(b.left,b.top),d.setTimeout(Me(n),function(){n.fullscreen=!1,n._fullScreenOffset=null},100)):(!n.config.closeFocusVideoFocus&&n.video.focus(),n.fullscreen=!1,n._fullScreenOffset=null),n.cssfullscreen?n.removeClass(C.FULLSCREEN):n.recoverFullStyle(n.root,n._fullscreenEl,C.FULLSCREEN),n._fullscreenEl=null,n.emit(ft,!1)}}),Tt(Me(n),"_onWebkitbeginfullscreen",function(l){n._fullscreenEl=n.video,n.onFullscreenChange(l,!0)}),Tt(Me(n),"_onWebkitendfullscreen",function(l){n.onFullscreenChange(l,!1)}),al(Me(n),Hg),n.config=o,n._pluginInfoId=d.generateSessionId(),wv(Me(n));var a=n.constructor.defaultPreset;if(n.config.presets.length){var s=n.config.presets.indexOf("default");s>=0&&a&&(n.config.presets[s]=a)}else a&&n.config.presets.push(a);n.userTimer=null,n.waitTimer=null,n.isReady=!1,n.isPlaying=!1,n.isError=!1,n.isSeeking=!1,n.isCanplay=!1,n._runPending=!1,n.rotateDeg=0,n.isActive=!1,n.isBufferControlPaused=!1,n.isCssfullScreen=!1,n.fullscreen=!1,n._fullscreenEl=null,n._cssfullscreenEl=null,n.curDefinition=null,n._orgCss="",n._fullScreenOffset=null,n._videoHeight=0,n._videoWidth=0,n.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},n.sizeInfo={width:0,height:0,left:0,top:0},n._accPlayed={t:0,acc:0,loopAcc:0},n.innerContainer=null,n.controls=null,n.topBar=null,n.topBar=null,n.root=null,n.__i18n=rn.init(),X.os.isAndroid&&X.osVersion>0&&X.osVersion<6&&(n.config.autoplay=!1),n.database=new gy,n.isUserActive=!1,n._onceSeekCanplay=null,n._isPauseBeforeSeek=0,n.innerStates={isActiveLocked:!1},n.instManager=ut;var u=n._initDOM();return u?(n._bindEvents(),n._registerPresets(),n._registerPlugins(),Pe.onPluginsReady(Me(n)),d.setTimeout(Me(n),function(){n.emit(Na),n.onReady&&n.onReady(),n.isReady=!0},0),n.getInitDefinition(),(n.config.videoInit||n.config.autoplay)&&(n.hasStart||n.start()),n):(console.error(new Error("can't find the dom which id is ".concat(n.config.id," or this.config.el does not exist"))),pl(n))}return Dg(i,[{key:"_initDOM",value:function(){var n,o=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var a=this.config.el;if(a&&a.nodeType===1)this.root=a;else return this.emit(Ni,new Kr("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var s=Lg(this.root);s&&(K.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),s.destroy()),this.root.setAttribute(Pt,this.playerId),(n=ut)===null||n===void 0||n.add(this),Pe.init(this),this._initBaseDoms();var u=this.constructor.XgVideoProxy;if(u&&this.videoConfig.mediaType===u.mediaType){var l=this.innerContainer||this.root;this.detachVideoEvents(this.video);var c=new u(l,this.config,this.videoConfig);this.attachVideoEvents(c),this.video=c}if(this.video.setAttribute(Pt,this.playerId),this.config.controls){var f=Pe.register(this,yg);this.controls=f}var h=this.config.isMobileSimulateMode==="mobile"?"mobile":X.device;if(this.addClass("".concat(C.DEFAULT," ").concat(C.ACTIVE," xgplayer-").concat(h," ").concat(this.config.controls?"":C.NO_CONTROLS)),this.config.autoplay?this.addClass(C.ENTER):this.addClass(C.NO_START),this.config.fluid){var p={"max-width":"100%",width:"100%",height:"0","padding-top":"".concat(this.config.height*100/this.config.width,"%"),position:"position",top:"0",left:"0"};Object.keys(p).map(function(O){o.root.style[O]=p[O]})}else["width","height"].map(function(O){o.config[O]&&(typeof o.config[O]!="number"?o.root.style[O]=o.config[O]:o.root.style[O]="".concat(o.config[O],"px"))});var m=this.root.getBoundingClientRect(),b=m.width,g=m.height,I=m.left,x=m.top;return this.sizeInfo.width=b,this.sizeInfo.height=g,this.sizeInfo.left=I,this.sizeInfo.top=x,!0}},{key:"_initBaseDoms",value:function(){this.topBar=d.createDom("xg-bar","",{"data-index":-1},"xg-top-bar"),this.leftBar=d.createDom("xg-bar","",{"data-index":-1},"xg-left-bar"),this.rightBar=d.createDom("xg-bar","",{"data-index":-1},"xg-right-bar"),this.config.marginControls&&(this.innerContainer=d.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer)),this.root.appendChild(this.topBar),this.root.appendChild(this.leftBar),this.root.appendChild(this.rightBar)}},{key:"_bindEvents",value:function(){var n=this;["focus","blur"].forEach(function(o){n.on(o,n["on"+o.charAt(0).toUpperCase()+o.slice(1)])}),Za.forEach(function(o){document&&document.addEventListener(o,n.onFullscreenChange)}),X.os.isIos&&(this.video.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once("loadeddata",this.getVideoSize),this.playFunc=function(){n.config.closeFocusVideoFocus||n.video.focus()},this.once("play",this.playFunc),this.on(an,this.onBufferControl)}},{key:"_unbindEvents",value:function(){var n=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Za.forEach(function(o){document.removeEventListener(o,n.onFullscreenChange)}),this.playFunc&&this.off("play",this.playFunc),this.off("canplay",this.canPlayFunc),this.video.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(n){var o=this;if(this.video&&!((!n||n===""||d.typeOf(n)==="Array"&&n.length===0)&&(n="",this.emit(Yu),K.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){this._detachSourceEvents(this.video),d.typeOf(n)==="Array"&&n.length>0?this._attachSourceEvents(this.video,n):!this.video.src||this.video.src!==n?this.video.src=n:n||this.video.removeAttribute("src"),d.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var a=this.innerContainer?this.innerContainer:this.root;this.video instanceof window.Element&&!a.contains(this.video)&&a.insertBefore(this.video,a.firstChild);var s=this.video.readyState;K.logInfo("_startInit readyState",s),this.config.autoplay&&(!d.isMSE(this.video)&&this.load(),(X.os.isIpad||X.os.isPhone)&&this.videoPlay()),s>=2?this.canPlayFunc():this.once(ot,this.canPlayFunc),d.setTimeout(this,function(){o.emit(Bi)},1),this.hasStart||Pe.afterInit(this),this.hasStart=!0}}},{key:"_registerPlugins",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var a=this.config.ignores||[],s=this.config.plugins||[],u=this.config.i18n||[];o&&rn.extend(u,this.__i18n);var l=a.join("||").toLowerCase().split("||"),c=this.plugins;s.forEach(function(f){try{var h=f.plugin?f.plugin.pluginName:f.pluginName;if(!h)return;var p=h.toLowerCase(),m=n.config[p]||n.config[h];if(d.typeOf(m)==="Boolean"&&!m||l.indexOf(p)>-1||!o&&c[p])return;if(f.lazy&&f.loader){var b=Pe.lazyRegister(n,f);f.forceBeforeInit&&(b.then(function(){n._loadingPlugins.splice(n._loadingPlugins.indexOf(b),1)}).catch(function(g){K.logError("_registerPlugins:loadingPlugin",g),n._loadingPlugins.splice(n._loadingPlugins.indexOf(b),1)}),n._loadingPlugins.push(b));return}return n.registerPlugin(f)}catch(g){K.logError("_registerPlugins:",g)}})}},{key:"_registerPresets",value:function(){var n=this;this.config.presets.forEach(function(o){sg(n,o)})}},{key:"_getRootByPosition",value:function(n){var o=null;switch(n){case de.ROOT_RIGHT:o=this.rightBar;break;case de.ROOT_LEFT:o=this.leftBar;break;case de.ROOT_TOP:o=this.topBar;break;default:o=this.innerContainer||this.root;break}return o}},{key:"registerPlugin",value:function(n,o){var a=Pe.formatPluginInfo(n,o),s=a.PLUFGIN,u=a.options,l=this.config.plugins,c=Pe.checkPluginIfExits(s.pluginName,l);!c&&l.push(s);var f=Pe.getRootByConfig(s.pluginName,this.config);f.root&&(u.root=f.root),f.position&&(u.position=f.position);var h=u.position?u.position:u.config&&u.config.position||s.defaultConfig&&s.defaultConfig.position;return!u.root&&typeof h=="string"&&h.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(s,u,s.pluginName):(u.root||(u.root=this._getRootByPosition(h)),Pe.register(this,s,u))}},{key:"deregister",value:function(n){typeof n=="string"?Pe.unRegister(this,n):n instanceof Rt&&Pe.unRegister(this,n.pluginName)}},{key:"unRegisterPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(n),o&&this.removePluginFromConfig(n)}},{key:"removePluginFromConfig",value:function(n){var o;if(typeof n=="string"?o=n:n instanceof Rt&&(o=n.pluginName),!!o)for(var a=this.config.plugins.length-1;a>-1;a--){var s=this.config.plugins[a];if(s.pluginName.toLowerCase()===o.toLowerCase()){this.config.plugins.splice(a,1);break}}}},{key:"plugins",get:function(){return Pe.getPlugins(this)}},{key:"getPlugin",value:function(n){var o=Pe.findPlugin(this,n);return o&&o.pluginName?o:null}},{key:"addClass",value:function(n){this.root&&(d.hasClass(this.root,n)||d.addClass(this.root,n))}},{key:"removeClass",value:function(n){this.root&&d.removeClass(this.root,n)}},{key:"hasClass",value:function(n){if(this.root)return d.hasClass(this.root,n)}},{key:"setAttribute",value:function(n,o){this.root&&this.root.setAttribute(n,o)}},{key:"removeAttribute",value:function(n,o){this.root&&this.root.removeAttribute(n,o)}},{key:"start",value:function(n){var o=this;if(!this.hasStart)return!n&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this._registerPlugins(!1),Pe.beforeInit(this).then(function(){if(o.config){n||(n=o.url||o.config.url);var a=o.preProcessUrl(n),s=o._startInit(a.url);return s}}).catch(function(a){throw a.fileName="player",a.lineNumber="236",K.logError("start:beforeInit:",a),a})}},{key:"switchURL",value:function(n){var o=this,a=n;d.typeOf(n)==="Object"&&(a=n.url);var s=this.currentTime,u=this.paused&&!this.isError;return this.src=a,new Promise(function(l){var c=function(){o.currentTime=s,u&&o.once("canplay",function(){o.pause()}),l()};X.os.isAndroid?o.once("timeupdate",function(){c()}):o.once("canplay",function(){c()}),o.play()})}},{key:"videoPlay",value:function(){var n=this;if(!this.hasStart){this.removeClass(C.NO_START),this.addClass(C.ENTER);var o=this.start();o&&o.then(function(s){!n.config.autoplay&&n.videoPlay()});return}this.isPlaying||(this.removeClass(C.NO_START),!this.isCanplay&&this.addClass(C.ENTER));var a=Xe(je(i.prototype),"play",this).call(this);return a!==void 0&&a&&a.then?a.then(function(){n.removeClass(C.NOT_ALLOW_AUTOPLAY),n.addClass(C.PLAYING),n.isPlaying||(K.logInfo(">>>>playPromise.then"),n.isPlaying=!0,n.emit(Ct))}).catch(function(s){if(K.logWarn(">>>>playPromise.catch",s.name),n.video&&n.video.error){n.onError(),n.removeClass(C.ENTER);return}s.name==="NotAllowedError"&&(n._errorTimer=d.setTimeout(n,function(){n._errorTimer=null,n.emit(ja),n.addClass(C.NOT_ALLOW_AUTOPLAY),n.removeClass(C.ENTER),n.pause()},0))}):(K.logWarn("video.play not return promise"),this.isPlaying||(this.isPlaying=!0,this.removeClass(C.NOT_ALLOW_AUTOPLAY),this.removeClass(C.NO_START),this.removeClass(C.ENTER),this.addClass(C.PLAYING),this.emit(Ct))),a}},{key:"videoPause",value:function(){Xe(je(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var n=this;this.removeClass(C.PAUSED),nt(this,"play",function(){n.videoPlay()})}},{key:"pause",value:function(n){var o=this;nt(this,"pause",function(){n===ol.BUFFER_CONTROLS?o.isBufferControlPaused||(o.isBufferControlPaused=!0,o.emit(an,{type:bo.WAITING})):o.isBufferControlPaused&&(o.isBufferControlPaused=!1,o.emit(an,{type:bo.PLAYING})),Xe(je(i.prototype),"pause",o).call(o)},n)}},{key:"seek",value:function(n,o){var a=this;if(!(!this.video||Number.isNaN(Number(n))||!this.hasStart)){var s=this.config,u=s.isSeekedPlay,l=s.seekedStatus,c=o||(u?"play":l);n=n<0?0:n>this.duration?parseInt(this.duration,10):n,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(it,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(a.removeClass(C.ENTER),a.isSeeking=!1,c){case"play":a.play();break;case"pause":a.pause();break;default:a._isPauseBeforeSeek>1||a.paused?a.pause():a.play()}a._isPauseBeforeSeek=0,a._onceSeekCanplay=null},this.once(it,this._onceSeekCanplay),this.isPlaying?this.currentTime=n:(this.removeClass(C.NO_START),this.currentTime=n,this.play())}}},{key:"getInitDefinition",value:function(){var n=this,o=this.config,a=o.definition,s=o.url;!s&&a&&a.list&&a.list.length>0&&a.defaultDefinition&&a.list.map(function(u){u.definition===a.defaultDefinition&&(n.config.url=u.url,n.curDefinition=u.definition)})}},{key:"changeDefinition",value:function(n,o){var a=this,s=this.config.definition;if(Array.isArray(s==null?void 0:s.list)&&s.list.forEach(function(l){(n==null?void 0:n.definition)===l.definition&&(a.curDefinition=l)}),n!=null&&n.bitrate&&typeof n.bitrate!="number"&&(n.bitrate=parseInt(n.bitrate,10)||0),this.emit(Fa,{from:o,to:n}),!this.hasStart){this.config.url=n.url;return}var u=this.switchURL(n.url);u&&u.then?u.then(function(){a.emit(yo,{from:o,to:n})}):this.emit(yo,{from:o,to:n})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once("loadeddata",this.reloadFunc)}},{key:"resetState",value:function(){var n=this,o=C.NOT_ALLOW_AUTOPLAY,a=C.PLAYING,s=C.NO_START,u=C.PAUSED,l=C.REPLAY,c=C.ENTER,f=C.ENDED,h=C.ERROR,p=C.LOADING,m=[o,a,s,u,l,c,f,h,p];this.hasStart=!1,this.isError=!1,this.isPlaying=!1,this.videoPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,m.forEach(function(b){n.removeClass(b)}),this.addClass(C.ENTER),this.emit(Hi)}},{key:"reset",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;this.resetState();var s=this.plugins;if(s&&(o.map(function(l){n.deregister(l)}),a)){var u=cs();Object.keys(this.config).keys(function(l){n.config[l]!=="undefined"&&(l==="plugins"||l==="presets"||l==="el"||l==="id")&&(n.config[l]=u[l])})}}},{key:"destroy",value:function(){var n,o=this,a=this.innerContainer,s=this.root,u=this.video;if(!(!s||!u)){if(s.removeAttribute(Pt),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.video),d.clearAllTimers(this),this.emit(Ba),(n=ut)===null||n===void 0||n.remove(this),Pe.destroy(this),sl(this),Xe(je(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root)try{this.exitFullscreen()}catch{}if(a)for(var l=a.children,c=0;c<l.length;c++)a.removeChild(l[c]);!a&&u instanceof window.Node&&s.contains(u)&&s.removeChild(u),["topBar","leftBar","rightBar","innerContainer"].map(function(h){o[h]&&s.removeChild(o[h]),o[h]=null});var f=s.className.split(" ");f.length>0?s.className=f.filter(function(h){return h.indexOf("xgplayer")<0}).join(" "):s.className="",this.removeAttribute("data-xgfill"),["isReady","isPlaying","isSeeking","isCanplay","isActive","isCssfullScreen","fullscreen"].map(function(h){o[h]=!1})}}},{key:"replay",value:function(){var n=this;this.removeClass(C.ENDED),this.currentTime=0,this.isSeeking=!1,nt(this,"replay",function(){n.once(it,function(){var o=n.videoPlay();o&&o.catch&&o.catch(function(a){console.log(a)})}),n.play(),n.emit(Gr),n.onPlay()})}},{key:"retry",value:function(){var n=this;this.removeClass(C.ERROR),this.addClass(C.LOADING),nt(this,"retry",function(){var o=n.currentTime;n.src=n.config.url,!n.config.isLive&&(n.currentTime=o),n.once(ot,function(){n.videoPlay()})})}},{key:"changeFullStyle",value:function(n,o,a,s){n&&(s||(s=C.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=d.filterStyleFromText(n)),d.addClass(n,a),o&&o!==n&&!this._orgPCss&&(this._orgPCss=d.filterStyleFromText(o),d.addClass(o,s),o.setAttribute(Pt,this.playerId)))}},{key:"recoverFullStyle",value:function(n,o,a,s){s||(s=C.PARENT_FULLSCREEN),this._orgCss&&(d.setStyleFromCsstext(n,this._orgCss),this._orgCss=""),d.removeClass(n,a),o&&o!==n&&this._orgPCss&&(d.setStyleFromCsstext(o,this._orgPCss),this._orgPCss="",d.removeClass(o,s),o.removeAttribute(Pt))}},{key:"getFullscreen",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,o=this.root,a=this.video;n||(n=o),this._fullScreenOffset={top:d.scrollTop(),left:d.scrollLeft()},this._fullscreenEl=n,this._fullActionFrom="get";var s=d.getFullScreenEl();if(s===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{this.changeFullStyle(this.root,n,C.FULLSCREEN);for(var u=0;u<Qa.length;u++){var l=Qa[u];if(n[l]){var c=l==="webkitRequestFullscreen"?n.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):n[l]();return c&&c.then?c:Promise.resolve()}}return a.fullscreenEnabled||a.webkitSupportsFullscreen?(a.webkitEnterFullscreen(),Promise.resolve()):(this.recoverFullStyle(this.root,this._fullscreenEl,C.FULLSCREEN),Promise.reject(new Error("call getFullscreen fail")))}catch(f){return this.recoverFullStyle(this.root,this._fullscreenEl,C.FULLSCREEN),Promise.reject(f)}}},{key:"exitFullscreen",value:function(n){if(!(!this._fullscreenEl&&!d.getFullScreenEl())){this.root;var o=this.video;this._fullActionFrom="exit";for(var a=0;a<es.length;a++){var s=es[a];if(document[s]){var u=document[s]();return u&&u.then?u:Promise.resolve()}}return o&&o.webkitSupportsFullscreen?(o.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}}},{key:"getCssFullscreen",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.fullscreen&&this.exitFullscreen(),this._cssfullscreenEl=n,this.changeFullStyle(this.root,n,n?C.INNER_FULLSCREEN:C.CSS_FULLSCREEN),this.isCssfullScreen=!0,this.emit(Wr,!0)}},{key:"exitCssFullscreen",value:function(){var n=this._cssfullscreenEl?C.INNER_FULLSCREEN:C.CSS_FULLSCREEN;this.fullscreen?this.removeClass(n):this.recoverFullStyle(this.root,this._cssfullscreenEl,n),this._cssfullscreenEl=null,this.isCssfullScreen=!1,this.emit(Wr,!1)}},{key:"focus",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(n);return}this.emit(Ma,Qi({paused:this.paused,ended:this.ended},n))}},{key:"blur",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(n);return}this.emit(Wu,Qi({paused:this.paused,ended:this.ended},n))}},{key:"onFocus",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},a=this.innerStates;if(this.isActive=!0,this.removeClass(C.ACTIVE),this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null),o.isLock!==void 0&&(a.isActiveLocked=o.isLock),o.autoHide===!1||o.isLock===!0||a.isActiveLocked){this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null);return}var s=o&&o.delay?o.delay:this.config.inactive;this.userTimer=d.setTimeout(this,function(){n.userTimer=null,n.blur()},s)}},{key:"onBlur",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!(!this.isActive||this.innerStates.isActiveLocked)){var o=this.config.closePauseVideoFocus;this.isActive=!1,(n.ignorePaused||o||!this.paused&&!this.ended)&&this.addClass(C.ACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.hasStart&&this.removeClass(C.ENTER),!this.isBufferControlPaused&&this.removeClass(C.LOADING),this.isCanplay=!0,this.waitTimer&&d.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1}},{key:"onPlay",value:function(){this.removeClass(C.PAUSED),this.ended&&this.removeClass(C.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){!this.isBufferControlPaused&&this.addClass(C.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.isBufferControlPaused=!1,this.updateAcc("ended"),this.addClass(C.ENDED)}},{key:"onError",value:function(){this.isBufferControlPaused=!1,this.isError=!0,this.updateAcc("error"),this.removeClass(C.NOT_ALLOW_AUTOPLAY),this.removeClass(C.NO_START),this.removeClass(C.ENTER),this.removeClass(C.LOADING),this.addClass(C.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(C.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.removeClass(C.LOADING),this.removeClass(C.SEEKING)}},{key:"onWaiting",value:function(){var n=this;this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=d.setTimeout(this,function(){n.addClass(C.LOADING),d.clearTimeout(n,n.waitTimer),n.waitTimer=null},200)}},{key:"onPlaying",value:function(){var n=this;this.isError=!1;var o=C.NO_START,a=C.PAUSED,s=C.ENDED,u=C.ERROR,l=C.REPLAY,c=C.LOADING,f=[o,a,s,u,l,c];f.forEach(function(h){n.removeClass(h)})}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.getVideoSize(),(this.waitTimer||this.hasClass(C.LOADING))&&this.video.readyState>2&&(!this.isBufferControlPaused&&this.removeClass(C.LOADING),d.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&!this.isPlaying&&this.duration&&(this.isPlaying=!0,this.emit(Ct)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){d.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"onBufferControl",value:function(n){this.isPlaying&&(n.type==="waiting"?(this.isBufferControlPaused=!0,this.addClass(C.LOADING),this.removeClass(C.PAUSED)):n.type==="playing"&&(this.isBufferControlPaused=!1,this.removeClass(C.LOADING),this.paused&&this.addClass(C.PAUSED)))}},{key:"emitUserAction",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!this.video||!o||!n)){var s=d.typeOf(n)==="String"?n:n.type||"";o==="switch_play_pause"&&(d.typeOf(a.paused)==="Undefined"&&(a.paused=this.paused),a.isFirstStart=!this.playing),this.emit(qr,Qi({eventType:s,action:o,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:n},a))}}},{key:"updateAcc",value:function(n){if(this._accPlayed.t){var o=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=o,this._accPlayed.t=0,(n==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(n){var o=this.video.buffered;if(!o||o.length===0||!this.duration)return!0;for(var a=parseInt((n||this.video.currentTime||0)*1e3,10),s=o.length,u=0;u<s;u++)if(parseInt(o.start(u)*1e3,10)+200<=a&&parseInt(o.end(u)*1e3,10)-200>a)return!0;return!1}},{key:"resizePosition",value:function(){var n=this.videoPos,o=n.rotate,a=n.vy,s=n.vx,u=n.h,l=n.w;if(!(o<0&&u<0&&l<0)){var c=this.videoPos._pi;if(!c&&this.video.videoHeight&&(c=this.video.videoWidth/this.video.videoHeight*100),!!c){this.videoPos.pi=c;var f={},h=0,p=0,m=1,b=o<0?0:Math.abs(o/90),g=this.root,I=this.innerContainer,x=g.offsetWidth,O=I?I.offsetHeight:g.offsetHeight,re=O,J=x,ve={width:x,height:O};if(b%2===0)m=u>0?100/u:l>0?100/l:1,f.scale=m,h=a>0?(100-u)/2-a:0,f.y=b===2?0-h:h,p=s>0?(100-l)/2-s:0,f.x=b===2?0-p:p,ve.width=J,ve.height=re;else if(b%2===1){J=O,re=x;var A=O-x;p=-A/2/J*100,f.x=b===3?p+a/2:p-a/2,h=A/2/re*100,f.y=b===3?h+s/2:h-s/2,f.scale=m,ve.width=J,ve.height=re}var E=this.video;o>=0&&["width","height"].forEach(function(B){E.style[B]="".concat(ve[B],"px")}),f.rotate=o<0?0:o;var ge=d.getTransformStyle(f,this.video.style.transform||this.video.style.webkitTransform);E.style.transform=ge,E.style.webkitTransform=ge}}}},{key:"position",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.video||!n||!n.h)){var o=this.videoPos;o.h=n.h*100||0,o.w=n.w*100||0,o.vx=n.x*100||0,o.vy=n.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(n){var o=this;n&&Object.keys(n).map(function(a){if(a!=="plugins"){o.config[a]=n[a];var s=o.plugins[a.toLowerCase()];s&&d.typeOf(s.setConfig)==="Function"&&s.setConfig(n[a])}})}},{key:"playNext",value:function(n){var o=this;this.resetState(),this._currentTime=0,this._duration=0,this.isPlaying=!1,this.setConfig(n),this.vtype="MP4",nt(this,"playnext",function(){o.start(),o.emit(Xr,n)})}},{key:"getVideoSize",value:function(){var n=this;if(this.video){var o=this.root.getBoundingClientRect();this.sizeInfo.width=o.width,this.sizeInfo.height=o.height,this.sizeInfo.left=o.left,this.sizeInfo.top=o.top;var a=this.video,s=a.videoWidth,u=a.videoHeight,l=this.config,c=l.fitVideoSize,f=l.videoFillMode;if((f==="fill"||f==="cover"||f==="contain")&&this.setAttribute("data-xgfill",f),!(!u||!s)){this._videoHeight=u,this._videoWidth=s;var h=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,p=o.width,m=o.height-h,b=parseInt(s/u*1e3,10),g=parseInt(p/m*1e3,10),I=p,x=m,O={};c==="auto"&&g>b||c==="fixWidth"?(x=p/b*1e3,this.config.fluid?O.paddingTop="".concat(x*100/I,"%"):O.height="".concat(x+h,"px")):(c==="auto"&&g<b||c==="fixHeight")&&(I=b*m/1e3,O.width="".concat(I,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(O).forEach(function(J){n.root.style[J]=O[J]}),(f==="fillHeight"&&g<b||f==="fillWidth"&&g>b)&&this.setAttribute("data-xgfill","cover");var re={videoScale:b,vWidth:I,vHeight:x,cWidth:I,cHeight:x+h};this.resizePosition(),this.emit(cn,re)}}}},{key:"updateObjectPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.video.updateObjectPosition){this.video.updateObjectPosition(n,o);return}this.video.style.objectPosition="".concat(n*100,"% ").concat(o*100,"%")}},{key:"preProcessUrl",value:function(n,o){var a=this.config,s=a.preProcessUrl,u=a.preProcessUrlOptions,l=Object.assign({},u,o);return!d.isBlob(n)&&typeof s=="function"?s(n,l):{url:n}}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(n){if(this.video){if(this.emit(Fi,n),this.emit(Ir),this._currentTime=0,this._duration=0,d.isMSE(this.video)){this.onWaiting();return}n=this.preProcessUrl(n).url,this._detachSourceEvents(this.video),d.typeOf(n)==="Array"?this._attachSourceEvents(this.video,n):n?this.video.src=n:this.video.removeAttribute("src"),this.load()}}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(n){var o=this,a=this.config.definition;a.list=n,this.emit("resourceReady",n);var s=null,u=null;n.map(function(l){o.curDefinition===l.definition&&(s=l),a.defaultDefinition===l.definition&&(u=l)}),!u&&n.length>0&&(u=n[0]),s?this.changeDefinition(s):u&&this.changeDefinition(u)}},{key:"videoFrameInfo",get:function(){var n={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.video||!this.video.getVideoPlaybackQuality)return n;var o=this.video.getVideoPlaybackQuality();return n.dropped=o.droppedVideoFrames||0,n.total=o.totalVideoFrames||0,n.corrupted=o.corruptedVideoFrames||0,n.total>0&&(n.droppedRate=n.dropped/n.total*100,n.droppedDuration=parseInt(this.cumulateTime/n.total*n.dropped,0)),n}},{key:"lang",get:function(){return this.config.lang},set:function(n){var o=rn.langKeys.filter(function(a){return a===n});if(o.length===0&&n!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(n,"] is not supported now, list of all supported languages is [").concat(rn.langKeys.join(),"] "));return}this.config.lang=n,Pe.setLang(n,this)}},{key:"i18n",get:function(){var n=this.config.lang;return n==="zh"&&(n="zh-cn"),this.__i18n.lang[n]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return ho}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(n){this.__url=n}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(n){this.plugins.poster&&this.plugins.poster.update(n)}},{key:"readyState",get:function(){var n=Xe(je(i.prototype),"readyState",this);return this.i18n[n]||n}},{key:"error",get:function(){var n=Xe(je(i.prototype),"error",this);return this.i18n[n]||n}},{key:"networkState",get:function(){var n=Xe(je(i.prototype),"networkState",this);return this.i18n[n]||n}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var n=this._accPlayed;return this.updateAcc("get"),n.acc}},{key:"zoom",get:function(){return this.config.zoom},set:function(n){this.config.zoom=n}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(n){n=d.convertDeg(n),!(n%90!==0||n===this.videoPos.rotate)&&(this.videoPos.rotate=n,this.resizePosition())}},{key:"avgSpeed",get:function(){return gs},set:function(n){gs=n}},{key:"realTimeSpeed",get:function(){return ys},set:function(n){ys=n}},{key:"hook",value:function(n,o){return Jr.call.apply(Jr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(n,o){return Zr.call.apply(Zr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(n,o){return Qr.call.apply(Qr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(n,o,a){for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];return ts.call.apply(ts,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(n,o,a){for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];return ns.call.apply(ns,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(n,o){var a;typeof o=="boolean"&&o!==this.muted&&(this.addInnerOP("volumechange"),this.muted=o),(a=ut)===null||a===void 0||a.setActive(this.playerId,n)}}],[{key:"debugger",get:function(){return K.config.debug},set:function(n){K.config.debug=n}},{key:"instManager",get:function(){return ut},set:function(n){ut=n}},{key:"pluginsManager",get:function(){return Pe}},{key:"getCurrentUserActivePlayerId",value:function(){var n;return(n=ut)===null||n===void 0?void 0:n.getActiveId()}},{key:"setCurrentUserActive",value:function(n,o){var a;(a=ut)===null||a===void 0||a.setActive(n,o)}},{key:"isHevcSupported",value:function(){return X.isHevcSupported()}},{key:"probeConfigSupported",value:function(n){return X.probeConfigSupported(n)}},{key:"install",value:function(n,o){i.plugins||(i.plugins={}),i.plugins[n]||(i.plugins[n]=o)}},{key:"use",value:function(n,o){i.plugins||(i.plugins={}),i.plugins[n]=o}}]),i}(fy);Tt(Vi,"defaultPreset",null);Tt(Vi,"XgVideoProxy",null);Vi.instManager=hl.getInstance();function yn(t){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}function ms(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function $r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ms(Object(i),!0).forEach(function(r){Oe(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ms(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Vg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yl(r.key),r)}}function zg(t,e,i){return e&&bs(t.prototype,e),i&&bs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ug(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Eo(t,e)}function Kg(t){var e=Wg();return function(){var r=ti(t),n;if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gg(this,n)}}function Gg(t,e){if(e&&(yn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(t)}function fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ti(t)}function Oe(t,e,i){return e=yl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yl(t){var e=Yg(t,"string");return yn(e)==="symbol"?e:String(e)}function Yg(t,e){if(yn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ke(){return new Date().getTime()}var Ge={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd",WAIT_END_EXT:"waitingEndExt",SEEK_END_EXT:"seekEndEndExt"},_e="[xgLogger]",Xg=function(t){Ug(i,t);var e=Kg(i);function i(){var r;Vg(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Oe(fe(r),"_onLoadStart",function(){var s=fe(r),u=s._state,l=u.autoplayStart,c=u.isFFSend;r.startCostTime=ke()-r.newPointTime,K.logInfo(_e,"LOAD_START","autoplayStart:".concat(l," isFFSend:").concat(c," startCostTime:").concat(r.startCostTime," newPointTime").concat(r.newPointTime)),!c&&(!u.isLs&&r.emitLog(Ge.LOAD_START,{}),u.isLs=!0,u.isTimeUpdate=!1,u.isFFLoading=!0,r.pt=ke(),r.vt=0,r.fvt=0,r._initOnceEvents())}),Oe(fe(r),"_onLoadedData",function(){r.vt=ke(),r.fvt=r.vt-r.pt,r.loadedCostTime=r.vt-r.newPointTime,r._updateBuffer();var s=r._state,u=s.isTimeUpdate,l=s.isFFSend,c=s.autoplayStart;K.logInfo(_e,"LOADED_DATA","fvt:".concat(r.fvt," isTimeUpdate:").concat(r._state.isTimeUpdate," loadedCostTime:").concat(r.loadedCostTime)),(u||c)&&r._sendFF("loadedData"),l||r.emitLog(Ge.LOADED_DATA,{})}),Oe(fe(r),"_onTimeupdate",function(){var s=fe(r),u=s._state;u.isTimeUpdate=!0,u.time=r.player.currentTime,r._state.autoplayStart&&!u.isFFSend&&r._sendFF("onTimeupdate")}),Oe(fe(r),"_onPlay",function(){var s=r.player.buffered,u=fe(r),l=u.levelInfo;K.logInfo(_e,"_onPlay playPos:".concat(l.startBuffer)),l.startBuffer<0&&(l.startBuffer=s.length>0?parseInt(s.end(0)*1e3,10):0,l.startType="onplay")}),Oe(fe(r),"_onAutoplayStart",function(){K.logInfo(_e,"_onAutoplayStart"),r._state.autoplayStart=!0,r.vt&&r._sendFF("onAutoplayStart")}),Oe(fe(r),"_onReset",function(){r._state={time:0,autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},r.vt=0,r.pt=0,r.fvt=0,r.newPointTime=ke(),r.loadedCostTime=0,r.startCostTime=0,r.seekingStart=0,r.seekData={startTime:0,lastTime:0,timeBefore:0,timeAfter:0,inBuffer:0,diffStart:0,interval:-1},r.waitData={startTime:0,lastTime:0,interval:-1,diffStart:0},r.waitingStart=0,r.fixedWaitingStart=0,r.ffsendTime=0,r.levelInfo={diff:0,buffer:-1,startBuffer:-1,startType:""},r._isWaiting=!1,r._waitTimer&&d.clearTimeout(fe(r),r._waitTimer),r._waittTimer&&d.clearTimeout(fe(r),r._waittTimer),r._waitTimer=null,r._waittTimer=null,r._waitType=0}),Oe(fe(r),"_onSeeking",function(){var s=fe(r),u=s.seekData,l=s._state;if(!u.startTime){var c=r.player,f=c.buffered,h=c.currentTime;u.startTime=ke(),u.timeBefore=l.time,u.timeAfter=h;var p=d.getBufferByCurrentTime(f,h);K.logInfo(_e,"onSeeking",h,p),u.inBuffer=p.include,u.diffStart=p.diff*1e3,u.lastTime>0?u.interval=u.startTime-u.lastTime:u.interval=-1,K.logInfo(_e,"onSeeking",u),r.suspendWaitingStatus("seek");var m=r._getSeekInfo();r.emitLog(Ge.SEEK_START,$r({start:ke()},m))}}),Oe(fe(r),"_onSeeked",function(){K.logInfo(_e,"onSeeked"),r.suspendSeekingStatus("seeked")}),Oe(fe(r),"_onWaitingLoadStart",function(){r._isWaiting||r.vt||(r._isWaiting=!0,r.waitingStart=ke(),r.fixedWaitingStart=ke(),r._waitType=1,r.emitLog(Ge.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:1,endType:"loadstart"}))}),Oe(fe(r),"_onWaiting",function(){if(!(r._isWaiting||!r.vt)){r._isWaiting=!0;var s=fe(r),u=s.waitData,l=s.seekData,c=s._state;!c.isTimeUpdate&&l.startTime===0?r._waitType=1:l.startTime?r._waitType=2:r._waitType=0,r.fixedWaitingStart=ke(),K.logInfo(_e,"_onWaiting"),u.lastTime>0?u.interval=r.fixedWaitingStart-u.lastTime:u.interval=-1;var f=r.player,h=f.buffered,p=f.currentTime,m=d.getBufferByCurrentTime(h,p);u.diffStart=m.diff*1e3,r._waitTimer=d.setTimeout(fe(r),function(){K.logInfo(_e,"_onWaiting real");var b=fe(r),g=b.waitData;r._isWaiting?(r.waitingStart=ke(),d.clearTimeout(fe(r),r._waitTimer),g.lastTime=r.fixedWaitingStart,r._waitTimer=null,r._startWaitTimeout(),r.emitLog(Ge.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:r._waitType,endType:r._waitType===2?"seek":"playing",diffStart:g.diffStart,interval:g.interval})):(g.interval=-1,g.diffStart=0)},200)}}),Oe(fe(r),"_onError",function(){r.suspendSeekingStatus("error"),r.suspendWaitingStatus("error")}),Oe(fe(r),"_onWaitingTimeout",function(s){r.suspendWaitingStatus(s||"timeout"),d.clearTimeout(fe(r),r._waittTimer),r._waittTimer=null}),Oe(fe(r),"_onProgress",function(){K.logInfo(_e,"_onProgress")}),Oe(fe(r),"_onPlaying",function(){K.logInfo(_e,"_onPlaying"),r._isWaiting&&r.suspendWaitingStatus("playing")}),r}return zg(i,[{key:"afterCreate",value:function(){var n=this;this._onReset(),this._waitType=-1,this._initOnceEvents(),this.newPointTime=ke(),this.loadedCostTime=0,this.startCostTime=0,this.ffsendTime=0,this.on(ji,this._onLoadStart),this.on(ln,this._onLoadedData),this.on(Da,this._onSeeking),this.on(it,this._onSeeked),this.on(Ba,function(){n.endState("destroy")}),this.on(gt,function(){n.endState("ended")}),this.on(Ut,function(){n.endState("pause")}),this.on(Ue,this._onPlay),this.on(Fi,function(){n.endState("urlChange"),K.logInfo(_e,"URL_CHANGE"),n._state.isFFSend&&n._onReset()}),this.on([Aa,ot],this._onPlaying),this.on(Ir,this._onWaiting),this.on(Ni,this._onError),this.on(Hi,function(){K.logInfo(_e,"RESET"),n.endState("reset"),n._initOnceEvents(),n._onReset();var o=n.levelInfo,a=n.playerConfig;a.autoplay&&(o.startType="onreset",o.startBuffer=0)})}},{key:"_initOnceEvents",value:function(){this.off(Ct,this._onAutoplayStart),this.off(Ve,this._onTimeupdate),this.once(Ct,this._onAutoplayStart),this.on(Ve,this._onTimeupdate)}},{key:"_sendFF",value:function(n){var o=this._state,a=o.isFFLoading,s=o.isFFSend;if(K.logInfo(_e,"_sendFF","".concat(n," fvt:").concat(this.fvt," isFFLoading:").concat(a," !isFFSend:").concat(!s)),this.vt>0&&a&&!s){var u;this.ffsendTime=ke();var l=this.levelInfo,c=l.buffer,f=l.startBuffer,h=l.startType;K.logInfo(_e,"emitLog_firstFrame",n,"startBuffer:".concat(f," startType:").concat(h," buffer:").concat(c," ")),this._state.isFFLoading=!1,this._state.isFFSend=!0;var p=this.fvt+(((u=this.player)===null||u===void 0?void 0:u.beforeLoadStartCostTime)||0);this.emitLog(Ge.FIRST_FRAME,{fvt:this.fvt,costTime:p,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime,buffer:c,startBuffer:f,endType:n})}}},{key:"_updateBuffer",value:function(){var n=this.player,o=n.buffered,a=n.currentTime,s=d.getBufferByCurrentTime(o,a);K.logInfo(_e,"_updateBuffer",s);var u=this.levelInfo;u.buffer=s.end*1e3,u.diff=s.diff*1e3}},{key:"_getSeekInfo",value:function(){var n=this.seekData,o=n.interval,a=n.timeBefore,s=n.timeAfter,u=n.inBuffer,l=n.diffStart;return{interval:o,timeBefore:a,timeAfter:s,inBuffer:u,diffStart:l}}},{key:"_startWaitTimeout",value:function(){this._waittTimer&&d.clearTimeout(this,this._waittTimer),this._waittTimer=d.setTimeout(this,this._onWaitingTimeout,this.config.waitTimeout)}},{key:"endState",value:function(n){var o=this.player,a=o.currentTime,s=o.duration,u=s-a,l=!(s>0&&a>0&&u<1);K.logInfo(_e,"endState:".concat(n," duration - currentTime:").concat(u," _emit:").concat(l)),this.suspendWaitingStatus(n,l),this.suspendSeekingStatus(n,l)}},{key:"suspendSeekingStatus",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.seekData;if(a.startTime){var s=ke(),u=s-a.startTime,l=this.player,c=l.buffered,f=l.currentTime,h=d.getBufferByCurrentTime(c,f);K.logInfo(_e,"suspendSeekingStatus",f,u),a.lastTime=a.startTime,a.startTime=0;var p=o?Ge.SEEK_END:Ge.SEEK_END_EXT,m=this._getSeekInfo();this.emitLog(p,$r($r({end:s,costTime:u,endType:n},m),{},{diffEnd:h.diff*1e3}))}}},{key:"suspendWaitingStatus",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this._waitTimer&&(d.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(d.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var a=this.waitData,s=ke(),u=s-this.waitingStart,l=s-this.fixedWaitingStart,c=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0;var f=this.player,h=f.buffered,p=f.currentTime,m=d.getBufferByCurrentTime(h,p),b=o?Ge.WAIT_END:Ge.WAIT_END_EXT;this.emitLog(b,{fixedCostTime:l>c?c:l,costTime:u>c?c:u,type:n==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":n,diffStart:a.diffStart,diffEnd:m.diff*1e3,interval:a.interval})}}},{key:"emitLog",value:function(n,o){var a=this.player,s=a.video,u=s.readyState,l=s.networkState;this.emit(Zu,$r({t:ke(),host:d.getHostFromUrl(a.currentSrc),vtype:a.vtype,eventType:n,currentTime:a.currentTime,readyState:u,networkState:l},o))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(oe);function gn(t){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(t)}function qg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zg(r.key),r)}}function Jg(t,e,i){return e&&_s(t.prototype,e),i&&_s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zg(t){var e=Qg(t,"string");return gn(e)==="symbol"?e:String(e)}function Qg(t,e){if(gn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(gn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function em(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Co(t,e)}function tm(t){var e=im();return function(){var r=ni(t),n;if(e){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){if(e&&(gn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rm(t)}function rm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function im(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ni(t){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ni(t)}var om='<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78"><path fill="#fff" d="M28.227 33.876l3.04-1.229a1 1 0 011.303.553l.374.927a1 1 0 01-.552 1.302l-5.564 2.247-.927.375a1 1 0 01-1.302-.553l-2.622-6.49a1 1 0 01.553-1.302l.927-.374a1 1 0 011.302.552l.92 2.278A15.005 15.005 0 0139.5 23c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15a14.955 14.955 0 01-10.63-4.417 1.5 1.5 0 112.126-2.116A11.956 11.956 0 0039.5 50c6.627 0 12-5.373 12-12s-5.373-12-12-12a12.005 12.005 0 00-11.273 7.876z"/></svg>',am=function(t){em(i,t);var e=tm(i);function i(){return qg(this,i),e.apply(this,arguments)}return Jg(i,[{key:"registerIcons",value:function(){return{replay:om}}},{key:"afterCreate",value:function(){var n=this;oe.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayHandler",function(){n.player.replay()},{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(gt,function(){if(n.playerConfig.loop||d.addClass(n.player.root,"replay"),!n.config.disable){n.show();var o=n.root.querySelector("path");if(o){var a=window.getComputedStyle(o).getPropertyValue("transform");if(typeof a=="string"&&a.indexOf("none")>-1)return null;o.setAttribute("transform",a)}}}),this.on(Ue,function(){n.hide()})}},{key:"handleReplay",value:function(n){n.preventDefault(),n.stopPropagation(),this.player.replay(),d.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(oe);function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}function sm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ws(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lm(r.key),r)}}function um(t,e,i){return e&&ws(t.prototype,e),i&&ws(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lm(t){var e=cm(t,"string");return mn(e)==="symbol"?e:String(e)}function cm(t,e){if(mn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Io(t,e)}function Io(t,e){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Io(t,e)}function dm(t){var e=vm();return function(){var r=ri(t),n;if(e){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(mn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pm(t)}function pm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ri(t)}var ym=function(t){fm(i,t);var e=dm(i);function i(){return sm(this,i),e.apply(this,arguments)}return um(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(n){this.config.isEndedShow=n}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(n){typeof n.player.config.poster=="string"&&(n.config.poster=n.player.config.poster)}},{key:"afterCreate",value:function(){var n=this;this.on(gt,function(){n.isEndedShow&&d.removeClass(n.root,"hide")}),this.config.hideCanplay?(this.once(Ve,function(){n.onTimeUpdate()}),this.on(Fi,function(){d.removeClass(n.root,"hide"),d.addClass(n.root,"xg-showplay"),n.once(Ve,function(){n.onTimeUpdate()})})):this.on(Ue,function(){d.addClass(n.root,"hide")})}},{key:"onTimeUpdate",value:function(){var n=this;this.player.currentTime?d.removeClass(this.root,"xg-showplay"):this.once(Ve,function(){n.onTimeUpdate()})}},{key:"update",value:function(n){n&&(this.config.poster=n,this.root.style.backgroundImage="url(".concat(n,")"))}},{key:"render",value:function(){var n=this.config,o=n.poster,a=n.hideCanplay,s=o?"background-image:url(".concat(o,");"):"";return'<xg-poster class="xgplayer-poster '.concat(a?"xg-showplay":"",'" style="').concat(s,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}]),i}(oe);function bn(t){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(t)}function gm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gl(r.key),r)}}function mm(t,e,i){return e&&Ps(t.prototype,e),i&&Ps(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function bm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}function xo(t,e){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xo(t,e)}function _m(t){var e=Pm();return function(){var r=ii(t),n;if(e){var o=ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(t,e){if(e&&(bn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(t)}function Ro(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ii(t)}function Ss(t,e,i){return e=gl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gl(t){var e=Sm(t,"string");return bn(e)==="symbol"?e:String(e)}function Sm(t,e){if(bn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(bn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var km='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',Om='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',tt={};function Tm(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};tt[t]&&window.clearTimeout(tt[t].id),tt[t]={},i.start&&i.start(),tt[t].id=window.setTimeout(function(){i.end&&i.end(),window.clearTimeout(tt[t].id),delete tt[t]},e)}function Em(){Object.keys(tt).map(function(t){window.clearTimeout(tt[t].id),delete tt[t]})}var Cm=function(t){bm(i,t);var e=_m(i);function i(r){var n;return gm(this,i),n=e.call(this,r),Ss(Ro(n),"onPlayerReset",function(){n.autoPlayStart=!1;var o=n.config.mode==="auto"?"auto-hide":"hide";n.setAttr("data-state","play"),d.removeClass(n.root,o),n.show()}),Ss(Ro(n),"onAutoplayStart",function(){if(!n.autoPlayStart){var o=n.config.mode==="auto"?"auto-hide":"hide";d.addClass(n.root,o),n.autoPlayStart=!0,n.onPlayPause("play")}}),n.autoPlayStart=!1,n._lastState="",n}return mm(i,[{key:"afterCreate",value:function(){var n=this,o=this.player,a=this.playerConfig;this.initIcons(),this.once(Na,function(){a&&(a.lang&&a.lang==="en"?d.addClass(o.root,"lang-is-en"):a.lang==="jp"&&d.addClass(o.root,"lang-is-jp"))}),this.on(Ct,this.onAutoplayStart),a.autoplay||this.show(),this.on(ja,function(){var s=n.config.mode==="auto"?"auto-hide":"hide";n.setAttr("data-state","play"),d.removeClass(n.root,s),n.show()}),this.on(Ue,function(){n.onPlayPause("play")}),this.on(Ut,function(){n.onPlayPause("pause")}),this.on(an,function(){n.onPlayPause(o.paused?"pause":"play")}),this.on(Hi,function(){n.onPlayerReset()}),this.clickHandler=this.hook("click",this.switchPausePlay,{pre:function(u){u.cancelable&&u.preventDefault(),u.stopPropagation(),n.emitUserAction(u,"switch_play_pause")}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:km,class:"xg-icon-play"},startPause:{icon:Om,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild("xg-start-inner",n.startPlay),this.appendChild("xg-start-inner",n.startPause)}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){d.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){d.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(n){n?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(n){var o=this;Tm("pauseplay",400,{start:function(){d.addClass(o.root,"interact"),o.show(),o.switchStatus(!0)},end:function(){d.removeClass(o.root,"interact"),!n&&o.hide()}})}},{key:"switchPausePlay",value:function(n){var o=this.player;if(n.cancelable&&n.preventDefault(),n.stopPropagation(),!!o.isReady){var a=this.player.paused;!a&&o.isPlaying?o.pause():o.play()}}},{key:"onPlayPause",value:function(n){var o=this.config,a=this.player;if(!(!a.isPlaying||!this.autoPlayStart||n==="pause"&&(this._lastState===n||a.isBufferControlPaused))){if(this._lastState=n,o.mode==="show"){this.switchStatus(),this.show();return}if(o.mode==="auto"){this.switchStatus();return}if(o.isShowPause&&a.paused&&!a.ended||o.isShowEnd&&a.ended){this.switchStatus(),this.show();return}if(o.disableAnimate){this.switchStatus(),this.hide();return}if(n==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||a.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),Em()}},{key:"render",value:function(){var n=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(n,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(oe);function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ks(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rm(r.key),r)}}function xm(t,e,i){return e&&ks(t.prototype,e),i&&ks(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rm(t){var e=$m(t,"string");return _n(e)==="symbol"?e:String(e)}function $m(t,e){if(_n(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(_n(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$o(t,e)}function $o(t,e){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$o(t,e)}function Am(t){var e=Nm();return function(){var r=oi(t),n;if(e){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dm(this,n)}}function Dm(t,e){if(e&&(_n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mm(t)}function Mm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oi(t)}var jm=function(t){Lm(i,t);var e=Am(i);function i(){return Im(this,i),e.apply(this,arguments)}return xm(i,[{key:"render",value:function(){var n=this.config.innerHtml,o=d.createDom("xg-enter","",{},"xgplayer-enter");if(n&&n instanceof window.HTMLElement)o.appendChild(n);else if(n&&typeof n=="string")o.innerHTML=n;else{for(var a="",s=1;s<=12;s++)a+='<div class="xgplayer-enter-bar'.concat(s,'"></div>');o.innerHTML='<div class="xgplayer-enter-spinner">'.concat(a,"</div>")}return o}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(oe);function wn(t){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(t)}function Bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Os(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hm(r.key),r)}}function Fm(t,e,i){return e&&Os(t.prototype,e),i&&Os(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hm(t){var e=Vm(t,"string");return wn(e)==="symbol"?e:String(e)}function Vm(t,e){if(wn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(wn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}function Lo(t,e){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lo(t,e)}function Um(t){var e=Wm();return function(){var r=ai(t),n;if(e){var o=ai(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Km(this,n)}}function Km(t,e){if(e&&(wn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gm(t)}function Gm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ai(t){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ai(t)}var Ts=function(t){zm(i,t);var e=Um(i);function i(){return Bm(this,i),e.apply(this,arguments)}return Fm(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var n="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[n],'">').concat(this.i18n[n],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:10}}}]),i}(oe);function Ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xm(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jm(r.key),r)}}function qm(t,e,i){return e&&Xm(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jm(t){var e=Zm(t,"string");return $t(e)==="symbol"?e:String(e)}function Zm(t,e){if($t(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if($t(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ao(t,e)}function Ao(t,e){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ao(t,e)}function eb(t){var e=nb();return function(){var r=si(t),n;if(e){var o=si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ml(this,n)}}function ml(t,e){if(e&&($t(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tb(t)}function tb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function si(t){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},si(t)}function $t(t){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(t)}function Es(t){var e=parseFloat(t),i=t.indexOf("%")===-1&&!Number.isNaN(e);return i&&e}var Va=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],bl=Va.length;function rb(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<bl;e++){var i=Va[e];t[i]=0}return t}function ib(t){var e=window.getComputedStyle(t);return e}function Cs(t){if(typeof t=="string"&&(t=document.querySelector(t)),!(!t||$t(t)!=="object"||!t.nodeType)){var e=ib(t);if(e.display==="none")return rb();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var r=i.isBorderBox=e.boxSizing==="border-box",n=0;n<bl;n++){var o=Va[n],a=e[o],s=parseFloat(a);i[o]=Number.isNaN(s)?0:s}var u=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,f=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,p=i.borderTopWidth+i.borderBottomWidth,m=r,b=Es(e.width);b!==!1&&(i.width=b+(m?0:u+h));var g=Es(e.height);return g!==!1&&(i.height=g+(m?0:l+p)),i.innerWidth=i.width-(u+h),i.innerHeight=i.height-(l+p),i.outerWidth=i.width+c,i.outerHeight=i.height+f,i}}function eo(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(r.identifier===e)return r}}var to={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},Is={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},ob=function(t){Qm(i,t);var e=eb(i);function i(r){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ym(this,i),n=e.call(this),n.isEnabled=!0,n.isDragging=!1,n.isDown=!1,n.position={},n.downPoint={},n.dragPoint={x:0,y:0},n.startPos={x:0,y:0},n._root=r instanceof Element?r:document.querySelector(r),n._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),!n._root||!n._handlerDom?ml(n):(n._bindStartEvent(),n)}return qm(i,[{key:"_bindStartEvent",value:function(){var n=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Is[this._startKey].map(function(o){n["on".concat(o)]=n["on".concat(o)].bind(n)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(n){var o=this;if(n){var a=Is[this._startKey];a.map(function(s){window.addEventListener(s,o["on".concat(s)])}),this._boundPointerEvents=a}}},{key:"_unbindPostStartEvents",value:function(){var n=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(o){window.removeEventListener(o,n["on".concat(o)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(n){this.onUp()}},{key:"animate",value:function(){var n=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){n.animate()}))}},{key:"positionDrag",value:function(){var n="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=n,this._root.style.webKitTransform=n}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(n){this.dragStart(n,n)}},{key:"onmousemove",value:function(n){this.dragMove(n,n)}},{key:"onmouseup",value:function(n){this.dragEnd(n,n)}},{key:"ontouchstart",value:function(n){var o=n.changedTouches[0];this.dragStart(n,o),this.touchIdentifier=o.pointerId!==void 0?o.pointerId:o.identifier,n.preventDefault()}},{key:"ontouchmove",value:function(n){var o=eo(n.changedTouches,this.touchIdentifier);o&&this.dragMove(n,o)}},{key:"ontouchend",value:function(n){var o=eo(n.changedTouches,this.touchIdentifier);o&&this.dragEnd(n,o),n.preventDefault()}},{key:"ontouchcancel",value:function(n){var o=eo(n.changedTouches,this.touchIdentifier);o&&this.dragCancel(n,o)}},{key:"dragStart",value:function(n,o){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=o,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var a=Cs(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-a.height,this.startPos.maxX=window.innerWidth-a.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(n)}}},{key:"dragRealStart",value:function(n,o){this.isDragging=!0,this.animate(),this.emit(to.START,this.startPos)}},{key:"dragEnd",value:function(n,o){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(to.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(n,o){var a={x:o.pageX-this.downPoint.pageX,y:o.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(a)&&this.dragRealStart(n,o),a}},{key:"dragMove",value:function(n,o){if(n=n||window.event,!!this.isDown){var a=this.startPos,s=a.x,u=a.y,l=this._dragPointerMove(n,o),c=l.x,f=l.y;c=this.checkContain("x",c,s),f=this.checkContain("y",f,u),this.position.x=s+c,this.position.y=u+f,this.dragPoint.x=c,this.dragPoint.y=f,this.emit(to.MOVE,this.position)}}},{key:"dragCancel",value:function(n,o){this.dragEnd(n,o)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(n){return Math.abs(n.x)>3||Math.abs(n.y)>3}},{key:"checkContain",value:function(n,o,a){return o+a<0?0-a:n==="x"&&o+a>this.startPos.maxX?this.startPos.maxX-a:n==="y"&&o+a>this.startPos.maxY?this.startPos.maxY-a:o}},{key:"_getPosition",value:function(){var n=window.getComputedStyle(this._root),o=this._getPositionCoord(n.left,"width"),a=this._getPositionCoord(n.top,"height");this.position.x=Number.isNaN(o)?0:o,this.position.y=Number.isNaN(a)?0:a,this._addTransformPosition(n)}},{key:"_addTransformPosition",value:function(n){var o=n.transform;if(o.indexOf("matrix")===0){var a=o.split(","),s=o.indexOf("matrix3d")===0?12:4,u=parseInt(a[s],10),l=parseInt(a[s+1],10);this.position.x+=u,this.position.y+=l}}},{key:"_getPositionCoord",value:function(n,o){if(n.indexOf("%")!==-1){var a=Cs(this._root.parentNode);return a?parseFloat(n)/100*a[o]:0}return parseInt(n,10)}}]),i}(Vu);function Pn(t){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}function ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_l(r.key),r)}}function sb(t,e,i){return e&&xs(t.prototype,e),i&&xs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ub(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}function Do(t,e){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Do(t,e)}function lb(t){var e=fb();return function(){var r=ui(t),n;if(e){var o=ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){if(e&&(Pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}function nn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ui(t)}function no(t,e,i){return e=_l(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _l(t){var e=db(t,"string");return Pn(e)==="symbol"?e:String(e)}function db(t,e){if(Pn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hb='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',pb='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',vb=function(t){ub(i,t);var e=lb(i);function i(r){var n;ab(this,i),n=e.call(this,r),no(nn(n),"onCancelClick",function(s){n.exitMini(),n.isClose=!0}),no(nn(n),"onCenterClick",function(s){var u=nn(n),l=u.player;l.paused?l.play():l.pause()}),no(nn(n),"onScroll",function(s){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-n.pos.scrollY)<50)){var u=parseInt(d.getCss(n.player.root,"height"));u+=n.config.scrollTop,n.pos.scrollY=window.scrollY,window.scrollY>u+5?!n.isMini&&!n.isClose&&n.getMini():window.scrollY<=u&&(n.isMini&&n.exitMini(),n.isClose=!1)}}),n.isMini=!1,n.isClose=!1;var o=nn(n),a=o.config;return n.pos={left:a.left<0?window.innerWidth-a.width-20:a.left,top:a.top<0?window.innerHeight-a.height-20:a.top,height:n.config.height,width:n.config.width,scrollY:window.scrollY||0},n.lastStyle=null,n}return sb(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.mini=="boolean"&&(n.config.isShowIcon=n.player.config.mini)}},{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.on(Ut,function(){n.setAttr("data-state","pause")}),this.on(Ue,function(){n.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var n=this,o=this.player,a=this.config;if(!a.disable){if(this.config.isShowIcon){var s={config:{onClick:function(){n.getMini()}}};o.controls.registerPlugin(Ts,s,Ts.pluginName)}var u=d.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",u,this.onCancelClick),this.bind(".play-icon",u,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new ob(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:hb,class:"xg-icon-play"},pause:{icon:pb,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".play-icon",n.play),this.appendChild(".play-icon",n.pause)}},{key:"getMini",value:function(){var n=this;if(!this.isMini){var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;this.lastStyle={},d.addClass(o.root,"xgplayer-mini"),["width","height","top","left"].map(function(u){n.lastStyle[u]=s.style[u],s.style[u]="".concat(n.pos[u],"px")}),a.fluid&&(s.style["padding-top"]=""),this.emit(Yr,!0),o.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var n=this;if(!this.isMini)return!1;var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;d.removeClass(o.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(u){s.style[u]=n.lastStyle[u]}),this.lastStyle=null,a.fluid&&(o.root.style.width="100%",o.root.style.height="0",o.root.style["padding-top"]="".concat(a.height*100/a.width,"%")),this.emit(Yr,!1),this.isMini=o.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var n=d.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",n,this.onCancelClick),this.unbind(".play-icon",n,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      <div lang-key="`.concat(this.i18nKeys.MINI_DRAG,'">').concat(this.i18n.MINI_DRAG,`</div>
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(oe);function Sn(t){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(t)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wl(r.key),r)}}function gb(t,e,i){return e&&Rs(t.prototype,e),i&&Rs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function mb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}function Mo(t,e){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Mo(t,e)}function bb(t){var e=wb();return function(){var r=li(t),n;if(e){var o=li(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _b(this,n)}}function _b(t,e){if(e&&(Sn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(t)}function Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},li(t)}function nr(t,e,i){return e=wl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wl(t){var e=Pb(t,"string");return Sn(e)==="symbol"?e:String(e)}function Pb(t,e){if(Sn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Sn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lr={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},ro=["videoClick","videoDbClick"],io=function(t){mb(i,t);var e=bb(i);function i(){var r;yb(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),nr(Ne(r),"onMouseMove",function(s){var u=Ne(r),l=u.player,c=u.playerConfig;l.isActive||(l.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&l.video.focus())}),nr(Ne(r),"onMouseEnter",function(s){var u=Ne(r),l=u.playerConfig,c=u.player;!l.closeFocusVideoFocus&&c.video.focus(),l.closeDelayBlur?c.focus({autoHide:!1}):c.focus()}),nr(Ne(r),"onMouseLeave",function(s){var u=r.playerConfig,l=u.closePlayerBlur,c=u.leavePlayerTime,f=u.closeDelayBlur;!l&&!f&&(c?r.player.focus({autoHide:!0,delay:c}):r.player.blur())}),nr(Ne(r),"onVideoClick",function(s){var u=Ne(r),l=u.player,c=u.playerConfig;s.target&&c.closeVideoClick||(s.target===l.video||s.target===l.innerContainer||s.target===l.video.__canvas)&&(s.preventDefault(),c.closeVideoStopPropagation||s.stopPropagation(),r._clickCount++,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),r.clickTimer=setTimeout(function(){r._clickCount&&(r._clickCount--,nt(Ne(r),ro[0],function(f,h){r.switchPlayPause(h.e)},{e:s,paused:l.paused}),clearTimeout(r.clickTimer),r.clickTimer=null)},300))}),nr(Ne(r),"onVideoDblClick",function(s){var u=Ne(r),l=u.player,c=u.playerConfig;if(!(c.closeVideoDblclick||!s.target||s.target!==l.video&&s.target!==l.video.__canvas)){if(r._clickCount<2){r._clickCount=0;return}r._clickCount=0,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),s.preventDefault(),s.stopPropagation(),nt(Ne(r),ro[1],function(f,h){r.emitUserAction(h.e,"switch_fullscreen",{fullscreen:l.fullscreen}),l.fullscreen?l.exitFullscreen():l.getFullscreen()},{e:s,fullscreen:l.fullscreen})}}),r}return gb(i,[{key:"afterCreate",value:function(){var n=this;this._clickCount=0,ro.map(function(a){n.__hooks[a]=null});var o=this.playerConfig.isMobileSimulateMode;o==="mobile"||X.device==="mobile"&&!X.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var n=this,o=this.player,a=o.video,s=o.root,u=this.playerConfig.enableContextmenu;a&&a.addEventListener("click",this.onVideoClick,!1),a&&a.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Lr).map(function(l){s.addEventListener(l,n[Lr[l]],!1)}),u&&a&&a.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(n){var o=this.player;this.emitUserAction(n,"switch_play_pause"),o.ended?o.duration!==1/0&&o.duration>0&&o.replay():o.paused?o.play():o.pause()}},{key:"onContextmenu",value:function(n){n=n||window.event,n.preventDefault&&n.preventDefault(),n.stopPropagation?n.stopPropagation():(n.returnValue=!1,n.cancelBubble=!0)}},{key:"destroy",value:function(){var n=this,o=this.player,a=o.video,s=o.root;this.clickTimer&&clearTimeout(this.clickTimer),a.removeEventListener("click",this.onVideoClick,!1),a.removeEventListener("dblclick",this.onVideoDblClick,!1),a.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Lr).map(function(u){s.removeEventListener(u,n[Lr[u]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(Rt);function Sr(t){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(t)}function Sb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kb(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pl(r.key),r)}}function Ob(t,e,i){return e&&kb(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ar(t,e,i){return e=Pl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pl(t){var e=Tb(t,"string");return Sr(e)==="symbol"?e:String(e)}function Tb(t,e){if(Sr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Sr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lt={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},Eb={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Cb={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function $s(t){return t&&t.length>0?t[t.length-1]:null}function Ls(t){var e=navigator.userAgent;/(?:iPhone|iPad)/.test(e)&&t.cancelable&&t.preventDefault()}function Ib(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var xb=function(){function t(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};Sb(this,t),Ar(this,"onTouchStart",function(n){var o=i._pos,a=i.root,s=i.config;s.needPreventDefault&&Ls(n);var u=$s(n.touches);o.x=u?parseInt(u.pageX,10):n.pageX,o.y=u?parseInt(u.pageX,10):n.pageX,o.start=!0,i.__setPress(n),a.addEventListener(i.events.end,i.onTouchEnd),a.addEventListener(i.events.cancel,i.onTouchCancel),a.addEventListener(i.events.move,i.onTouchMove),i.trigger(lt.TOUCH_START,n)}),Ar(this,"onTouchCancel",function(n){i.onTouchEnd(n)}),Ar(this,"onTouchEnd",function(n){var o=i._pos,a=i.root,s=i.config;s.needPreventDefault&&Ls(n),i.__clearPress(),a.removeEventListener(i.events.cancel,i.onTouchCancel),a.removeEventListener(i.events.end,i.onTouchEnd),a.removeEventListener(i.events.move,i.onTouchMove),n.moving=o.moving,n.press=o.press,o.press&&i.trigger(lt.PRESS_END,n),i.trigger(lt.TOUCH_END,n),!o.press&&!o.moving&&i.__setDb(n),o.press=!1,o.start=!1,o.moving=!1}),Ar(this,"onTouchMove",function(n){var o=i._pos,a=i.config,s=$s(n.touches),u=s?parseInt(s.pageX,10):n.pageX,l=s?parseInt(s.pageY,10):n.pageX,c=u-o.x,f=l-o.y;Math.abs(f)<a.miniStep&&Math.abs(c)<a.miniStep||(i.__clearPress(),o.press&&i.trigger(lt.PRESS_END,n),o.press=!1,o.moving=!0,i.trigger(lt.TOUCH_MOVE,n))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=Ib(),Object.keys(r).map(function(n){i.config[n]=r[n]}),this.root=e,this.events=r.eventType==="mouse"?Cb:Eb,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return Ob(t,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(i){var r=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){r.trigger(lt.PRESS,i),r._pos.press=!0,r.__clearPress()},n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(i){var r=this,n=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(lt.DOUBlE_CLICK,i);return}this.dbIntrvalId=setTimeout(function(){r.__clearDb(),!r._pos.start&&!r._pos.press&&!r._pos.moving&&r.trigger(lt.CLICK,i)},n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(i,r){this.__handlers[i]||(this.__handlers[i]=[]),this.__handlers[i].push(r)}},{key:"off",value:function(i,r){if(this.__handlers[i]){for(var n=this.__handlers[i],o=-1,a=0;a<n.length;a++)if(n[a]===r){o=a;break}o>=0&&this.__handlers[i].splice(o,1)}}},{key:"trigger",value:function(i,r){this.__handlers[i]&&this.__handlers[i].map(function(n){try{n(r)}catch(o){console.error("trigger>>:".concat(i),o)}})}},{key:"destroy",value:function(){var i=this,r={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(r).forEach(function(n){i.root.removeEventListener(n,i[r[n]])})}}]),t}();function kn(t){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(t)}function Rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sl(r.key),r)}}function $b(t,e,i){return e&&As(t.prototype,e),i&&As(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},No(t,e)}function Ab(t){var e=Mb();return function(){var r=ci(t),n;if(e){var o=ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(t,e){if(e&&(kn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ci(t)}function rr(t,e,i){return e=Sl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Sl(t){var e=Nb(t,"string");return kn(e)==="symbol"?e:String(e)}function Nb(t,e){if(kn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(kn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jb='<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".54" d="M7.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 010 7.964V1.036A1 1 0 011.5.17l6 3.464z" fill="#fff"/><path d="M12.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 015 7.964V1.036A1 1 0 016.5.17l6 3.464z" fill="#fff"/></svg>',bt={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate",LIGHT:""},oo=["videoClick","videoDbClick"],Bb=function(t){Lb(i,t);var e=Ab(i);function i(r){var n;return Rb(this,i),n=e.call(this,r),rr(et(n),"onTouchStart",function(o){var a=et(n),s=a.player,u=a.config,l=a.pos,c=a.playerConfig,f=n.getTouche(o);if(f&&!u.disableGesture&&n.duration>0&&!s.ended){l.isStart=!0,d.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),n.find(".xg-dur").innerHTML=d.format(n.duration);var h=n.root.getBoundingClientRect();s.rotateDeg===90?(l.top=h.left,l.left=h.top,l.width=h.height,l.height=h.width):(l.top=h.top,l.left=h.left,l.width=h.width,l.height=h.height);var p=parseInt(f.pageX-l.left,10),m=parseInt(f.pageY-l.top,10);l.x=s.rotateDeg===90?m:p,l.y=s.rotateDeg===90?p:m,l.scopeL=u.scopeL*l.width,l.scopeR=(1-u.scopeR)*l.width,l.scopeM1=l.width*(1-u.scopeM)/2,l.scopeM2=l.width-l.scopeM1}}),rr(et(n),"onTouchMove",function(o){var a=n.getTouche(o),s=et(n),u=s.pos,l=s.config,c=s.player;if(!(!a||l.disableGesture||!n.duration||!u.isStart)){var f=l.miniMoveStep,h=l.hideControlsActive,p=parseInt(a.pageX-u.left,10),m=parseInt(a.pageY-u.top,10),b=c.rotateDeg===90?m:p,g=c.rotateDeg===90?p:m;if(Math.abs(b-u.x)>f||Math.abs(g-u.y)>f){var I=b-u.x,x=g-u.y,O=u.scope;if(O===-1&&(O=n.checkScope(b,g,I,x,u),O===0&&(h?c.blur():c.focus({autoHide:!1}),!u.time&&(u.time=parseInt(c.currentTime*1e3,10)+n.timeOffset*1e3)),u.scope=O),O===-1||O>0&&!l.gestureY||O===0&&!l.gestureX)return;o.cancelable&&o.preventDefault(),n.executeMove(I,x,O,u.width,u.height),u.x=b,u.y=g}}}),rr(et(n),"onTouchEnd",function(o){var a=et(n),s=a.player,u=a.pos,l=a.playerConfig;u.isStart&&(u.scope>-1&&o.cancelable&&o.preventDefault(),n.endLastMove(u.scope),setTimeout(function(){s.getPlugin("progress")&&s.getPlugin("progress").resetSeekState()},10),u.scope=-1,n.resetPos(),d.checkIsFunction(l.enableSwipeHandler)&&l.enableSwipeHandler(),n.changeAction(bt.AUTO))}),rr(et(n),"onRootTouchMove",function(o){n.config.disableGesture||!n.config.gestureX||n.checkIsRootTarget(o)&&(o.stopPropagation(),n.pos.isStart?n.onTouchMove(o):n.onTouchStart(o))}),rr(et(n),"onRootTouchEnd",function(o){if(n.pos.isStart&&n.checkIsRootTarget(o)){o.stopPropagation(),n.onTouchEnd(o);var a=n.player.controls;a&&a.recoverAutoHide()}}),n.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},n.timer=null,n}return $b(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:jb,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var n=this;oo.map(function(f){n.__hooks[f]=null});var o=this.playerConfig,a=this.config,s=this.player;o.closeVideoDblclick===!0&&(a.closedbClick=!0),this.resetPos(),d.isUndefined(o.disableGesture)||(a.disableGesture=!!o.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=d.createDom("xg-mask","",{},"xgmask"),s.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var u=this.domEventType==="mouse"?"mouse":"touch";this.touch=new xb(this.root,{eventType:u,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(f){f.preventDefault()}),s.root.addEventListener("touchmove",this.onRootTouchMove,!0),s.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(er,function(){var f=n.player,h=n.config;f.duration*1e3<h.moveDuration&&(h.moveDuration=f.duration*1e3)}),this.on([ot,gt],function(){var f=n.pos,h=f.time,p=f.isStart;!p&&h>0&&(n.pos.time=0)});var l={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(l).forEach(function(f){n.touch.on(f,function(h){n[l[f]](h)})}),!a.disableActive){var c=s.plugins.progress;c&&(c.addCallBack("dragmove",function(f){n.activeSeekNote(f.currentTime,f.forward)}),c.addCallBack("dragend",function(){n.changeAction(bt.AUTO)}),c.addCallBack("click",function(){n.changeAction(bt.AUTO)}))}}},{key:"registerThumbnail",value:function(){var n=this.player,o=n.plugins.thumbnail;if(o&&o.usable){this.thumbnail=o.createThumbnail(null,"mobile-thumbnail");var a=this.find(".time-preview");a.insertBefore(this.thumbnail,a.children[0])}}},{key:"initCustomStyle",value:function(){var n=this.playerConfig||{},o=n.commonStyle,a=o.playedColor,s=o.progressColor;a&&(this.find(".xg-curbar").style.backgroundColor=a,this.find(".xg-cur").style.color=a),s&&(this.find(".xg-bar").style.backgroundColor=s,this.find(".time-preview").style.color=s),this.config.disableTimeProgress&&d.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var n=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(o){n.pos[o]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(n){var o=this.player,a=this.root;a.setAttribute("data-xg-action",n);var s=o.plugins.start;s&&s.recover()}},{key:"getTouche",value:function(n){var o=this.player.rotateDeg,a=n.touches&&n.touches.length>0?n.touches[n.touches.length-1]:n;return o===0?{pageX:a.pageX,pageY:a.pageY}:{pageX:a.pageX,pageY:a.pageY}}},{key:"checkScope",value:function(n,o,a,s,u){var l=u.width,c=-1;if(n<0||n>l)return c;var f=Math.abs(s===0?a:a/s);return Math.abs(a)>0&&f>=1.73&&n>u.scopeM1&&n<u.scopeM2?c=0:(Math.abs(a)===0||f<=.57)&&(c=n<u.scopeL?1:n>u.scopeR?2:3),c}},{key:"executeMove",value:function(n,o,a,s,u){switch(a){case 0:this.updateTime(n/s*this.config.scopeM);break;case 1:this.updateBrightness(o/u);break;case 2:X.os.isIos||this.updateVolume(o/u);break}}},{key:"endLastMove",value:function(n){var o=this,a=this.pos,s=this.player,u=this.config,l=(a.time-this.timeOffset)/1e3;switch(n){case 0:s.seek(Number(l).toFixed(1)),u.hideControlsEnd?s.blur():s.focus(),this.timer=setTimeout(function(){o.pos.time=0},500);break}this.changeAction(bt.AUTO)}},{key:"checkIsRootTarget",value:function(n){var o=this.player.plugins||{};return o.progress&&o.progress.root.contains(n.target)?!1:o.start&&o.start.root.contains(n.target)||o.controls&&o.controls.root.contains(n.target)}},{key:"clickHandler",value:function(n){var o=this.player,a=this.config,s=this.playerConfig;if(!o.isPlaying){s.closeVideoClick||(this.emitUserAction("click","switch_play_pause"),o.play());return}!a.closedbClick||s.closeVideoClick?o.isActive?o.blur():o.focus():s.closeVideoClick||((o.isActive||a.focusVideoClick)&&(this.emitUserAction("click","switch_play_pause"),this.switchPlayPause()),o.focus())}},{key:"dbClickHandler",value:function(n){var o=this.config,a=this.player;!o.closedbClick&&a.isPlaying&&(this.emitUserAction("dblclick","switch_play_pause"),this.switchPlayPause())}},{key:"onClick",value:function(n){var o=this,a=this.player;nt(this,oo[0],function(s,u){o.clickHandler(u.e)},{e:n,paused:a.paused})}},{key:"onDbClick",value:function(n){var o=this,a=this.player;nt(this,oo[1],function(s,u){o.dbClickHandler(u.e)},{e:n,paused:a.paused})}},{key:"onPress",value:function(n){var o=this.pos,a=this.config,s=this.player;a.disablePress||(o.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{from:s.playbackRate,to:a.pressRate}),s.playbackRate=a.pressRate,this.changeAction(bt.PLAYBACK))}},{key:"onPressEnd",value:function(n){var o=this.pos,a=this.config,s=this.player;a.disablePress||(this.emitUserAction("pressend","change_rate",{from:s.playbackRate,to:o.rate}),s.playbackRate=o.rate,o.rate=1,this.changeAction(bt.AUTO))}},{key:"updateTime",value:function(n){var o=this.player,a=this.config,s=this.player.duration;n=Number(n.toFixed(4));var u=parseInt(n*a.moveDuration,10)+this.timeOffset;u+=this.pos.time,u=u<0?0:u>s*1e3?s*1e3-200:u,o.getPlugin("time")&&o.getPlugin("time").updateTime(u/1e3),o.getPlugin("progress")&&o.getPlugin("progress").updatePercent(u/1e3/this.duration,!0),this.activeSeekNote(u/1e3,n>0),a.isTouchingSeek&&o.seek(Number((u-this.timeOffset)/1e3).toFixed(1)),this.pos.time=u}},{key:"updateVolume",value:function(n){this.player.rotateDeg&&(n=-n);var o=this.player,a=this.pos;if(n=parseInt(n*100,10),a.volume+=n,!(Math.abs(a.volume)<10)){var s=parseInt(o.volume*10,10)-parseInt(a.volume/10,10);s=s>10?10:s<1?0:s,o.volume=s/10,a.volume=0}}},{key:"updateBrightness",value:function(n){this.player.rotateDeg&&(n=-n);var o=this.pos,a=this.config,s=this.xgMask,u=o.light+.8*n;u=u>a.maxDarkness?a.maxDarkness:u<0?0:u,s&&(s.style.backgroundColor="rgba(0,0,0,".concat(u,")")),o.light=u}},{key:"activeSeekNote",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.player,s=this.config,u=!(this.duration!==1/0&&this.duration>0);if(!(!n||typeof n!="number"||u||s.disableActive)){n<0?n=0:n>a.duration&&(n=a.duration-.2),this.changeAction(bt.SEEKING);var l=a.plugins.start;l&&l.focusHide(),this.find(".xg-dur").innerHTML=d.format(this.duration),this.find(".xg-cur").innerHTML=d.format(n),this.find(".xg-curbar").style.width="".concat(n/this.duration*100,"%"),o?d.removeClass(this.find(".xg-seek-show"),"xg-back"):d.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(n)}}},{key:"updateThumbnails",value:function(n){var o=this.player,a=o.plugins.thumbnail;a&&a.usable&&this.thumbnail&&a.update(this.thumbnail,n,160,90)}},{key:"switchPlayPause",value:function(){var n=this.player;if(n.hasStart)n.ended||(n.paused?n.play():n.pause());else return!1}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var n=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,n.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,n.root.removeEventListener("touchmove",this.onRootTouchMove,!0),n.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var n=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(n,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span>/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{stopPropagation:!0,index:0,disableGesture:!1,gestureX:!0,gestureY:!0,updateGesture:function(){},onTouchStart:function(){},onTouchEnd:function(){},gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(oe);function On(t){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(t)}function Ds(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fb(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ds(Object(i),!0).forEach(function(r){lr(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ds(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kl(r.key),r)}}function Vb(t,e,i){return e&&Ms(t.prototype,e),i&&Ms(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function zb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jo(t,e)}function Ub(t){var e=Gb();return function(){var r=fi(t),n;if(e){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(t,e){if(e&&(On(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(t)}function St(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fi(t){return fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},fi(t)}function lr(t,e,i){return e=kl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kl(t){var e=Wb(t,"string");return On(e)==="symbol"?e:String(e)}function Wb(t,e){if(On(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(On(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yb(t){t.preventDefault(),t.returnValue=!1}function Ns(t){var e=t.tagName;return!!(e==="INPUT"||e==="TEXTAREA"||t.isContentEditable)}var js=function(t){zb(i,t);var e=Ub(i);function i(){var r;Hb(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),lr(St(r),"onBodyKeyDown",function(s){if(r.player){var u=s||window.event,l=u.keyCode,c=St(r),f=c._keyState,h=c.player,p=r.config,m=p.disable,b=p.disableBodyTrigger,g=p.isIgnoreUserActive;if(m||b||!h.isUserActive&&!g||Ns(u.target)||!r.checkIsVisible()||u.metaKey||u.altKey||u.ctrlKey){f.isBodyKeyDown=!1;return}!s.repeat&&!f.isKeyDown&&((u.target===document.body||r.config.isGlobalTrigger&&!Ns(u.target))&&r.checkCode(l,!0)&&(f.isBodyKeyDown=!0),document.addEventListener("keyup",r.onBodyKeyUp)),f.isBodyKeyDown&&r.handleKeyDown(u)}}),lr(St(r),"onBodyKeyUp",function(s){r.player&&(document.removeEventListener("keyup",r.onBodyKeyUp),r.handleKeyUp(s))}),lr(St(r),"onKeydown",function(s){if(r.player){var u=s||window.event,l=St(r),c=l._keyState;if(!u.repeat){if(r.config.disable||r.config.disableRootTrigger||u.metaKey||u.altKey||u.ctrlKey||!r.player.isUserActive&&!r.config.isIgnoreUserActive)return;u&&(u.keyCode===37||r.checkCode(u.keyCode))&&(u.target===r.player.root||u.target===r.player.video||u.target===r.player.controls.el)&&(c.isKeyDown=!0),r.player.root.addEventListener("keyup",r.onKeyup)}c.isKeyDown&&r.handleKeyDown(u)}}),lr(St(r),"onKeyup",function(s){r.player&&(r.player.root.removeEventListener("keyup",r.onKeyup),r.handleKeyUp(s))}),r}return Vb(i,[{key:"mergekeyCodeMap",value:function(){var n=this,o=this.config.keyCodeMap;o&&Object.keys(o).map(function(a){n.keyCodeMap[a]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(s){o[a][s]&&(n.keyCodeMap[a][s]=o[a][s])}):n.keyCodeMap[a]=o[a]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var n=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!n||typeof n!="number"||(this.seekStep=n),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var n=this.player.root.getBoundingClientRect(),o=n.height,a=n.top,s=n.bottom,u=window.innerHeight;return!(a<0&&a<0-o*.9||s>0&&s-u>o*.9)}},{key:"checkCode",value:function(n,o){var a=this,s=!1;return Object.keys(this.keyCodeMap).map(function(u){a.keyCodeMap[u]&&n===a.keyCodeMap[u].keyCode&&!a.keyCodeMap[u].disable&&(s=!o||o&&!a.keyCodeMap[u].noBodyTarget)}),s}},{key:"downVolume",value:function(n){var o=this.player;if(!(o.volume<=0)){var a=parseFloat((o.volume-.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(n,"change_volume",{props:s}),a>=0?o.volume=a:o.volume=0}}},{key:"upVolume",value:function(n){var o=this.player;if(!(o.volume>=1)){var a=parseFloat((o.volume+.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(n,"change_volume",{props:s}),a<=1?o.volume=a:o.volume=1}}},{key:"seek",value:function(n){var o=this.player,a=o.currentTime,s=o.duration,u=a,l=n.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;a+l<=s?u=a+l:u=s;var c={currentTime:{from:a,to:u}};this.emitUserAction(n,"seek",{props:c}),this.player.currentTime=u}},{key:"seekBack",value:function(n){var o=this.player.currentTime,a=n.repeat?parseInt(this.seekStep/2,10):this.seekStep,s=0;o-a>=0&&(s=o-a);var u={currentTime:{from:o,to:s}};this.emitUserAction(n,"seek",{props:u}),this.player.currentTime=s}},{key:"changePlaybackRate",value:function(n){var o=this._keyState,a=this.config,s=this.player;o.playbackRate===0&&(o.playbackRate=s.playbackRate,s.playbackRate=a.playbackRate)}},{key:"playPause",value:function(n){var o=this.player;o&&(this.emitUserAction(n,"switch_play_pause"),o.paused?o.play():o.pause())}},{key:"exitFullscreen",value:function(n){var o=this.player,a=o.fullscreen,s=o.cssfullscreen;a&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:a,to:!a}),o.exitFullscreen()),s&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:s,to:!s}),o.exitCssFullscreen())}},{key:"handleKeyDown",value:function(n){var o=this._keyState;if(n.repeat){o.isPress=!0;var a=Date.now();if(a-o.tt<200)return;o.tt=a}Yb(n),this.handleKeyCode(n.keyCode,n,o.isPress)}},{key:"handleKeyUp",value:function(n){var o=this._keyState;o.playbackRate>0&&(this.player.playbackRate=o.playbackRate,o.playbackRate=0),o.isKeyDown=!1,o.isPress=!1,o.tt=0}},{key:"handleKeyCode",value:function(n,o,a){for(var s=Object.keys(this.keyCodeMap),u=0;u<s.length;u++){var l=this.keyCodeMap[s[u]];if(l){var c=l.action,f=l.keyCode,h=l.disable,p=l.pressAction,m=l.disablePress;if(f===n){if(!h&&!(a&&m)){var b=a&&p||c;typeof b=="function"?c(o,this.player,a):typeof b=="string"&&typeof this[b]=="function"&&this[b](o,this.player,a),this.emit(Ju,Fb({key:s[u],target:o.target,isPress:a},this.keyCodeMap[s[u]]))}break}}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!1,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!1}}}]),i}(Rt);function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}function Xb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jb(r.key),r)}}function qb(t,e,i){return e&&Bs(t.prototype,e),i&&Bs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jb(t){var e=Zb(t,"string");return Tn(e)==="symbol"?e:String(e)}function Zb(t,e){if(Tn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Tn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bo(t,e)}function e_(t){var e=r_();return function(){var r=di(t),n;if(e){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(t,e){if(e&&(Tn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n_(t)}function n_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},di(t)}var i_='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110"><path d="M100 50A50 50 0 1150 0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"/></svg>',o_=function(t){Qb(i,t);var e=e_(i);function i(){return Xb(this,i),e.apply(this,arguments)}return qb(i,[{key:"registerIcons",value:function(){return{loadingIcon:i_}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:de.ROOT}}}]),i}(oe);function kr(t){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(t)}function a_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l_(r.key),r)}}function u_(t,e,i){return e&&s_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l_(t){var e=c_(t,"string");return kr(e)==="symbol"?e:String(e)}function c_(t,e){if(kr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(kr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f_=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],d_=function(){function t(e){a_(this,t),this.fragments=e.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=e.actionCallback,this.fragConfig={fragFocusClass:e.fragFocusClass||"inner-focus-point",fragAutoFocus:!!e.fragAutoFocus,fragClass:e.fragClass||""},this.style=e.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return u_(t,[{key:"updateDuration",value:function(i){var r=this;this.duration=i;var n=0,o=this.fragments;this.fragments=o.map(function(a){return a.start=parseInt(n,10),a.end=parseInt(n+a.percent*r.duration,10),a.duration=parseInt(a.percent*r.duration,10),n+=a.percent*r.duration,a})}},{key:"updateProgress",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},n=this.progressList,o=this.fragments;if(!(n.length<1)){var a=r.newIndex,s=r.curIndex,u=r.millisecond;a!==s&&n.map(function(f,h){h<a?f[i].style.width="100%":h>a&&(f[i].style.width=0)});var l=o[a],c=u===0?0:(u-l.start)/l.duration;n[a][i].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(i){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!i){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var r={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(r),this.focusIndex=-1}return}var n=this.findIndex(i.currentTime*1e3,this.focusIndex);if(n>=0&&n!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(n);var o={index:n,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=n,this._callBack&&this._callBack(o)}}}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},r=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(r*1e3,10)!==this.duration){if(!r&&r!==0)return;this.updateDuration(parseInt(r*1e3,10))}var n=this.playedIndex,o=this.cachedIndex;if(d.typeOf(i.played)!=="Undefined"){var a=this.findIndex(i.played*1e3,n);if(a<0)return;this.updateProgress("played",{newIndex:a,curIndex:n,millisecond:parseInt(i.played*1e3,10)}),this.playedIndex=a}if(d.typeOf(i.cached)!=="Undefined"){var s=this.findIndex(i.cached*1e3,o);if(s<0)return;this.updateProgress("cached",{newIndex:s,curIndex:o,millisecond:parseInt(i.cached*1e3,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(i,r){var n=this.fragments;if(!n||n.length===0)return-1;if(n.length===1)return 0;if(r>-1&&r<n.length&&i>n[r].start&&i<n[r].end)return r;if(i>n[n.length-1].start)return n.length-1;for(var o=0;o<n.length;o++)if(i>n[o].start&&i<=n[o].end){r=o;break}return r}},{key:"findHightLight",value:function(){for(var i=this.root.children,r=0;r<i.length;r++)if(d.hasClass(i[r],this.fragConfig.fragFocusClass))return{dom:i[r],pos:i[r].getBoundingClientRect()}}},{key:"findFragment",value:function(i){var r=this.root.children;return i<0||i>=r.length?null:{dom:r[i],pos:r[i].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var i=this.root.children,r=0;r<i.length;r++)d.removeClass(i[r],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(i){var r=this.root.children;if(i<r.length)return d.addClass(r[i],this.fragConfig.fragFocusClass),{dom:r[i],pos:r[i].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(i){var r=this;if(Object.keys(this.fragConfig).forEach(function(o){i[o]!==void 0&&(r.fragConfig[o]=i[o])}),i.fragments){if(this.fragments=i.fragments.length===0?[{percent:1}]:i.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var n=this.root.children;n.length>0;)this.root.removeChild(n[0]);this.render()}}},{key:"render",value:function(){var i=this,r=this.style.progressColor;if(this.root||(this.root=d.createDom("xg-inners","",{},"progress-list")),this.fragments){var n=this.fragConfig,o=n.fragClass,a=n.fragFocusClass;this.progressList=this.fragments.map(function(s){var u=d.createDom("xg-inner","",{style:r?"background:".concat(r,"; flex: ").concat(s.percent):"flex: ".concat(s.percent)},"".concat(s.isFocus?a:""," xgplayer-progress-inner ").concat(o));return i.root.appendChild(u),f_.forEach(function(l){u.appendChild(d.createDom(l.tag,"",{style:l.styleKey?"background: ".concat(i.style[l.styleKey],"; width:0;"):"width:0;"},l.className))}),{cached:u.children[0],played:u.children[1]}})}return this.root}}]),t}();function Lt(t){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}function Fs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Hs(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Fs(Object(i),!0).forEach(function(r){Ee(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fs(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ol(r.key),r)}}function p_(t,e,i){return e&&Vs(t.prototype,e),i&&Vs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fo(t,e)}function Fo(t,e){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Fo(t,e)}function y_(t){var e=m_();return function(){var r=hi(t),n;if(e){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g_(this,n)}}function g_(t,e){if(e&&(Lt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}function ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hi(t)}function Ee(t,e,i){return e=Ol(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ol(t){var e=b_(t,"string");return Lt(e)==="symbol"?e:String(e)}function b_(t,e){if(Lt(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Lt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zs={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},__=function(t){v_(i,t);var e=y_(i);function i(r){var n;return h_(this,i),n=e.call(this,r),Ee(ye(n),"onMoveOnly",function(o,a){var s=ye(n),u=s.pos,l=s.config,c=s.player,f=a;if(o){d.event(o);var h=d.getEventPos(o,c.zoom),p=c.rotateDeg===90?h.clientY:h.clientX;if(u.moving&&Math.abs(u.x-p)<l.miniMoveStep)return;u.moving=!0,u.x=p,f=n.computeTime(o,p)}n.triggerCallbacks("dragmove",f,o),n._updateInnerFocus(f)}),Ee(ye(n),"onBodyClick",function(o){o.preventDefault(),o.stopPropagation()}),Ee(ye(n),"_mouseDownHandler",function(o,a){n._state.time=a.currentTime,n.updateWidth(a.currentTime,a.percent,0),n._updateInnerFocus(a)}),Ee(ye(n),"_mouseUpHandler",function(o,a){var s=ye(n),u=s.pos;u.moving&&n.updateWidth(a.currentTime,a.percent,2)}),Ee(ye(n),"_mouseMoveHandler",function(o,a){var s=ye(n),u=s._state,l=s.pos,c=s.config,f=s.player;u.time<a.currentTime?a.forward=!0:a.forward=!1,u.time=a.currentTime,l.isDown&&!l.moving&&(l.moving=!0,c.isPauseMoving&&f.pause(),n.triggerCallbacks("dragstart",a,o),n.emitUserAction("drag","dragstart",a)),n.updateWidth(a.currentTime,a.percent,1),n.triggerCallbacks("dragmove",a,o),n._updateInnerFocus(a)}),Ee(ye(n),"onMouseDown",function(o){var a=ye(n),s=a._state,u=a.player,l=a.pos,c=a.config,f=a.playerConfig,h=d.getEventPos(o,u.zoom),p=u.rotateDeg===90?h.clientY:h.clientX;if(!(u.isMini||c.closeMoveSeek||!f.allowSeekAfterEnded&&u.ended)){o.stopPropagation(),n.focus(),d.checkIsFunction(f.disableSwipeHandler)&&f.disableSwipeHandler(),d.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),d.event(o),l.x=p,l.isDown=!0,l.moving=!1,s.prePlayTime=u.currentTime,u.focus({autoHide:!1}),n.isProgressMoving=!0,d.addClass(n.progressBtn,"active");var m=n.computeTime(o,p);m.prePlayTime=s.prePlayTime,n._mouseDownHandlerHook(o,m);var b=o.type;return b==="touchstart"?(n.root.addEventListener("touchmove",n.onMouseMove),n.root.addEventListener("touchend",n.onMouseUp),n.root.addEventListener("touchcancel",n.onMouseUp)):(n.unbind("mousemove",n.onMoveOnly),document.addEventListener("mousemove",n.onMouseMove,!1),document.addEventListener("mouseup",n.onMouseUp,!1),u.root.addEventListener("click",n.onBodyClick,!1)),!0}}),Ee(ye(n),"onMouseUp",function(o){var a=ye(n),s=a.player,u=a.config,l=a.pos,c=a.playerConfig,f=a._state;o.stopPropagation(),o.preventDefault(),d.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),d.checkIsFunction(u.onMoveEnd)&&u.onMoveEnd(),d.event(o),d.removeClass(n.progressBtn,"active");var h=n.computeTime(o,l.x);h.prePlayTime=f.prePlayTime,l.moving?(n.triggerCallbacks("dragend",h,o),n.emitUserAction("drag","dragend",h)):(n.triggerCallbacks("click",h,o),n.emitUserAction("click","click",h)),n._mouseUpHandlerHook(o,h),l.moving=!1,l.isDown=!1,l.x=0,l.y=0,f.prePlayTime=0,f.time=0;var p=o.type;p==="touchend"||p==="touchcancel"?(n.root.removeEventListener("touchmove",n.onMouseMove),n.root.removeEventListener("touchend",n.onMouseUp),n.root.removeEventListener("touchcancel",n.onMouseUp),n.blur()):(document.removeEventListener("mousemove",n.onMouseMove,!1),document.removeEventListener("mouseup",n.onMouseUp,!1),s.root.removeEventListener("click",n.onBodyClick,!1),l.isEnter?c.isMobileSimulateMode!=="mobile"&&n.bind("mousemove",n.onMoveOnly):n.onMouseLeave(o)),d.setTimeout(ye(n),function(){n.resetSeekState()},10),s.focus()}),Ee(ye(n),"onMouseMove",function(o){var a=ye(n),s=a._state,u=a.pos,l=a.player,c=a.config;d.checkTouchSupport()&&o.preventDefault(),d.event(o);var f=d.getEventPos(o,l.zoom),h=l.rotateDeg===90?f.clientY:f.clientX,p=Math.abs(u.x-h);if(!(u.moving&&p<c.miniMoveStep||!u.moving&&p<c.miniStartStep)){u.x=h;var m=n.computeTime(o,h);m.prePlayTime=s.prePlayTime,n._mouseMoveHandlerHook(o,m)}}),Ee(ye(n),"onMouseOut",function(o){n.triggerCallbacks("mouseout",null,o)}),Ee(ye(n),"onMouseOver",function(o){n.triggerCallbacks("mouseover",null,o)}),Ee(ye(n),"onMouseEnter",function(o){var a=ye(n),s=a.player,u=a.pos;if(!(u.isDown||u.isEnter||s.isMini||!s.config.allowSeekAfterEnded&&s.ended)){u.isEnter=!0,n.bind("mousemove",n.onMoveOnly),n.bind("mouseleave",n.onMouseLeave),d.event(o);var l=d.getEventPos(o,s.zoom),c=s.rotateDeg===90?l.clientY:l.clientX,f=n.computeTime(o,c);n.triggerCallbacks("mouseenter",f,o),n.focus()}}),Ee(ye(n),"onMouseLeave",function(o){n.triggerCallbacks("mouseleave",null,o),n.unlock(),n._updateInnerFocus(null)}),Ee(ye(n),"onVideoResize",function(){var o=n.pos,a=o.x,s=o.isDown,u=o.isEnter;if(u&&!s){var l=n.computeTime(null,a);n.onMoveOnly(null,l)}}),n.useable=!1,n.isProgressMoving=!1,n.__dragCallBacks=[],n._state={now:-1,direc:0,time:0,prePlayTime:-1},n._disableBlur=!1,n}return p_(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"changeState",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=n}},{key:"beforeCreate",value:function(n){typeof n.player.config.progress=="boolean"&&(n.config.disable=!n.player.config.progress)}},{key:"_initInner",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!o||o.length===0)&&(o=[{percent:1}]);var s=Hs(Hs({fragments:o},a),{},{actionCallback:function(l){n.emitUserAction("fragment_focus","fragment_focus",l)}});this.innerList?this.innerList.reset(s):(this.innerList=new d_(s),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(u){n[u]=n.innerList[u].bind(n.innerList)}))}},{key:"_updateInnerFocus",value:function(n){this.innerList&&this.innerList.updateFocus(n)}},{key:"afterCreate",value:function(){var n=this;if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1},this.outer=this.find("xg-outer");var o=this.config,a=o.fragFocusClass,s=o.fragAutoFocus,u=o.fragClass;this._initInner(this.config.fragments,{fragFocusClass:a,fragAutoFocus:s,fragClass:u,style:this.playerConfig.commonStyle||{}}),X.device==="mobile"&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(er,function(){n.onMouseLeave()}),this.on(Ve,function(){n.onTimeupdate()}),this.on(it,function(){n.onTimeupdate(),n.onCacheUpdate()}),this.on(Gu,function(){n.onCacheUpdate()}),this.on(gt,function(){n.onCacheUpdate(!0),n.onTimeupdate(!0),n._state.now=0}),this.on(tr,function(){n.onReset()}),this.on(cn,function(){n.onVideoResize()}),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(n){var o=this,a=null;Object.keys(n).forEach(function(s){o.config[s]=n[s],s==="fragments"&&(a=n[s])}),a&&this._initInner(a,n)}},{key:"initCustomStyle",value:function(){var n=this.playerConfig||{},o=n.commonStyle,a=o.sliderBtnStyle,s=this.progressBtn;a&&(typeof a=="string"?s.style.boxShadow=a:Lt(a)==="object"&&Object.keys(a).map(function(u){s.style[u]=a[u]}))}},{key:"triggerCallbacks",value:function(n,o,a){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(s){if(s&&s.handler&&s.type===n)try{s.handler(o,a)}catch(u){console.error("[XGPLAYER][triggerCallbacks] ".concat(s," error"),u)}})}},{key:"addCallBack",value:function(n,o){o&&typeof o=="function"&&this.__dragCallBacks.push({type:n,handler:o})}},{key:"removeCallBack",value:function(n,o){var a=this.__dragCallBacks,s=-1;a.map(function(u,l){u&&u.type===n&&u.handler===o&&(s=l)}),s>-1&&a.splice(s,1)}},{key:"unlock",value:function(){var n=this.player,o=this.pos;if(o.isEnter=!1,!n.isMini){if(this.unbind("mousemove",this.onMoveOnly),o.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var n=this.player,o=n.controls,a=n.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&(this.root.addEventListener("touchstart",this.onMouseDown),o&&(o.root&&o.root.addEventListener("touchmove",d.stopPropagation),o.center&&o.center.addEventListener("touchend",d.stopPropagation))),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),a.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),d.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),d.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(n,o,a){var s=this.config,u=this.player;if(!(s.isCloseClickSeek&&a===0)){var l=n>=u.duration?u.duration-s.endedDiff:Number(n).toFixed(1);this.updatePercent(o),this.updateTime(n),!(a===1&&(!s.isDragingSeek||u.videoConfig.mediaType==="audio"))&&(this._state.now=l,this._state.direc=l>u.currentTime?0:1,u.seek(l))}}},{key:"computeTime",value:function(n,o){var a=this.player,s=this.root.getBoundingClientRect(),u=s.width,l=s.height,c=s.top,f=s.left,h,p,m=o;a.rotateDeg===90?(h=l,p=c):(h=u,p=f);var b=m-p;b=b>h?h:b<0?0:b;var g=b/h;g=g<0?0:g>1?1:g;var I=parseInt(g*this.duration*1e3,10)/1e3;return{percent:g,currentTime:I,offset:b,width:h,left:p,e:n}}},{key:"updateTime",value:function(n){var o=this.player,a=this.duration;n>a?n=a:n<0&&(n=0);var s=o.plugins.time;s&&s.updateTime(n)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var n=this.player.plugins.time;n&&n.resetActive()}},{key:"updatePercent",value:function(n,o){if(this.isProgressMoving=!0,!this.config.disable){n=n>1?1:n<0?0:n,this.progressBtn.style.left="".concat(n*100,"%"),this.innerList.update({played:n*this.duration},this.duration);var a=this.player.plugins.miniprogress;a&&a.update({played:n*this.duration},this.duration)}}},{key:"onTimeupdate",value:function(n){var o=this.player,a=this._state,s=this.duration;if(!(o.isSeeking&&o.video.seeking||this.isProgressMoving||!o.hasStart)){if(a.now>-1){var u=parseInt(a.now*1e3,10)-parseInt(o.currentTime*1e3,10);if(a.direc===0&&u>300||a.direc===1&&u>-300){a.now=-1;return}else a.now=-1}var l=this.timeOffset+o.currentTime;l=d.adjustTimeByDuration(l,s,n),this.innerList.update({played:l},s),this.progressBtn.style.left="".concat(l/s*100,"%");var c=this.player.plugins.miniprogress;c&&c.update({played:l},s)}}},{key:"onCacheUpdate",value:function(n){var o=this.player,a=this.duration;if(o){var s=o.bufferedPoint.end;s=d.adjustTimeByDuration(s,a,n),this.innerList.update({cached:s},a);var u=this.player.plugins.miniprogress;u&&u.update({cached:s},a)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var n=this.player.plugins.miniprogress;n&&n.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var n=this.player,o=n.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var a=this.domEventType;(a==="touch"||a==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),o&&(o.root&&o.root.removeEventListener("touchmove",d.stopPropagation),o.center&&o.center.removeEventListener("touchend",d.stopPropagation))),(a==="mouse"||a==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),n.root.removeEventListener("click",this.onBodyClick,!1))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var n=this.player.controls?this.player.controls.config.mode:"",o=n==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(o,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:zs.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return zs}}]),i}(oe);function En(t){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(t)}function w_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tl(r.key),r)}}function S_(t,e,i){return e&&P_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ho(t,e)}function Ho(t,e){return Ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ho(t,e)}function O_(t){var e=E_();return function(){var r=pi(t),n;if(e){var o=pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(En(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vo(t)}function Vo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},pi(t)}function Us(t,e,i){return e=Tl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tl(t){var e=C_(t,"string");return En(e)==="symbol"?e:String(e)}function C_(t,e){if(En(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(En(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kt=function(t){k_(i,t);var e=O_(i);function i(){var r;w_(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Us(Vo(r),"_onMouseenter",function(s){r.emit("icon_mouseenter",{pluginName:r.pluginName})}),Us(Vo(r),"_onMouseLeave",function(s){r.emit("icon_mouseleave",{pluginName:r.pluginName})}),r}return S_(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(oe);function Cn(t){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(t)}function I_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ks(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,El(r.key),r)}}function x_(t,e,i){return e&&Ks(t.prototype,e),i&&Ks(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function dr(){return typeof Reflect<"u"&&Reflect.get?dr=Reflect.get.bind():dr=function(e,i,r){var n=R_(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dr.apply(this,arguments)}function R_(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=At(t),t!==null););return t}function $_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}function zo(t,e){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zo(t,e)}function L_(t){var e=D_();return function(){var r=At(t),n;if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A_(this,n)}}function A_(t,e){if(e&&(Cn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},At(t)}function M_(t,e,i){return e=El(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function El(t){var e=N_(t,"string");return Cn(e)==="symbol"?e:String(e)}function N_(t,e){if(Cn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Cn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j_='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',B_='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',F_=function(t){$_(i,t);var e=L_(i);function i(){var r;I_(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),M_(Uo(r),"btnClick",function(s){var u=Uo(r),l=u.player,c=u.config;if(!c.disable)return s.preventDefault(),s.stopPropagation(),r.emitUserAction(s,"switch_play_pause"),l.ended?l.replay():l.paused&&!l.isBufferControlPaused?(l.play(),r.animate(!1)):(l.pause(),r.animate(!0)),!1}),r}return x_(i,[{key:"afterCreate",value:function(){var n=this;dr(At(i.prototype),"afterCreate",this).call(this);var o=this.player;this._isPaused=!1,this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.on([Ut,tr,Ue],function(){n.animate(o.paused)}),this.on(an,function(){n.animate(o.paused)}),this.animate(!0)}},{key:"registerIcons",value:function(){return{play:{icon:j_,class:"xg-icon-play"},pause:{icon:B_,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.play),this.appendChild(".xgplayer-icon",n.pause)}},{key:"animate",value:function(n){var o=this.i18nKeys,a=this.player;n&&a.isBufferControlPaused||(n?(this.setAttr("data-state","pause"),this.changeLangTextKey(this.find(".xg-tips"),o.PLAY_TIPS)):(this.setAttr("data-state","play"),this.changeLangTextKey(this.find(".xg-tips"),o.PAUSE_TIPS)))}},{key:"destroy",value:function(){dr(At(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys.PLAY_TIPS,'">').concat(this.i18n.PLAY_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(Kt);function In(t){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(t)}function H_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z_(r.key),r)}}function V_(t,e,i){return e&&Gs(t.prototype,e),i&&Gs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function z_(t){var e=U_(t,"string");return In(e)==="symbol"?e:String(e)}function U_(t,e){if(In(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(In(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ko(t,e)}function Ko(t,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ko(t,e)}function G_(t){var e=X_();return function(){var r=vi(t),n;if(e){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(t,e){if(e&&(In(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y_(t)}function Y_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},vi(t)}var q_='<svg width="32" height="40" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M11.237 14l6.382-6.381A.875.875 0 1016.38 6.38l-7 7a.875.875 0 000 1.238l7 7a.875.875 0 101.238-1.238L11.237 14z" fill="#FFF" fill-rule="evenodd"/></svg>',J_=function(t){K_(i,t);var e=G_(i);function i(){return H_(this,i),e.apply(this,arguments)}return V_(i,[{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.onClick=function(o){o.preventDefault(),o.stopPropagation(),n.config.onClick(o)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:q_,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(this.root,n.screenBack)}},{key:"show",value:function(){d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:de.ROOT_TOP,index:0}}}]),i}(oe);function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}function Z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ws(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Il(r.key),r)}}function Q_(t,e,i){return e&&Ws(t.prototype,e),i&&Ws(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Et(){return typeof Reflect<"u"&&Reflect.get?Et=Reflect.get.bind():Et=function(e,i,r){var n=e0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Et.apply(this,arguments)}function e0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rt(t),t!==null););return t}function t0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Go(t,e)}function Go(t,e){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Go(t,e)}function n0(t){var e=i0();return function(){var r=rt(t),n;if(e){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return r0(this,n)}}function r0(t,e){if(e&&(xn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(t)}function Cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},rt(t)}function o0(t,e,i){return e=Il(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Il(t){var e=a0(t,"string");return xn(e)==="symbol"?e:String(e)}function a0(t,e){if(xn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(xn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path fill="#fff" d="M19.173 6.861h6.798v6.798h-2.694V9.555h-4.104V6.86zm4.104 16.416v-4.104h2.694v6.798h-6.798v-2.694h4.104zM6.861 13.66V6.86h6.798v2.694H9.555v4.104H6.86zm2.694 5.514v4.104h4.104v2.694H6.86v-6.798h2.694z"/></svg>',u0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path fill="#fff" d="M21.867 10.965h4.104v2.694h-6.798V6.86h2.694v4.104zm-2.694 15.006v-6.798h6.798v2.694h-4.104v4.104h-2.694zm-8.208-15.006V6.861h2.694v6.798H6.86v-2.694h4.104zM6.861 21.867v-2.694h6.798v6.798h-2.694v-4.104H6.861z"/></svg>',l0=function(t){t0(i,t);var e=n0(i);function i(){var r;Z_(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),o0(Cl(r),"_onOrientationChange",function(s){r.player.fullscreen&&r.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?r.setRotateDeg(0):r.setRotateDeg(90))}),r}return Q_(i,[{key:"afterCreate",value:function(){var n=this;Et(rt(i.prototype),"afterCreate",this).call(this);var o=this.config,a=this.playerConfig;o.target&&(this.playerConfig.fullscreenTarget=this.config.target);var s=d.getFullScreenEl();a.fullscreenTarget===s&&this.player.getFullscreen().catch(function(){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreen_change",this.changeFullScreen,{pre:function(l){n.config.disable||n.emitUserAction(l,"switch_fullscreen",{fullscreen:n.player.fullscreen})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(ft,function(u){n.changeLangTextKey(n.find(".xg-tips"),u?n.i18nKeys.EXITFULLSCREEN_TIPS:n.i18nKeys.FULLSCREEN_TIPS),n.animate(u),n.config.needBackIcon&&n.show()}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:J_,options:{config:{onClick:function(l){n.handleFullscreen(l)}}}})),X.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}},{key:"registerIcons",value:function(){return{fullscreen:{icon:s0,class:"xg-get-fullscreen"},exitFullscreen:{icon:u0,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){Et(rt(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",X.device==="mobile"?"touchend":"click",this.handleFullscreen),X.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.fullscreen),this.appendChild(".xgplayer-icon",n.exitFullscreen)}},{key:"setRotateDeg",value:function(n){var o=this.player;window.orientation===90||window.orientation===-90?o.rotateDeg=0:o.rotateDeg=n}},{key:"getRotateFullscreen",value:function(n){var o=this.player;o.isCssfullScreen&&o.exitCssFullscreen(n);var a=n?C.INNER_FULLSCREEN:C.ROTATE_FULLSCREEN;o._fullscreenEl=n||o.root,o.changeFullStyle(o.root,n,a,C.PARENT_ROTATE_FULLSCREEN),o.fullscreen=!0,this.setRotateDeg(90),this.emit(ft,!0)}},{key:"exitRotateFullscreen",value:function(n){var o=this.player;o.fullscreen=!1;var a=o._fullscreenEl!==o.root?C.INNER_FULLSCREEN:C.ROTATE_FULLSCREEN;o.recoverFullStyle(o.root,o._fullscreenEl,a,C.PARENT_ROTATE_FULLSCREEN),this.setRotateDeg(0),this.emit(ft,!1)}},{key:"changeFullScreen",value:function(n){var o=this.player,a=this.config;if(!a.disable){n&&(n.preventDefault(),n.stopPropagation());var s=!1;if((a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen())&&(s=!0),s)o.fullscreen?(o.fullscreen=!1,o.exitCssFullscreen(),this.emit(ft,!1)):(o.fullscreen=!0,o.getCssFullscreen(),this.emit(ft,!0)),this.animate(o.fullscreen);else if(a.rotateFullscreen)o.fullscreen?this.exitRotateFullscreen():this.getRotateFullscreen(),this.animate(o.fullscreen);else{if(a.switchCallback&&typeof a.switchCallback=="function"){a.switchCallback(o.fullscreen);return}o.fullscreen?o.exitFullscreen():o.getFullscreen().catch(function(){})}}}},{key:"animate",value:function(n){n?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(n?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){Et(rt(i.prototype),"show",this).call(this)}},{key:"hide",value:function(){Et(rt(i.prototype),"hide",this).call(this)}},{key:"render",value:function(){var n="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys[n],'">').concat(this.i18n[n],`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(Kt);function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}function c0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ys(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d0(r.key),r)}}function f0(t,e,i){return e&&Ys(t.prototype,e),i&&Ys(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0(t){var e=h0(t,"string");return Rn(e)==="symbol"?e:String(e)}function h0(t,e){if(Rn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Rn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vr(){return typeof Reflect<"u"&&Reflect.get?Vr=Reflect.get.bind():Vr=function(e,i,r){var n=p0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Vr.apply(this,arguments)}function p0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=$n(t),t!==null););return t}function v0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}function Wo(t,e){return Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wo(t,e)}function y0(t){var e=b0();return function(){var r=$n(t),n;if(e){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(t,e){if(e&&(Rn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m0(t)}function m0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $n(t){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},$n(t)}var _0=function(t){v0(i,t);var e=y0(i);function i(r){var n;return c0(this,i),n=e.call(this,r),n.isActiving=!1,n}return f0(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var n=this,o=this.player.controls.config.mode;this.mode=o==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.hide()),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([er,it,Ve],function(a){a.eventName==="durationchange"&&(n.isActiving=!1),n.onTimeUpdate()}),this.on(gt,function(){n.onTimeUpdate(!0)}),this.on(tr,function(){n.onReset()}))}},{key:"show",value:function(){this.mode!=="flex"&&Vr($n(i.prototype),"show",this).call(this)}},{key:"onTimeUpdate",value:function(n){var o=this.player,a=this.config,s=this.duration;if(!(a.disable||this.isActiving||!o.hasStart)){var u=o.currentTime+this.timeOffset;u=d.adjustTimeByDuration(u,s,n),this.mode==="flex"?(this.centerCurDom.innerHTML=d.format(u),s!==1/0&&s>0&&(this.centerDurDom.innerHTML=d.format(s))):(this.timeDom.innerHTML=d.format(u),s!==1/0&&s>0&&(this.durationDom.innerHTML=d.format(s)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=d.format(0),this.centerDurDom.innerHTML=d.format(0)):(this.timeDom.innerHTML=d.format(0),this.durationDom.innerHTML=d.format(0))}},{key:"createCenterTime",value:function(){var n=this.player;if(!(!n.controls||!n.controls.center)){var o=n.controls.center;this.centerCurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time left"),this.centerDurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time right"),o.children.length>0?o.insertBefore(this.centerCurDom,o.children[0]):o.appendChild(this.centerCurDom),o.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var n=this.config;if(this.duration===1/0||this.playerConfig.isLive?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):d.hide(this.find(".time-live-tag")),n.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(n){n?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):(d.hide(this.find(".time-live-tag")),d.show(this.find(".time-separator")),d.show(this.durationDom),d.show(this.timeDom))}},{key:"updateTime",value:function(n){if(this.isActiving=!0,!(!n&&n!==0||n>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=d.format(n);return}this.timeDom.innerHTML=d.format(n)}}},{key:"resetActive",value:function(){var n=this,o=this.player,a=function(){n.isActiving=!1};this.off(it,a),o.isSeeking&&o.video.seeking?this.once(it,a):this.isActiving=!1}},{key:"destroy",value:function(){var n=this.player.controls.center;this.centerCurDom&&n.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&n.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(oe);function Ln(t){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}function w0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xl(r.key),r)}}function P0(t,e,i){return e&&Xs(t.prototype,e),i&&Xs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Yo(t,e)}function k0(t){var e=T0();return function(){var r=yi(t),n;if(e){var o=yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O0(this,n)}}function O0(t,e){if(e&&(Ln(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yi(t){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},yi(t)}function Yt(t,e,i){return e=xl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xl(t){var e=E0(t,"string");return Ln(e)==="symbol"?e:String(e)}function E0(t,e){if(Ln(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ln(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.753 18.48l-1.593-1.592c1.437-1.429 2.326-3.407 2.326-5.592s-.89-4.163-2.326-5.591l1.593-1.593c1.845 1.835 2.987 4.376 2.987 7.184s-1.142 5.349-2.987 7.184zm-3.199-3.185L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',I0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM17.554 15.295L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998zm0 0L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',x0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.306 9.703l-2.394-2.406-1.604 1.604 2.417 2.395-2.406 2.395 1.604 1.604 2.383-2.418 2.395 2.406 1.604-1.604-2.417-2.383 2.406-2.395-1.604-1.604-2.384 2.418z"/></svg>',R0=function(t){S0(i,t);var e=k0(i);function i(){var r;w0(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Yt(He(r),"onBarMousedown",function(s){var u=He(r),l=u.player,c=r.find(".xgplayer-bar");d.event(s);var f=c.getBoundingClientRect(),h=d.getEventPos(s,l.zoom),p=f.height-(h.clientY-f.top);if(h.h=p,h.barH=f.height,r.pos=h,!(p<-2))return r.updateVolumePos(p,s),document.addEventListener("mouseup",r.onBarMouseUp),r._d.isStart=!0,!1}),Yt(He(r),"onBarMouseMove",function(s){var u=He(r),l=u._d;if(l.isStart){var c=He(r),f=c.pos,h=c.player;s.preventDefault(),s.stopPropagation(),d.event(s);var p=d.getEventPos(s,h.zoom);l.isMoving=!0;var m=f.h-p.clientY+f.clientY;m>f.barH||r.updateVolumePos(m,s)}}),Yt(He(r),"onBarMouseUp",function(s){d.event(s),document.removeEventListener("mouseup",r.onBarMouseUp);var u=He(r),l=u._d;l.isStart=!1,l.isMoving=!1}),Yt(He(r),"onMouseenter",function(s){r._d.isActive=!0,r.focus(),r.emit("icon_mouseenter",{pluginName:r.pluginName})}),Yt(He(r),"onMouseleave",function(s){r._d.isActive=!1,r.unFocus(100,!1,s),r.emit("icon_mouseleave",{pluginName:r.pluginName})}),Yt(He(r),"onVolumeChange",function(s){if(r.player){var u=r.player,l=u.muted,c=u.volume;r._d.isMoving||(r.find(".xgplayer-drag").style.height=l||c===0?"4px":"".concat(c*100,"%"),r.config.showValueLabel&&r.updateVolumeValue()),r.animate(l,c)}}),r}return P0(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:I0,class:"xg-volume-small"},volumeLarge:{icon:C0,class:"xg-volume"},volumeMuted:{icon:x0,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var n=this;this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},this.initIcons();var o=this.playerConfig,a=o.commonStyle,s=o.volume;a.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=a.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(u){n.changeMuted(u)},{pre:function(l){l.preventDefault(),l.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),X.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Uu,this.onVolumeChange),this.once(ln,this.onVolumeChange),d.typeOf(s)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange(),this.config.disable&&this.disable()}},{key:"updateVolumePos",value:function(n,o){var a=this.player,s=this.find(".xgplayer-drag"),u=this.find(".xgplayer-bar");if(!(!u||!s)){var l=Math.max(Math.min(n/u.getBoundingClientRect().height,1),0),c=parseInt(l*1e3,10),f=c/1e3,h={volume:{from:a.volume,to:f}};s.style.height="".concat(l*100,"%"),a.muted&&(h.muted={from:!0,to:!1}),this.emitUserAction(o,"change_volume",{muted:a.muted,volume:a.volume,props:h}),a.volume=Math.max(Math.min(c/1e3,1),0),a.muted&&(a.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var n=this.player,o=n.volume,a=n.muted,s=this.find(".xgplayer-value-label"),u=Math.max(Math.min(o,1),0);s.innerText=a?0:Math.round(u*100)}},{key:"focus",value:function(){var n=this.player,o=this.config;o.disable||(n.focus({autoHide:!1}),this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),d.addClass(this.root,"slide-show"))}},{key:"unFocus",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0,u=this._d,l=this.player;u.isActive||(this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=d.setTimeout(this,function(){u.isActive||(a?l.blur():l.focus(),d.removeClass(n.root,"slide-show"),u.isStart&&n.onBarMouseUp(s)),n._timerId=null},o))}},{key:"changeMuted",value:function(n){if(!this.config.disable){n&&n.stopPropagation();var o=this.player,a=this._d;a.isStart&&this.onBarMouseUp(n),this.emitUserAction(n,"change_muted",{muted:o.muted,volume:o.volume,props:{muted:{from:o.muted,to:!o.muted}}}),o.volume>0&&(o.muted=!o.muted),o.volume<.01&&(o.volume=this.config.miniVolume)}}},{key:"animate",value:function(n,o){n||o===0?this.setAttr("data-state","mute"):o<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.volumeSmall),this.appendChild(".xgplayer-icon",n.volumeLarge),this.appendChild(".xgplayer-icon",n.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",X.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){var n=this.config.default||this.player.volume,o=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(o?'<div class="xgplayer-value-label">'.concat(n*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(n*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(oe);function An(t){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}function $0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$l(r.key),r)}}function L0(t,e,i){return e&&qs(t.prototype,e),i&&qs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function hr(){return typeof Reflect<"u"&&Reflect.get?hr=Reflect.get.bind():hr=function(e,i,r){var n=A0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hr.apply(this,arguments)}function A0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Dt(t),t!==null););return t}function D0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}function Xo(t,e){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xo(t,e)}function M0(t){var e=j0();return function(){var r=Dt(t),n;if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(t,e){if(e&&(An(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rl(t)}function Rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Dt(t)}function B0(t,e,i){return e=$l(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $l(t){var e=F0(t,"string");return An(e)==="symbol"?e:String(e)}function F0(t,e){if(An(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(An(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H0='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none"><g clip-path="url(#clip0)" fill="#fff"><path d="M17.5 13.75H6.25A3.75 3.75 0 002.5 17.5v6.25a3.75 3.75 0 003.75 3.75H17.5a3.75 3.75 0 003.75-3.75V17.5a3.75 3.75 0 00-3.75-3.75z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.822 6.094a1.247 1.247 0 00.156 1.79l4.509 4.204a1.25 1.25 0 101.705-1.828L9.93 8.152l4.799-.018.039-.001a10 10 0 019.521 13.983 1.25 1.25 0 002.292.998 12.5 12.5 0 00-11.88-17.48l-5.05.019 2.293-2.46a1.25 1.25 0 10-1.829-1.705L5.854 6.06l-.032.036z"/></g><defs><clipPath id="RotateSvg-clip0"><path fill="#fff" d="M0 0h40v40H0z"/></clipPath></defs></svg>',V0=function(t){D0(i,t);var e=M0(i);function i(r){var n;return $0(this,i),n=e.call(this,r),B0(Rl(n),"onBtnClick",function(o){n.config.disable||(o.preventDefault(),o.stopPropagation(),n.emitUserAction(o,"rotate"),n.rotate(n.config.clockwise,n.config.innerRotate,1))}),n.rotateDeg=n.config.rotateDeg||0,n}return L0(i,[{key:"afterCreate",value:function(){var n=this;if(!this.config.disable){hr(Dt(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(cn,function(){n.rotateDeg&&n.config.innerRotate&&d.setTimeout(n,function(){n.updateRotateDeg(n.rotateDeg,n.config.innerRotate)},100)});var o=this.player.root;this.rootWidth=o.style.width||o.offsetWidth||o.clientWidth,this.rootHeight=o.style.height||o.offsetHeight||o.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){hr(Dt(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"updateRotateDeg",value:function(n,o){n||(n=0);var a=this.player,s=this.rootWidth,u=this.rootHeight;if(o){a.videoRotateDeg=n;return}var l=this.player,c=l.root,f=l.innerContainer,h=l.video,p=c.offsetWidth,m=f&&o?f.offsetHeight:c.offsetHeight,b=s,g=u,I=0,x=0;(n===.75||n===.25)&&(b="".concat(m,"px"),g="".concat(p,"px"),I=-(m-p)/2,x=-(p-m)/2);var O="translate(".concat(I,"px,").concat(x,"px) rotate(").concat(n,"turn)"),re={transformOrigin:"center center",transform:O,webKitTransform:O,height:g,width:b},J=o?h:c,ve=o?a.getPlugin("poster"):null;Object.keys(re).map(function(A){J.style[A]=re[A],ve&&ve.root&&(ve.root.style[A]=re[A])})}},{key:"rotate",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=this.player;this.rotateDeg||(this.rotateDeg=0);var u=n?1:-1;this.rotateDeg=(this.rotateDeg+1+u*.25*a)%1,this.updateRotateDeg(this.rotateDeg,o),s.emit(Xu,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:H0}}},{key:"render",value:function(){return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      <div class="xg-tips" lang-key="`.concat(this.i18nKeys.ROTATE_TIPS,`">
      `).concat(this.i18n.ROTATE_TIPS,`
      </div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(Kt);function Dn(t){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(t)}function Js(t){return G0(t)||K0(t)||U0(t)||z0()}function z0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0(t,e){if(t){if(typeof t=="string")return qo(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qo(t,e)}}function K0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G0(t){if(Array.isArray(t))return qo(t)}function qo(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function W0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Al(r.key),r)}}function Y0(t,e,i){return e&&Zs(t.prototype,e),i&&Zs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function pr(){return typeof Reflect<"u"&&Reflect.get?pr=Reflect.get.bind():pr=function(e,i,r){var n=X0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pr.apply(this,arguments)}function X0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Mt(t),t!==null););return t}function q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Jo(t,e)}function J0(t){var e=Q0();return function(){var r=Mt(t),n;if(e){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(t,e){if(e&&(Dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(t)}function Ll(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Mt(t)}function e1(t,e,i){return e=Al(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Al(t){var e=t1(t,"string");return Dn(e)==="symbol"?e:String(e)}function t1(t,e){if(Dn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Dn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/></svg>',r1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 7.7a.5.5 0 00.5-.5v-.7a.5.5 0 00-.5-.5h-4a.5.5 0 00-.5.5v3.96a.5.5 0 00.5.5h.7a.5.5 0 00.5-.5V8.83l2.07 2.109a.5.5 0 00.707.006l.5-.49a.5.5 0 00.006-.707L7.973 7.7H9.5z" fill="#fff"/></svg>',Xt={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},i1=function(t){q0(i,t);var e=J0(i);function i(){var r;W0(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),e1(Ll(r),"switchPIP",function(s){if(!r.isPIPAvailable()||r.config.disable)return!1;s.stopPropagation&&s.stopPropagation(),r.isPip?(r.exitPIP(),r.emitUserAction(s,"change_pip",{from:"pip",to:"normal"}),r.setAttr("data-state","normal")):r.player.video.readyState===4&&(r.requestPIP(),r.emitUserAction(s,"change_pip",{from:"normal",to:"pip"}),r.setAttr("data-state","pip"))}),r}return Y0(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.pip=="boolean"&&(n.config.showIcon=n.player.config.pip)}},{key:"afterCreate",value:function(){var n=this;this.isPIPAvailable()&&(pr(Mt(i.prototype),"afterCreate",this).call(this),this.pMode=Xt.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Bi,function(){n.config.showIcon&&(d.removeClass(n.find(".xgplayer-icon"),"xg-icon-disable"),n.bind("click",n.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:n1,class:"xg-get-pip"},pipIconExit:{icon:r1,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.pipIcon),this.appendChild(".xgplayer-icon",n.pipIconExit)}},{key:"initPipEvents",value:function(){var n=this,o=this.player;this.leavePIPCallback=function(){var a=o.paused;d.setTimeout(n,function(){!a&&o.videoPlay()},0),!a&&o.videoPlay(),n.setAttr("data-state","normal"),n.pipWindow=null,o.emit(go,!1)},this.enterPIPCallback=function(a){o.emit(go,!0),a!=null&&a.pictureInPictureWindow&&(n.pipWindow=a.pictureInPictureWindow),n.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(a){var s=o.video.webkitPresentationMode;n.pMode===Xt.FULLSCREEN&&s!==Xt.FULLSCREEN&&o.onFullscreenChange(null,!1),n.pMode=s,s===Xt.PIP?n.enterPIPCallback(a):s===Xt.INLINE&&n.leavePIPCallback(a)},o.video&&(o.video.addEventListener("enterpictureinpicture",this.enterPIPCallback),o.video.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(o.video)&&o.video.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(n){var o=Js(document.styleSheets).map(function(s){try{return Js(s.cssRules).map(function(l){return l.cssText}).join("")}catch{var u=document.createElement("link");u.rel="stylesheet",u.type=s.type,u.media=s.media,u.href=s.href,n.document.head.appendChild(u)}return""}).filter(Boolean).join(`
`),a=document.createElement("style");a.textContent=o,n.document.head.appendChild(a)}},{key:"requestPIP",value:function(){var n=this,o=this.player,a=this.playerConfig,s=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var u=a.poster;if(u&&(o.video.poster=d.typeOf(u)==="String"?u:u.poster),s.preferDocument&&this.isDocPIPAvailable()){var l={};if(s.width&&s.height)l.width=s.width,l.height=s.height;else{var c=o.root.getBoundingClientRect();l.width=c.width,l.height=c.height}documentPictureInPicture.requestWindow(l).then(function(f){var h=s.docPiPNode,p=s.docPiPStyle;n.enterPIPCallback();var m=h||o.root,b=m.parentElement,g=m.previousSibling,I=m.nextSibling;n.copyStyleIntoPiPWindow(f);var x=document.createElement("style");if(x.append("body{padding:0; margin:0;}"),p){var O="";typeof p=="string"?O=p:typeof p=="function"&&(O=p.call(s)),O&&x.append(O)}else m===o.root&&x.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);f.document.head.append(x),f.document.body.append(m),f.addEventListener("pagehide",function(re){b&&(I?b.insertBefore(m,I):g?b.insertBefore(m,g.nextSibling):b.appendChild(m)),n.leavePIPCallback()},{once:!0})})}else i.checkWebkitSetPresentationMode(o.video)?o.video.webkitSetPresentationMode("picture-in-picture"):o.video.requestPictureInPicture();return!0}catch(f){return console.error("requestPiP",f),!1}}},{key:"exitPIP",value:function(){var n=this.player;try{if(this.isPIPAvailable()&&this.isPip){var o;this.isDocPIPAvailable()&&(o=documentPictureInPicture)!==null&&o!==void 0&&o.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(n.video)?n.video.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(a){return console.error("exitPIP",a),!1}}},{key:"isPip",get:function(){var n,o=this.player;return!!(this.isDocPIPAvailable()&&(n=documentPictureInPicture)!==null&&n!==void 0&&n.window)||document.pictureInPictureElement&&document.pictureInPictureElement===o.video||o.video.webkitPresentationMode===Xt.PIP}},{key:"isPIPAvailable",value:function(){var n=this.player.video,o=d.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!0;return o&&(d.typeOf(n.disablePictureInPicture)==="Boolean"&&!n.disablePictureInPicture||n.webkitSupportsPresentationMode&&d.typeOf(n.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){pr(Mt(i.prototype),"destroy",this).call(this);var n=this.player;n.video.removeEventListener("enterpictureinpicture",this.enterPIPCallback),n.video.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(n.video)&&n.video.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      <div class="xg-tips" lang-key="`.concat(this.i18nKeys.PIP,'">').concat(this.i18n.PIP,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(n){return typeof n.webkitSetPresentationMode=="function"}}]),i}(Kt);function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function o1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dl(r.key),r)}}function a1(t,e,i){return e&&Qs(t.prototype,e),i&&Qs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zo(t,e)}function u1(t){var e=c1();return function(){var r=gi(t),n;if(e){var o=gi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l1(this,n)}}function l1(t,e){if(e&&(Mn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},gi(t)}function f1(t,e,i){return e=Dl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Dl(t){var e=d1(t,"string");return Mn(e)==="symbol"?e:String(e)}function d1(t,e){if(Mn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40"><path d="M30.4 10.64v21.504h-4.864v-9.856l-12.16 8.96V11.536l12.16 8.96V10.64z"/></svg>',p1=function(t){s1(i,t);var e=u1(i);function i(r){var n;return o1(this,i),n=e.call(this,r),f1(Qo(n),"playNext",function(o){var a=Qo(n),s=a.player;o.preventDefault(),o.stopPropagation(),n.idx+1<n.config.urlList.length?(n.idx++,s.emit(Xr,n.idx+1),n.nextHandler(n.config.urlList[n.idx],n.idx)):(n.nextHandler(),s.emit(Xr))}),n.idx=-1,n}return a1(i,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:h1}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("playNext",this.changeSrc);var n=X.device==="mobile"?"touchend":"click";this.bind(n,this.playNext),this.show()}},{key:"changeSrc",value:function(n){var o=this.player;n&&(o.pause(),o.currentTime=0,o.autoplay=!0,o.src=n)}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      <div class="xg-tips" lang-key="PLAYNEXT_TIPS">`.concat(this.i18n.PLAYNEXT_TIPS,`</div>
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(oe),Ml={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(bv,function(){return function i(r,n,o){var a=window,s="application/octet-stream",u=o||s,l=r,c=!n&&!o&&l,f=document.createElement("a"),h=function(A){return String(A)},p=a.Blob||a.MozBlob||a.WebKitBlob||h,m=n||"download",b,g;if(p=p.call?p.bind(a):Blob,String(this)==="true"&&(l=[l,u],u=l[0],l=l[1]),c&&c.length<2048&&(m=c.split("/").pop().split("?")[0],f.href=c,f.href.indexOf(c)!==-1)){var I=new XMLHttpRequest;return I.open("GET",c,!0),I.responseType="blob",I.onload=function(A){i(A.target.response,m,s)},setTimeout(function(){I.send()},0),I}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length>1024*1024*1.999&&p!==h)l=J(l),u=l.type||s;else return navigator.msSaveBlob?navigator.msSaveBlob(J(l),m):ve(l);else if(/([\x80-\xff])/.test(l)){var x=0,O=new Uint8Array(l.length),re=O.length;for(x;x<re;++x)O[x]=l.charCodeAt(x);l=new p([O],{type:u})}b=l instanceof p?l:new p([l],{type:u});function J(A){var E=A.split(/[:;,]/),ge=E[1],B=E[2]=="base64"?atob:decodeURIComponent,ie=B(E.pop()),D=ie.length,H=0,ee=new Uint8Array(D);for(H;H<D;++H)ee[H]=ie.charCodeAt(H);return new p([ee],{type:ge})}function ve(A,E){if("download"in f)return f.href=A,f.setAttribute("download",m),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),E===!0&&setTimeout(function(){a.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(A)&&(A="data:"+A.replace(/^data:([\w\/\-\+]+)/,s)),window.open(A)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=A),!0;var ge=document.createElement("iframe");document.body.appendChild(ge),!E&&/^data:/.test(A)&&(A="data:"+A.replace(/^data:([\w\/\-\+]+)/,s)),ge.src=A,setTimeout(function(){document.body.removeChild(ge)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(b,m);if(a.URL)ve(a.URL.createObjectURL(b),!0);else{if(typeof b=="string"||b.constructor===h)try{return ve("data:"+u+";base64,"+a.btoa(b))}catch{return ve("data:"+u+","+encodeURIComponent(b))}g=new FileReader,g.onload=function(A){ve(this.result)},g.readAsDataURL(b)}return!0}})})(Ml);var v1=Ml.exports;const y1=Mi(v1);function Nn(t){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(t)}function g1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jl(r.key),r)}}function m1(t,e,i){return e&&eu(t.prototype,e),i&&eu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(){return typeof Reflect<"u"&&Reflect.get?vr=Reflect.get.bind():vr=function(e,i,r){var n=b1(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vr.apply(this,arguments)}function b1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Nt(t),t!==null););return t}function _1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ea(t,e)}function ea(t,e){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ea(t,e)}function w1(t){var e=S1();return function(){var r=Nt(t),n;if(e){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P1(this,n)}}function P1(t,e){if(e&&(Nn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nl(t)}function Nl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Nt(t)}function k1(t,e,i){return e=jl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jl(t){var e=O1(t,"string");return Nn(e)==="symbol"?e:String(e)}function O1(t,e){if(Nn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#FFF" fill-rule="evenodd"><rect x="11" y="4" width="2" height="12" rx="1"/><rect x="3" y="18" width="18" height="2" rx="1"/><rect transform="rotate(90 4 17.5)" x="1.5" y="16.5" width="5" height="2" rx="1"/><rect transform="rotate(90 20 17.5)" x="17.5" y="16.5" width="5" height="2" rx="1"/><path d="M11.988 14.3l-4.243-4.242a1 1 0 00-1.414 1.414l4.95 4.95a1 1 0 001.414 0l4.95-4.95a1 1 0 10-1.414-1.414L11.988 14.3z"/></g></svg>',E1=function(t){_1(i,t);var e=w1(i);function i(r){var n;return g1(this,i),n=e.call(this,r),k1(Nl(n),"download",function(o){if(!(n.isLock||n.config.disable)){n.emitUserAction(o,"download");var a=n.getAbsoluteURL(n.player.src);y1(a),n.isLock=!0,n.timer=window.setTimeout(function(){n.isLock=!1,window.clearTimeout(n.timer),n.timer=null},300)}}),n.timer=null,n.isLock=!1,n}return m1(i,[{key:"afterCreate",value:function(){vr(Nt(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this.bind(["click","touchend"],this.download))}},{key:"registerIcons",value:function(){return{download:T1}}},{key:"getAbsoluteURL",value:function(n){if(!n.match(/^https?:\/\//)){var o=document.createElement("div");o.innerHTML='<a href="'.concat(n,'">x</a>'),n=o.firstChild.href}return n}},{key:"destroy",value:function(){vr(Nt(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   <div class="xg-tips" lang-key="`.concat(this.i18nKeys.DOWNLOAD_TIPS,'">').concat(this.i18n.DOWNLOAD_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(Kt);function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}function C1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x1(r.key),r)}}function I1(t,e,i){return e&&tu(t.prototype,e),i&&tu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1(t){var e=R1(t,"string");return jn(e)==="symbol"?e:String(e)}function R1(t,e){if(jn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(jn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yr(){return typeof Reflect<"u"&&Reflect.get?yr=Reflect.get.bind():yr=function(e,i,r){var n=$1(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yr.apply(this,arguments)}function $1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=jt(t),t!==null););return t}function L1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ta(t,e)}function ta(t,e){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ta(t,e)}function A1(t){var e=N1();return function(){var r=jt(t),n;if(e){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D1(this,n)}}function D1(t,e){if(e&&(jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M1(t)}function M1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},jt(t)}var j1=function(t){L1(i,t);var e=A1(i);function i(){return C1(this,i),e.apply(this,arguments)}return I1(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.screenShot=="boolean"&&(n.config.disable=!n.player.config.screenShot)}},{key:"afterCreate",value:function(){yr(jt(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var n=this.config;this.initSize=function(o){n.fitVideo&&(n.width=o.vWidth,n.height=o.vHeight)},this.once(cn,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(n,o){var a=document.createElement("a");a.href=n,a.download=o;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(s)}},{key:"createCanvans",value:function(n,o){var a=document.createElement("canvas");this.canvasCtx=a.getContext("2d"),this.canvas=a,a.width=n||this.config.width,a.height=o||this.config.height}},{key:"onClickBtn",value:function(n){var o=this;n.preventDefault(),n.stopPropagation(),this.emitUserAction(n,"shot"),this.shot().then(function(a){o.emit(qu,a),o.saveScreenShot(a,o.config.name+o.config.format)})}},{key:"shot",value:function(n,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},u=this.config,l=this.player,c=s.quality||u.quality,f=s.type||u.type;return new Promise(function(h,p){a.canvas?(a.canvas.width=n||u.width,a.canvas.height=o||u.height):a.createCanvans(n,o),a.canvasCtx.drawImage(l.video,0,0,n||u.width,o||u.height);var m=a.canvas.toDataURL(f,c).replace(f,"image/octet-stream");m=m.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),h(m)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){yr(jt(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(cn,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var n=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",o="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(n,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[o],'">').concat(this.i18n[o],"</span>"),` 
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(Kt);function Or(t){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(t)}function B1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V1(r.key),r)}}function H1(t,e,i){return e&&F1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V1(t){var e=z1(t,"string");return Or(e)==="symbol"?e:String(e)}function z1(t,e){if(Or(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Or(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U1=function(){function t(e){B1(this,t),this.config=e.config,this.parent=e.root,this.root=d.createDom("ul","",{},"xg-options-list ".concat(this.config.className)),e.root.appendChild(this.root),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var i=this.config.domEventType==="touche"?"touchend":"click";this._delegates=oe.delegate.call(this,this.root,"li",i,this.onItemClick)}return H1(t,[{key:"renderItemList",value:function(i){var r=this,n=this.config,o=this.root;i?n.data=i:i=n.data,n.style&&Object.keys(n.style).map(function(a){o.style[a]=n[a]}),i.length>0&&(this.attrKeys=Object.keys(i[0])),this.root.innerHTML="",i.map(function(a,s){var u=a.selected?"option-item selected":"option-item";a["data-index"]=s,r.root.appendChild(d.createDom("li","<span>".concat(a.showText,"</span>"),a,u))})}},{key:"onItemClick",value:function(i){i.delegateTarget||(i.delegateTarget=i.target);var r=i.delegateTarget;if(r&&d.hasClass(r,"selected"))return!1;var n=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,o=this.root.querySelector(".selected");d.addClass(r,"selected"),o&&d.removeClass(o,"selected"),n(i,{from:o?this.getAttrObj(o,this.attrKeys):null,to:this.getAttrObj(r,this.attrKeys)})}},{key:"getAttrObj",value:function(i,r){if(!i||!r)return{};var n={};r.map(function(a){n[a]=i.getAttribute(a)});var o=i.getAttribute("data-index");return o&&(n.index=Number(o)),n}},{key:"show",value:function(){d.removeClass(this.root,"hide"),d.addClass(this.root,"active")}},{key:"hide",value:function(){d.removeClass(this.root,"active"),d.addClass(this.root,"hide")}},{key:"setStyle",value:function(i){var r=this;Object.keys(i).forEach(function(n){r.root.style[n]=i[n]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(i){i.destroy&&i.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),t}();function Bt(t){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}function K1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bl(r.key),r)}}function G1(t,e,i){return e&&nu(t.prototype,e),i&&nu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function W1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}function na(t,e){return na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},na(t,e)}function Y1(t){var e=q1();return function(){var r=mi(t),n;if(e){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X1(this,n)}}function X1(t,e){if(e&&(Bt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ra(t)}function ra(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},mi(t)}function ru(t,e,i){return e=Bl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Bl(t){var e=J1(t,"string");return Bt(e)==="symbol"?e:String(e)}function J1(t,e){if(Bt(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Bt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qt=X.device==="mobile",Fl=function(t){W1(i,t);var e=Y1(i);function i(r){var n;return K1(this,i),n=e.call(this,r),ru(ra(n),"onEnter",function(o){o.preventDefault(),o.stopPropagation(),n.emit("icon_mouseenter",{pluginName:n.pluginName}),n.onToggle(!0)}),ru(ra(n),"onLeave",function(o){o.preventDefault(),o.stopPropagation(),n.emit("icon_mouseleave",{pluginName:n.pluginName}),n.isActive&&n.onToggle(!1)}),n.isIcons=!1,n.isActive=!1,n.curValue=null,n.curIndex=0,n}return G1(i,[{key:"updateLang",value:function(n){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var n=this,o=this.config;this.initIcons(),qt=qt||this.domEventType==="touch",X.device==="mobile"&&o.listType!=="middle"&&(o.listType="rightSide"),o.hidePortrait&&d.addClass(this.root,"portrait"),this.once(ot,function(){o.list&&o.list.length>0&&(n.renderItemList(o.list),n.show())}),qt&&this.on(Ma,function(){n.isActive&&(n.optionsList&&n.optionsList.hide(),n.isActive=!1)}),this.activeEvent=qt?"touchend":"mouseenter",this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave),this.isIcons&&this.bind("click",this.onIconClick),this.config.disable&&this.disable()}},{key:"initIcons",value:function(){var n=this,o=this.icons,a=Object.keys(o),s=!1;a.length>0&&(a.forEach(function(u){n.appendChild(".xgplayer-icon",o[u]),!s&&(s=o[u])}),this.isIcons=s),!s&&(this.appendChild(".xgplayer-icon",d.createDom("span","",{},"icon-text")),d.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(){!this.config.list||this.config.list.length<1||d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(n,o,a){if(n===void 0)return"";var s=this.config.list;!a&&(a=this.player.lang),o=!o||d.isUndefined(n[o])?"text":o,typeof n=="number"&&(n=s[n]);try{return Bt(n[o])==="object"?n[o][a]||n[o].zh:n[o]}catch(u){return console.warn(u),""}}},{key:"onToggle",value:function(n){if(!(n===this.isActive||this.config.disable)){var o=this.player.controls,a=this.config.listType;n?(a==="rightSide"?o.blur():o.focus(),this.optionsList&&this.optionsList.show()):(a==="rightSide"?o.focus():o.unFocus(),this.optionsList&&this.optionsList.hide()),this.isActive=n}}},{key:"onItemClick",value:function(n,o){n.preventDefault(),n.stopPropagation();var a=this.config,s=a.listType,u=a.list;(qt||s==="rightSide")&&this.onToggle(!1),this.curIndex=o.to.index,this.curItem=u[this.curIndex],this.changeCurrentText(),this.onToggle(!1)}},{key:"onIconClick",value:function(n){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var n=this.config.list,o=this.curIndex<n.length?this.curIndex:0,a=n[o];a&&(this.find(".icon-text").innerHTML=this.getTextByLang(a,"iconText"))}}},{key:"renderItemList",value:function(n,o){var a=this,s=this.config,u=this.optionsList,l=this.player;if(typeof o=="number"&&(this.curIndex=o,this.curItem=s.list[o]),u){u.renderItemList(n),this.changeCurrentText();return}var c={config:{data:n||[],className:s.listType==="rightSide"?"right-side":"",onItemClick:function(h,p){a.onItemClick(h,p)},domEventType:qt?"touche":"mouse"},root:s.listType==="rightSide"?l.root:this.root};this.config.isShowIcon&&(this.optionsList=new U1(c),this.changeCurrentText(),this.show())}},{key:"destroy",value:function(){this.unbind(this.activeEvent,this.onToggle),this.unbind("mouseleave",this.onToggle),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1}}}]),i}(oe);function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}function Z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ew(r.key),r)}}function Q1(t,e,i){return e&&iu(t.prototype,e),i&&iu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ew(t){var e=tw(t,"string");return Bn(e)==="symbol"?e:String(e)}function tw(t,e){if(Bn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Bn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function un(){return typeof Reflect<"u"&&Reflect.get?un=Reflect.get.bind():un=function(e,i,r){var n=nw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},un.apply(this,arguments)}function nw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=yt(t),t!==null););return t}function rw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ia(t,e)}function ia(t,e){return ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ia(t,e)}function iw(t){var e=sw();return function(){var r=yt(t),n;if(e){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ow(this,n)}}function ow(t,e){if(e&&(Bn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aw(t)}function aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},yt(t)}var uw=function(t){rw(i,t);var e=iw(i);function i(r){var n;return Z1(this,i),n=e.call(this,r),n.curTime=0,n.isPaused=!0,n}return Q1(i,[{key:"beforeCreate",value:function(n){var o=n.config.list;Array.isArray(o)&&o.length>0&&(n.config.list=o.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}))}},{key:"afterCreate",value:function(){var n=this;un(yt(i.prototype),"afterCreate",this).call(this);var o=this.config,a=o.list,s=o.defaultDefinition,u=this.playerConfig.defaultConfig;a.forEach(function(l){(l.definition===s||l.definition===u)&&(l.selected=!0)}),this.on("resourceReady",function(l){n.changeDefinitionList(l)}),this.on(Fa,function(l){n.renderItemList(n.config.list,l.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"initDefinition",value:function(){var n=this.config,o=n.list,a=n.defaultDefinition,s=this.playerConfig.defaultConfig;if(o.length>0){var u=null;o.map(function(l){(l.definition===a||l.definition===s)&&(u=l,l.selected=!0)}),u||(u=o[0]),this.changeDefinition(u)}}},{key:"renderItemList",value:function(n,o){var a=this,s=o&&o.definition?o.definition:"";o&&!Array.isArray(o)&&n.forEach(function(c){c.selected=!1});var u=0,l=n.map(function(c,f){var h={url:c.url,definition:c.definition||"",showText:a.getTextByLang(c)||c.definition,selected:!1};return(c.selected||!d.isUndefined(c.definition)&&c.definition===s)&&(h.selected=!0,u=f),h});un(yt(i.prototype),"renderItemList",this).call(this,l,u)}},{key:"changeDefinitionList",value:function(n){if(Array.isArray(n)){var o=this.playerConfig,a=o.definition,s=o.defaultDefinition,u=a||this.config.defaultDefinition||"";this.config.list=n.map(function(l){return!l.text&&l.name&&(l.text=l.name),l.text||(l.text=l.definition),(l.definition===u||l.definition===s)&&(l.selected=!0),l}),a.list=n,this.renderItemList(n),this.config.list.length<2?this.hide():this.show()}}},{key:"changeDefinition",value:function(n,o){var a=this.player;a.switchURL?a.switchUrl(n.url):a.changeDefinition(n,o)}},{key:"onItemClick",value:function(n,o){var a=this.player.definitionList;un(yt(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(n,"change_definition",{from:o.from,to:o.to});for(var s=0;s<a.length;s++)o.to&&a[s].definition===o.to.definition&&(o.to.url=a[s].url),o.from&&a[s].definition===o.from.definition&&(o.from.url=a[s].url);this.player.changeDefinition(o.to,o.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0}}}]),i}(Fl);function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}function lw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fw(r.key),r)}}function cw(t,e,i){return e&&ou(t.prototype,e),i&&ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function fw(t){var e=dw(t,"string");return Fn(e)==="symbol"?e:String(e)}function dw(t,e){if(Fn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ht(){return typeof Reflect<"u"&&Reflect.get?ht=Reflect.get.bind():ht=function(e,i,r){var n=hw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ht.apply(this,arguments)}function hw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Je(t),t!==null););return t}function pw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oa(t,e)}function oa(t,e){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oa(t,e)}function vw(t){var e=mw();return function(){var r=Je(t),n;if(e){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yw(this,n)}}function yw(t,e){if(e&&(Fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gw(t)}function gw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Je(t)}var bw=function(t){pw(i,t);var e=vw(i);function i(r){var n;return lw(this,i),n=e.call(this,r),n.curRate=1,n}return cw(i,[{key:"beforeCreate",value:function(n){var o=n.player.config.playbackRate,a=o?Array.isArray(o)?o:n.config.list:[];Array.isArray(a)&&(n.config.list=a.map(function(s){return typeof s=="number"?s={rate:s,text:"".concat(s,"x")}:!s.text&&s.rate&&(s.text="".concat(s.rate,"x")),s}))}},{key:"afterCreate",value:function(){var n=this;ht(Je(i.prototype),"afterCreate",this).call(this),this.on(Ku,function(){n.curValue!==n.player.playbackRate&&n.renderItemList()}),this.renderItemList()}},{key:"show",value:function(){!this.config.list||this.config.list.length===0||ht(Je(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(n,o){ht(Je(i.prototype),"onItemClick",this).apply(this,arguments);var a=n.delegateTarget,s=Number(a.getAttribute("rate"));if(!s||s===this.curValue)return!1;var u={playbackRate:{from:this.player.playbackRate,to:s}};this.emitUserAction(n,"change_rate",{props:u}),this.curValue=s,this.player.playbackRate=s}},{key:"renderItemList",value:function(){var n=this,o=this.player.playbackRate||1;this.curValue=o;var a=0,s=this.config.list.map(function(u,l){var c={rate:u.rate};return c.rate===o&&(c.selected=!0,a=l),c.showText=n.getTextByLang(u),c});ht(Je(i.prototype),"renderItemList",this).call(this,s,a)}},{key:"destroy",value:function(){ht(Je(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1}}}]),i}(Fl);function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function _w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function au(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pw(r.key),r)}}function ww(t,e,i){return e&&au(t.prototype,e),i&&au(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pw(t){var e=Sw(t,"string");return Hn(e)==="symbol"?e:String(e)}function Sw(t,e){if(Hn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Hn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gr(){return typeof Reflect<"u"&&Reflect.get?gr=Reflect.get.bind():gr=function(e,i,r){var n=kw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gr.apply(this,arguments)}function kw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ft(t),t!==null););return t}function Ow(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aa(t,e)}function aa(t,e){return aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},aa(t,e)}function Tw(t){var e=Iw();return function(){var r=Ft(t),n;if(e){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ew(this,n)}}function Ew(t,e){if(e&&(Hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cw(t)}function Cw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ft(t)}var xw='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" class="path_full" d="M11.7 13v1.3a1.17 1.17 0 01-1.3 1.3 1.17 1.17 0 01-1.3-1.3v-2.6a1.17 1.17 0 011.3-1.3H13a1.17 1.17 0 011.3 1.3A1.17 1.17 0 0113 13zm7.8 5.2v-1.3a1.3 1.3 0 012.6 0v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.3 1.3 0 010-2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',Rw='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" d="M11.7 13v-1.3a1.17 1.17 0 011.3-1.3 1.17 1.17 0 011.3 1.3v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.17 1.17 0 01-1.3-1.3 1.17 1.17 0 011.3-1.3zm7.8 5.2v1.3a1.3 1.3 0 01-2.6 0v-2.6a1.17 1.17 0 011.3-1.3h2.6a1.3 1.3 0 010 2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',su=function(t){Ow(i,t);var e=Tw(i);function i(){return _w(this,i),e.apply(this,arguments)}return ww(i,[{key:"afterCreate",value:function(){var n=this;gr(Ft(i.prototype),"afterCreate",this).call(this),this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(Wr,function(o){n.animate(o)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen)}},{key:"initIcons",value:function(){var n=this.icons,o=this.find(".xgplayer-icon");o.appendChild(n.cssFullscreen),o.appendChild(n.exitCssFullscreen)}},{key:"btnClick",value:function(n){if(!this.config.disable){n.preventDefault(),n.stopPropagation();var o=this.player.isCssfullScreen;this.emitUserAction(n,"switch_cssfullscreen",{cssfullscreen:o}),o?this.player.exitCssFullscreen():this.player.getCssFullscreen()}}},{key:"animate",value:function(n){this.root&&(n?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(n))}},{key:"switchTips",value:function(n){var o=this.i18nKeys;this.changeLangTextKey(this.find(".xg-tips"),n?o.EXITCSSFULLSCREEN_TIPS:o.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:xw,class:"xg-get-cssfull"},exitCssFullscreen:{icon:Rw,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){gr(Ft(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys.CSSFULLSCREEN_TIPS,'">').concat(this.i18n.CSSFULLSCREEN_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:de.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(Kt);function Vn(t){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(t)}function $w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aw(r.key),r)}}function Lw(t,e,i){return e&&uu(t.prototype,e),i&&uu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aw(t){var e=Dw(t,"string");return Vn(e)==="symbol"?e:String(e)}function Dw(t,e){if(Vn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Vn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}function sa(t,e){return sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sa(t,e)}function Nw(t){var e=Fw();return function(){var r=bi(t),n;if(e){var o=bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jw(this,n)}}function jw(t,e){if(e&&(Vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bw(t)}function Bw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},bi(t)}var Hw=function(t){Mw(i,t);var e=Nw(i);function i(){return $w(this,i),e.apply(this,arguments)}return Lw(i,[{key:"afterCreate",value:function(){var n=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.onError=this.hook("errorHandler",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(ot,function(){n.handleCanPlay()}),this.on(Ni,function(o){n.onError(o)})}},{key:"errorRetry",value:function(n){this.emitUserAction(n,"error_retry",{}),this.player.retry()}},{key:"handleCanPlay",value:function(){d.removeClass(this.player.root,"xgplayer-is-error")}},{key:"handleError",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.player,a=n.errorType,s=o.error;if(!s)switch(a){case"decoder":s=this.i18n.MEDIA_ERR_DECODE;break;case"network":s=this.i18n.MEDIA_ERR_NETWORK;break;default:s=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=s,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),i}(oe);function zn(t){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(t)}function Vw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uw(r.key),r)}}function zw(t,e,i){return e&&lu(t.prototype,e),i&&lu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uw(t){var e=Kw(t,"string");return zn(e)==="symbol"?e:String(e)}function Kw(t,e){if(zn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(zn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ua(t,e)}function Ww(t){var e=qw();return function(){var r=_i(t),n;if(e){var o=_i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yw(this,n)}}function Yw(t,e){if(e&&(zn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xw(t)}function Xw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _i(t){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_i(t)}var Jw=function(t){Gw(i,t);var e=Ww(i);function i(){return Vw(this,i),e.apply(this,arguments)}return zw(i,[{key:"afterCreate",value:function(){var n=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(o){(n.config.onClick||n.customOnClick)&&(o.preventDefault(),o.stopPropagation(),n.customOnClick?n.customOnClick(o):n.config.onClick(o))}),this.player.showPrompt=function(){n.show.apply(n,arguments)},this.player.hidePrompt=function(){n.hide()}}},{key:"setStyle",value:function(n){var o=this;Object.keys(n).map(function(a){o.root.style[a]=n[a]})}},{key:"show",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(n){this.customOnClick=s;var u=this.config.interval;if(this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),a.style&&this.setStyle(a.style),typeof n=="string"?this.find(".xgplayer-prompt-detail").innerHTML=n:this.find(".xgplayer-prompt-detail").innerHTML="".concat(n.text||"")+"".concat(n.highlight?'<i class="highlight">'.concat(n.highlight,"</i>"):""),a.mode==="arrow"&&d.addClass(this.root,"arrow"),a.preventScreenOverflow){var l=this.root.getBoundingClientRect(),c=l.left,f=l.right,h=document.documentElement.clientWidth||document.body.clientWidth;if(c<0){var p=Number((Math.abs(c)/h*100).toFixed(2));if(a.style.left){var m=parseInt(a.style.left);this.setStyle({left:"".concat(m+p+.5,"%")})}}if(f>=h){var b=Number(((Math.abs(f)-h)/h*100).toFixed(2));if(a.style.left){var g=parseInt(a.style.left);this.setStyle({left:"".concat(g-b-.5,"%")})}}}d.addClass(this.root,"show");var I=typeof a.autoHide=="boolean"?a.autoHide:this.config.autoHide;if(I){var x=a.interval||u;this.intervalId=setTimeout(function(){o.hide()},x)}}}},{key:"hide",value:function(){d.removeClass(this.root,"show"),d.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(C.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,preventScreenOverflow:!1,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(oe),cu={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Hl(t){Object.keys(cu).map(function(e){t[e]===void 0&&(t[e]=cu[e])})}var fu={initDots:function(){var e=this;this._ispots.map(function(i){e.createDot(i,!1)}),this._ispotsInit=!0},createDot:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this.player.plugins.progress;if(r&&(i&&(Hl(e),this._ispots.push(e)),!(!this._ispotsInit&&i))){var n=this.calcuPosition(e.time,e.duration),o=e.style||{},a=e.stylePreferred;o.left=a&&o.left!==void 0?o.left:"".concat(n.left,"%"),o.width=a&&o.width!==void 0?o.width:"".concat(n.width,"%");var s="xgspot_".concat(e.id," xgplayer-spot");n.isMini&&(s+=" mini");var u=d.createDom("xg-spot",e.template||"",{"data-text":e.text,"data-time":e.time,"data-id":e.id},s);Object.keys(o).map(function(l){u.style[l]=o[l]}),r.outer&&r.outer.appendChild(u)}},findDot:function(e){if(this.player.plugins.progress){var i=this._ispots.filter(function(r,n){return r.id===e});return i.length>0?i[0]:null}},updateDot:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.player.plugins.progress;if(r){var n=this.findDot(e.id);if(n&&Object.keys(e).map(function(u){n[u]=e[u]}),!!this._ispotsInit){var o=r.find('xg-spot[data-id="'.concat(e.id,'"]'));if(o){var a=this.calcuPosition(e.time,e.duration),s=e.style||{};s.left="".concat(a.left,"%"),s.width="".concat(a.width,"%"),o.setAttribute("data-text",e.text),o.setAttribute("data-time",e.time),a.isMini?d.addClass(o,"mini"):d.removeClass(o,"mini"),Object.keys(s).map(function(u){o.style[u]=s[u]}),i&&this.showDot(e.id)}}}},deleteDot:function(e){var i=this._ispots,r=this.player.plugins.progress;if(r){for(var n=[],o=0;o<i.length;o++)i[o].id===e&&n.push(o);for(var a=n.length,s=a-1;s>=0;s--)if(i.splice(n[s],1),this._ispotsInit){var u=r.find('xg-spot[data-id="'.concat(e,'"]'));u&&u.parentElement.removeChild(u)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e){if(!this._ispotsInit){this._ispots=[];return}for(var i=e.root.getElementsByTagName("xg-spot"),r=i.length-1;r>=0;r--)e.outer.removeChild(i[r]);this._ispots=[]}},updateAllDots:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.player.plugins.progress;if(r){if(!this._ispotsInit){this._ispots=i;return}this._ispots=[];var n=r.root.getElementsByTagName("xg-spot"),o=n.length;if(o>i.length)for(var a=o-1;a>i.length-1;a--)r.outer.removeChild(n[a]);i.map(function(s,u){u<o?(n[u].setAttribute("data-id","".concat(s.id)),e._ispots.push(s),e.updateDot(s)):e.createDot(s)})}},updateAllDotsStyles:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.player.plugins.progress;if(r!=null&&r.root)for(var n=r.root.getElementsByTagName("xg-spot"),o=function(l){l=n[a];var c=l.getAttribute("data-id"),f=e.findDot(c);if(f&&f.activeStyle&&f.style&&f.stylePreferred){var h=i?f==null?void 0:f.activeStyle:f==null?void 0:f.style;h&&Object.keys(h).map(function(p){l.style[p]=h[p]})}s=l},a=0,s;a<n.length;a++)o(s)},getAllDotsDom:function(){var e=this.player.plugins.progress;if(!e)return[];var i=e.root.getElementsByTagName("xg-spot");return i},getDotDom:function(e){var i=this.player.plugins.progress;if(i)return i.find('xg-spot[data-id="'.concat(e,'"]'))}};function Zw(t){var e=t.config,i=t.player;Object.keys(fu).map(function(n){t[n]=fu[n].bind(t)});var r=i.config.progressDot||e.ispots||[];t._ispots=r.map(function(n){return Hl(n),n}),t._ispotsInit=!1,i.once(er,function(){t.initDots()})}function Un(t){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(t)}function Qw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function du(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vl(r.key),r)}}function eP(t,e,i){return e&&du(t.prototype,e),i&&du(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function tP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&la(t,e)}function la(t,e){return la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},la(t,e)}function nP(t){var e=iP();return function(){var r=wi(t),n;if(e){var o=wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rP(this,n)}}function rP(t,e){if(e&&(Un(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wi(t)}function Jt(t,e,i){return e=Vl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vl(t){var e=oP(t,"string");return Un(e)==="symbol"?e:String(e)}function oP(t,e){if(Un(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Un(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zt={dragmove:"onProgressDragMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseEnter",mouseleave:"onProgressMouseLeave"},aP=function(t){tP(i,t);var e=nP(i);function i(r){var n;return Qw(this,i),n=e.call(this,r),Jt(kt(n),"onMousemove",function(o){if(!n.config.disable){if(d.hasClass(o.target,"xg-spot-content")&&n.config.isHideThumbnailHover){n.player.plugins.progress.onMouseLeave(o);return}(n._state.f||d.hasClass(o.target,"xg-spot-content"))&&(d.event(o),o.stopPropagation())}}),Jt(kt(n),"onMousedown",function(o){n.config.disable||(n._state.f||d.hasClass(o.target,"xg-spot-content"))&&(d.event(o),o.stopPropagation())}),Jt(kt(n),"onMouseup",function(o){if(n.isDrag){var a=n.player.plugins.progress;a&&a.pos&&(a.onMouseUp(o),!a.pos.isEnter&&a.onMouseLeave(o))}}),Jt(kt(n),"onDotMouseLeave",function(o){if(!n.config.disable){n._curDot.removeEventListener("mouseleave",n.onDotMouseLeave),n.blurDot(o.target),n._curDot=null;var a=n.player.plugins.progress;a&&a.enableBlur(),n.show()}}),Jt(kt(n),"onProgressMouseLeave",function(o,a){n.updateAllDotsStyles(!1)}),Jt(kt(n),"onProgressMouseOver",function(o,a){if(!n.config.disable&&d.hasClass(a.target,"xgplayer-spot")&&!n._curDot){n._curDot=a.target,n.focusDot(a.target),n._curDot.children.length>0&&n.hide();var s=n.player.plugins.progress;s&&s.disableBlur(),n._curDot.addEventListener("mouseleave",n.onDotMouseLeave)}}),n._ispots=[],n.videoPreview=null,n.videothumbnail=null,n.thumbnail=null,n._state={now:0,f:!1},n}return eP(i,[{key:"beforeCreate",value:function(n){var o=n.player.plugins.progress;o&&(n.root=o.root)}},{key:"afterCreate",value:function(){var n=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(o,a){a.time&&n.player.seek(a.time)}),Zw(this),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(n){var o=this;n&&Object.keys(n).map(function(a){o.config[a]=n[a]})}},{key:"onPluginsReady",value:function(){var n=this.player;n.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var n=this,o=this.player.plugins.progress;if(o&&(Object.keys(Zt).map(function(s){n[Zt[s]]=n[Zt[s]].bind(n),o.addCallBack(s,n[Zt[s]])}),X.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var a=this.hook("previewClick",function(){});this.handlerPreviewClick=function(s){s.stopPropagation(),a(parseInt(n._state.now*1e3,10)/1e3,s)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMouseEnter",value:function(n,o){this.onProgressMove(n,o),this.updateAllDotsStyles(!0)}},{key:"onProgressMove",value:function(n,o){this.config.disable||!this.player.duration||this.updatePosition(n.offset,n.width,n.currentTime,n.e)}},{key:"onProgressDragMove",value:function(n,o){this.config.disable||!this.player.duration||this.onProgressMove(n,o)}},{key:"onProgressDragStart",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&d.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&d.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(n,o){if(!this.config.disable&&d.hasClass(o.target,"xgplayer-spot")){o.stopPropagation(),o.preventDefault();var a={};["time","id","text"].map(function(s){a[s]=o.target.getAttribute("data-".concat(s))}),a.time&&(a.time=Number(a.time)),this.handlerSpotClick(o,a)}}},{key:"updateLinePos",value:function(n,o){var a=this.root,s=this.previewLine,u=this.timePoint,l=this.player,c=this.config,f=l.controls.mode,h=f==="flex",p=a.getBoundingClientRect().width;if(!(!p&&this._hasThumnail)){var m=u.getBoundingClientRect().width;p=this._hasThumnail&&p<c.width?c.width:p;var b=n-p/2,g,I;b<0&&!h?(b=0,g=n-p/2,!this.thumbnail&&(I=n-p/2-m/2)):b>o-p&&!h?(g=b-(o-p),!this.thumbnail&&(I=b-(o-p)-m/2),b=o-p):(g=0,!this.thumbnail&&(I=-m/2)),g!==void 0&&(s.style.transform="translateX(".concat(g.toFixed(2),"px)")),I!==void 0&&(u.style.transform="translateX(".concat(I.toFixed(2),"px)")),a.style.transform="translateX(".concat(b.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(n){var o=this.timeText,a=this.timePoint;o.textContent=n,!this.thumbnail&&(a.textContent=n)}},{key:"updatePosition",value:function(n,o,a,s){var u=this.root,l=this.config,c=this._state;if(u){this.updateLinePos(n,o),c.now=a;var f=d.format(a);s&&s.target&&d.hasClass(s.target,"xgplayer-spot")?(this.showTips(s.target.getAttribute("data-text"),!1,f),this.focusDot(s.target),c.f=!0,l.isFocusDots&&c.f&&(c.now=parseInt(s.target.getAttribute("data-time"),10))):l.defaultText?(c.f=!1,this.showTips(l.defaultText,!0,f)):(c.f=!1,this.hideTips("")),this.updateTimeText(f),this.updateThumbnails(c.now)}}},{key:"updateThumbnails",value:function(n){var o=this.player,a=this.videoPreview,s=this.config,u=o.plugins.thumbnail;if(u&&u.usable){this.thumbnail&&u.update(this.thumbnail,n,s.width,s.height);var l=a&&a.getBoundingClientRect();this.videothumbnail&&u.update(this.videothumbnail,n,l.width,l.height)}}},{key:"registerThumbnail",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(X.device!=="mobile"){var o=this.player,a=this.config,s=o.getPlugin("thumbnail");if(s&&s.setConfig(n),!s||!s.usable||!a.isShowThumbnail){d.addClass(this.root,"short-line no-thumbnail");return}else d.removeClass(this.root,"short-line no-thumbnail");a.mode==="short"&&d.addClass(this.root,"short-line"),this._hasThumnail=!0;var u=this.find(".xg-spot-thumbnail");this.thumbnail=s.createThumbnail(u,"progress-thumbnail"),a.isShowCoverPreview&&(this.videoPreview=d.createDom("xg-video-preview","",{},"xgvideo-preview"),o.root.appendChild(this.videoPreview),this.videothumbnail=s.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(n,o){var a=this.player.plugins.progress,s=this.player,u=a.root.getBoundingClientRect().width,l=s.duration/u*6;return n+o>s.duration&&(o=s.duration-n),n/s.duration*100,o/s.duration,{left:n/s.duration*100,width:o/s.duration*100,isMini:o<l}}},{key:"showDot",value:function(n){var o=this.findDot(n);if(o){var a=this.root.getBoundingClientRect(),s=a.width,u=o.time/this.player.duration*s;this.updatePosition(u,s,o.time)}}},{key:"focusDot",value:function(n,o){n&&(o||(o=n.getAttribute("data-id")),d.addClass(n,"active"),this._activeDotId=o)}},{key:"blurDot",value:function(n){if(!n){var o=this._activeDotId;n=this.getDotDom(o)}n&&(d.removeClass(n,"active"),this._activeDotId=null)}},{key:"showTips",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";d.addClass(this.root,"no-timepoint"),n&&(d.addClass(this.find(".xg-spot-content"),"show-text"),o&&this.config.mode==="production"?(d.addClass(this.root,"product"),this.tipText.textContent=n):(d.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?n:"".concat(a," ").concat(n)))}},{key:"hideTips",value:function(){d.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",d.removeClass(this.find(".xg-spot-content"),"show-text"),d.removeClass(this.root,"product")}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"enable",value:function(){var n=this.config,o=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&n.isShowThumbnail&&this.registerThumbnail(o.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var n=this,o=this.player.plugins.progress;o&&Object.keys(Zt).map(function(a){o.removeCallBack(a,n[Zt[a]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return X.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(oe);function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function sP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lP(r.key),r)}}function uP(t,e,i){return e&&hu(t.prototype,e),i&&hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lP(t){var e=cP(t,"string");return Kn(e)==="symbol"?e:String(e)}function cP(t,e){if(Kn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Kn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ca(t,e)}function ca(t,e){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ca(t,e)}function dP(t){var e=vP();return function(){var r=Pi(t),n;if(e){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hP(this,n)}}function hP(t,e){if(e&&(Kn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pP(t)}function pP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Pi(t)}var yP=function(t){fP(i,t);var e=dP(i);function i(r){var n;return sP(this,i),n=e.call(this,r),n.ratio=1,n.interval=null,n._preloadMark={},n}return uP(i,[{key:"afterCreate",value:function(){var n=this;this.usable&&this.initThumbnail(),this.on([er],function(){var o=n.config,a=o.pic_num,s=o.interval;n.usable&&(n.interval=s>0?s:Math.round(n.player.duration*1e3/a)/1e3)})}},{key:"setConfig",value:function(n){var o=this;if(n){var a=Object.keys(n);a.length<1||(a.forEach(function(s){o.config[s]=n[s]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var n=this.config,o=n.urls,a=n.pic_num;return o&&o.length>0&&a>0}},{key:"initThumbnail",value:function(){var n=this.config,o=n.width,a=n.height,s=n.pic_num,u=n.interval;this.ratio=o/a*100,this.interval=u||Math.round(this.player.duration/s),this._preloadMark={}}},{key:"getUrlByIndex",value:function(n){return n>=0&&n<this.config.urls.length?this.config.urls[n]:""}},{key:"preload",value:function(n){var o=this;if(!this._preloadMark[n]){var a=this.config.urls,s=a.length,u=[];n>0&&u.push(n-1),u.push(n),n>0&&n<s-1&&u.push(n+1),u.map(function(l){!o._preloadMark[l]&&l>=0&&l<s&&(o._preloadMark[l]=1,d.preloadImg(a[l],function(){o._preloadMark[l]=2}))})}}},{key:"getPosition",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=this.config,u=s.pic_num,l=s.row,c=s.col,f=s.width,h=s.height;this.interval=Math.round(this.player.duration/u);var p=Math.ceil(n/this.interval);p=p>u?u:p;var m=p<l*c?0:Math.ceil(p/(l*c))-1,b=p-m*(c*l),g=b>0?Math.ceil(b/c)-1:0,I=b>0?b-g*c-1:0,x=0,O=0;if(o&&a){var re=o/a;re<f/h?(O=a,x=O*(f/h)):(x=o,O=x/(f/h))}else a?o||(O=a||h,x=O*(f/h)):(x=o||f,O=x/(f/h));var J=this.getUrlByIndex(m);return{urlIndex:m,rowIndex:g,colIndex:I,url:J,height:O,width:x,style:{backgroundImage:"url(".concat(J,")"),backgroundSize:"".concat(x*c,"px auto"),backgroundPosition:"-".concat(I*x,"px -").concat(g*O,"px"),width:"".concat(x,"px"),height:"".concat(O,"px")}}}},{key:"update",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",l=this.config,c=l.pic_num,f=l.urls;if(!(c<=0||!f||f.length===0)){var h=this.getPosition(o,a,s);this.preload(h.urlIndex),Object.keys(h.style).map(function(p){n.style[p]=h.style[p]}),Object.keys(u).map(function(p){n.style[p]=u[p]})}}},{key:"changeConfig",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(n)}},{key:"createThumbnail",value:function(n,o){var a=d.createDom("xg-thumbnail","",{},"thumbnail ".concat(o));return n&&n.appendChild(a),a}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(oe);function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}function gP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bP(r.key),r)}}function mP(t,e,i){return e&&pu(t.prototype,e),i&&pu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function bP(t){var e=_P(t,"string");return Gn(e)==="symbol"?e:String(e)}function _P(t,e){if(Gn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Gn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fa(t,e)}function fa(t,e){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fa(t,e)}function PP(t){var e=OP();return function(){var r=Si(t),n;if(e){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SP(this,n)}}function SP(t,e){if(e&&(Gn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kP(t)}function kP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Si(t)}var TP=function(t){wP(i,t);var e=PP(i);function i(){return gP(this,i),e.apply(this,arguments)}return mP(i,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},o=arguments.length>1?arguments[1]:void 0;!o||!this.root||(n.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(n.cached/o*100,"%")),n.played&&(this.find("xg-mini-progress-played").style.width="".concat(n.played/o*100,"%")))}},{key:"render",value:function(){if(!(!this.playerConfig.progress||!this.playerConfig.miniprogress))return`<xg-mini-progress class="xg-mini-progress">
    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>
    </xg-mini-progress>`}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),i}(oe);function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}function EP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zl(r.key),r)}}function CP(t,e,i){return e&&vu(t.prototype,e),i&&vu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function IP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&da(t,e)}function da(t,e){return da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},da(t,e)}function xP(t){var e=$P();return function(){var r=ki(t),n;if(e){var o=ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RP(this,n)}}function RP(t,e){if(e&&(Wn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(t)}function ct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ki(t){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ki(t)}function ir(t,e,i){return e=zl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zl(t){var e=LP(t,"string");return Wn(e)==="symbol"?e:String(e)}function LP(t,e){if(Wn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Wn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qt={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",FRAME_RATE:"framerate",POSTER:"poster"};function AP(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function DP(){try{var t=document.createElement("canvas").getContext;return!!t}catch{return!1}}var Dr=null,MP=function(t){IP(i,t);var e=xP(i);function i(){var r;EP(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ir(ct(r),"onLoadedData",function(s){r.player&&(r._frameCount=r.config.startFrameCount,r.stop(),r.renderOnTimeupdate(s),r.off(Ve,r.renderOnTimeupdate),r.on(Ve,r.renderOnTimeupdate))}),ir(ct(r),"onVisibilitychange",function(s){document.visibilityState==="visible"?r._checkIfCanStart()&&r.start():document.visibilityState==="hidden"&&r.stop()}),ir(ct(r),"renderOnTimeupdate",function(s){if(r._frameCount>0)r.renderOnce(),r._frameCount--;else{r._isLoaded=!0,r.off(Ve,r.renderOnTimeupdate);var u=r.config.startInterval;!r.player.paused&&r._checkIfCanStart()&&r.start(0,u)}}),ir(ct(r),"start",function(s,u){var l=r.player.video,c=AP(),f=r.checkVideoIsSupport(l);!f||!r.canvasCtx||(u||(u=r.interval),r.stop(),l.videoWidth&&l.videoHeight&&(r.videoPI=l.videoHeight>0?parseInt(l.videoWidth/l.videoHeight*100,10):0,(r.config.mode===Qt.REAL_TIME||c-r.preTime>=u)&&(l&&l.videoWidth&&r.update(f,r.videoPI),r.preTime=c)),r.frameId=r._loopType==="timer"?d.setTimeout(ct(r),r.start,u):d.requestAnimationFrame(r.start))}),ir(ct(r),"stop",function(){r.frameId&&(r._loopType==="timer"?d.clearTimeout(ct(r),r.frameId):d.cancelAnimationFrame(r.frameId),r.frameId=null)}),r}return CP(i,[{key:"afterCreate",value:function(){var n=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),i.isSupport||(this.config.disable=!0);var o=this.config,a=o.disable,s=o.mode,u=o.frameRate;a||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/u,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==Qt.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Bi,function(){n.player&&(n.init(),n.renderByPoster(),n.player.paused||n.start())}),s!==Qt.POSTER&&(s!==Qt.FIRST_FRAME&&(this.on(tr,function(){n.stop()}),this.on(Ue,function(){var l=n.config.startInterval;n._checkIfCanStart()&&n.start(0,l)}),this.on(Ut,function(){n.stop()})),this.on(ln,this.onLoadedData),this.on(ji,function(){n._isLoaded=!1,n.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(n){var o=this;Object.keys(n).forEach(function(a){a==="root"&&n[a]!==o.config[a]?o.reRender(n[a]):a==="frameRate"?o.interval=parseInt(1e3/n[a],10):a==="disable"&&n[a]&&o.stop(),o.config[a]=n[a]})}},{key:"init",value:function(n){var o=this.player,a=this.config;this.canvasFilter=i.supportCanvasFilter();try{var s=n||a.root;s||(s=a.isInnerRender&&o.innerContainer||o.root),s.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(a.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=s.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=a.filter,this.canvas.style.webkitFilter=a.filter),this.mask=this.find("xgmask"),a.addMask&&(this.mask.style.background=a.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(u){K.logError("plugin:DynamicBg",u)}}},{key:"reRender",value:function(n){var o=this.config.disable;if(!(!o&&!this.root)){this.stop();var a=this.root?this.root.parentElement:null;if(a!==n&&a.removeChild(this.root),!n){this.root=null;return}this.init(n),this.renderOnce();var s=this.config.startInterval;this._checkIfCanStart()&&this.start(0,s)}}},{key:"checkVideoIsSupport",value:function(n){if(!n)return null;var o=n&&n instanceof window.HTMLVideoElement?n:n.canvas?n.canvas:n.flyVideo?n.flyVideo:null;if(o&&!(X.browser==="safari"&&d.isMSE(o)))return o;var a=o?o.tagName.toLowerCase():"";return a==="canvas"||a==="img"?o:null}},{key:"renderByPoster",value:function(){var n=this.playerConfig.poster;if(n){var o=d.typeOf(n)==="String"?n:d.typeOf(n.poster)==="String"?n.poster:null;this.updateImg(o)}}},{key:"_checkIfCanStart",value:function(){var n=this.config.mode;return this._isLoaded&&!this.player.paused&&n!==Qt.FIRST_FRAME&&n!==Qt.POSTER}},{key:"renderOnce",value:function(){var n=this.player.video;if(!(!n.videoWidth||!n.videoHeight)){this.videoPI=parseInt(n.videoWidth/n.videoHeight*100,10);var o=this.checkVideoIsSupport(n);o&&this.update(o,this.videoPI)}}},{key:"updateImg",value:function(n){var o=this;if(n){var a=this.canvas.getBoundingClientRect(),s=a.width,u=a.height,l=new window.Image;l.onload=function(){if(!(!o.canvas||o.frameId||o.isStart)){o.canvas.height=u,o.canvas.width=s;var c=parseInt(s/u*100,10);o.update(l,c),l=null}},l.src=n}}},{key:"update",value:function(n,o){if(!(!this.canvas||!this.canvasCtx||!o))try{var a=this._pos,s=this.config,u=this.canvas.getBoundingClientRect(),l=u.width,c=u.height;if(l!==a.width||c!==a.height||a.pi!==o){var f=parseInt(l/c*100,10);a.pi=o,a.width!==l&&(a.width=this.canvas.width=l),a.height!==c&&(a.height=this.canvas.height=c);var h=c,p=l;f<o?p=parseInt(c*o/100,10):f>o&&(h=parseInt(l*100/o,10)),a.rwidth=p*s.multiple,a.rheight=h*s.multiple,a.x=(l-a.rwidth)/2,a.y=(c-a.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=s.filter),this.canvasCtx.drawImage(n,a.x,a.y,a.rwidth,a.rheight)}catch(m){K.logError("plugin:DynamicBg",m)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Dr=="boolean"||(Dr=DP()),Dr}},{key:"supportCanvasFilter",value:function(){return!(X.browser==="safari"||X.browser==="firefox")}}]),i}(oe);const NP={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}};function Yn(t){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}function yu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function or(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(i),!0).forEach(function(r){Ot(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yu(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ul(r.key),r)}}function BP(t,e,i){return e&&gu(t.prototype,e),i&&gu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function FP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}function ha(t,e){return ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ha(t,e)}function HP(t){var e=zP();return function(){var r=Oi(t),n;if(e){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VP(this,n)}}function VP(t,e){if(e&&(Yn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cr(t)}function cr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Oi(t)}function Ot(t,e,i){return e=Ul(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ul(t){var e=UP(t,"string");return Yn(e)==="symbol"?e:String(e)}function UP(t,e){if(Yn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Yn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ar="info",ao=nl,KP=function(t){FP(i,t);var e=HP(i);function i(){var r;jP(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Ot(cr(r),"_recordUserActions",function(s){var u=r._getTime(),l=Object.assign({},s,{msg:s.msg||s.action});r._stats[ar].push(or(or({type:"userAction"},u),{},{payload:l}))}),Ot(cr(r),"_onReset",function(){r.reset()}),Ot(cr(r),"_recordInfo",function(s){r.info(s)}),Ot(cr(r),"_downloadStats",function(){var s=r.getStats(),u=new Blob([JSON.stringify(s)],{type:"application/json"}),l=window.URL.createObjectURL(u),c=document.createElement("a");c.style.display="none",c.href=l,c.download="player.txt",c.disabled=!1,c.click()}),r}return BP(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(qr,this._recordUserActions),this.on(ao.STATS_INFO,this._recordInfo),this.on(ao.STATS_DOWNLOAD,this._downloadStats),this.on(ao.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(n){n.profile?this._infoProfile(n):this._info(n)}},{key:"_info",value:function(n){var o=this._getTime();this._stats[ar].push(or(or({},o),{},{payload:n}))}},{key:"_infoProfile",value:function(n){if(n&&n.startMs){var o=Date.now(),a=o-n.startMs,s=or({cat:"function",dur:a,name:n.name||n.msg,ph:"X",pid:0,tid:0,ts:n.startMs,profile:!0},n);this._info(s)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var n;this._stats=(n={},Ot(n,ar,[]),Ot(n,"media",{}),n)}},{key:"getStats",value:function(){for(var n=this.player,o=n.video,a=[],s=0;s<o.buffered.length;s++)a.push({start:o.buffered.start(s),end:o.buffered.end(s)});var u={currentTime:o.currentTime,readyState:o.readyState,buffered:a,paused:o.paused,ended:o.ended};return this._stats.media=u,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var n=this._stats[ar],o=n.map(function(a){var s=a.payload.data,u="";try{s instanceof Error?u=s.msg:s!==void 0&&(u=JSON.stringify(s))}catch(l){console.log("err",l)}return"[".concat(a.timeFormat,"] : ").concat(a.payload.msg," ").concat(u," ")});return o}},{key:"_getProfile",value:function(){var n={traceEvents:[]},o=this._stats[ar];return o.forEach(function(a){a.payload.profile&&n.traceEvents.push(a.payload)}),n}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(Rt);function Xn(t){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(t)}function GP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kl(r.key),r)}}function WP(t,e,i){return e&&mu(t.prototype,e),i&&mu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function YP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pa(t,e)}function XP(t){var e=JP();return function(){var r=Ti(t),n;if(e){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qP(this,n)}}function qP(t,e){if(e&&(Xn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(t)}function va(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ti(t){return Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ti(t)}function ZP(t,e,i){return e=Kl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kl(t){var e=QP(t,"string");return Xn(e)==="symbol"?e:String(e)}function QP(t,e){if(Xn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Xn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gl=function(t){YP(i,t);var e=XP(i);function i(){var r;GP(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ZP(va(r),"onGapJump",function(){var s=va(r),u=s.player,l=s.config;if(u.video.readyState!==HTMLMediaElement.HAVE_NOTHING){if(u.video.seeking){if(!r.seekingEventReceived)return}else r.seekingEventReceived=!1;if(!(u.video.paused&&u.video.currentTime!==0&&r.hasPlayed)){var c=u.video.buffered,f=l.smallGapLimit||.5,h=l.gapDetectionThreshold||.3,p=u.video.currentTime,m=r._getIndex(c,p,h);if(!(m===null||m===0)){console.log("GapJump  bufferRange ",c.start(m),c.end(m));var b=c.start(m)+.1,g=u.video.duration;if(!(b>g)){var I=b-p,x=I<=f;I<i.BROWSER_GAP_TOLERANCE||x&&(l.useGapJump!==!1&&(u.video.currentTime=r.isSafari?b+.1:b),r.player&&r.player.emit("detectGap"),console.log("gapJump gapIndex",m," isGapSamll:",x," currentTime:",u.video.currentTime," jumpSize:",p-u.video.currentTime),b!==.08&&u&&u.emit("log",{type:"oneevent",end_type:"gap",vid:u.config.vid,ext:{video_postion:Math.floor(b*1e3)}}))}}}}}),r}return WP(i,[{key:"afterCreate",value:function(){var n=this,o=this.config.useGapJump;o!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Ir,this.onGapJump),this.on(Ue,function(){n.hasPlayed=!0}),this.on(Da,function(){n.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(n,o,a){if(!n||!n.length||n.length===1&&n.end(0)-n.start(0)<1e-6)return null;for(var s=this._getBuffered(n),u=null,l=0;l<s.length;l++){var c=s[l];if(c.start>o&&(l===0||s[l-1].end-o<=a)){u=l;break}}return u}},{key:"_getBuffered",value:function(n){if(!n)return[];for(var o=[],a=0;a<n.length;a++)o.push({start:n.start(a),end:n.end(a)});return o}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(oe);Gl.BROWSER_GAP_TOLERANCE=.001;function qn(t){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(t)}function eS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wl(r.key),r)}}function tS(t,e,i){return e&&bu(t.prototype,e),i&&bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function nS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}function ya(t,e){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ya(t,e)}function rS(t){var e=oS();return function(){var r=Ei(t),n;if(e){var o=Ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iS(this,n)}}function iS(t,e){if(e&&(qn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(t)}function fr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ei(t){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ei(t)}function _u(t,e,i){return e=Wl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wl(t){var e=aS(t,"string");return qn(e)==="symbol"?e:String(e)}function aS(t,e){if(qn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(qn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sS=function(t){nS(i,t);var e=rS(i);function i(){var r;eS(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),_u(fr(r),"onWaiting",function(){var s=fr(r),u=s.config;r.jumpCnt>u.jumpCntMax||r.timer||u.useWaitingTimeoutJump===!1||(r.timer=setTimeout(r.onJump,u.waitingTime*1e3))}),_u(fr(r),"onJump",function(){var s=fr(r),u=s.player,l=s.config;if(clearTimeout(r.timer),r.timer=null,!(r.jumpCnt>l.jumpCntMax||l.useWaitingTimeoutJump===!1)&&!(u.video.paused&&u.video.currentTime!==0&&r.hasPlayed)){r.jumpSize=l.jumpSize*(r.jumpCnt+1),r.jumpCnt===l.jumpSize&&r.jumpSize<6&&(r.jumpSize=6);var c=u.currentTime+r.jumpSize,f=u.video.duration;c>f||(r.jumpCnt++,u.currentTime=c)}}),r}return tS(i,[{key:"afterCreate",value:function(){var n=this,o=this.config,a=o.useWaitingTimeoutJump,s=o.jumpSize;a!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=s,this.on(Ir,this.onWaiting),this.on([Aa,ot],function(){clearTimeout(n.timer),n.timer=null,n.jumpSize=n.config.jumpSize}),this.on(Ue,function(){n.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(oe);function Jn(t){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(t)}function uS(t){return dS(t)||fS(t)||cS(t)||lS()}function lS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cS(t,e){if(t){if(typeof t=="string")return ga(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ga(t,e)}}function fS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dS(t){if(Array.isArray(t))return ga(t)}function ga(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function hS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yl(r.key),r)}}function pS(t,e,i){return e&&wu(t.prototype,e),i&&wu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function vS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ma(t,e)}function yS(t){var e=mS();return function(){var r=Ci(t),n;if(e){var o=Ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gS(this,n)}}function gS(t,e){if(e&&(Jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ye(t)}function Ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ci(t){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ci(t)}function _t(t,e,i){return e=Yl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yl(t){var e=bS(t,"string");return Jn(e)==="symbol"?e:String(e)}function bS(t,e){if(Jn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Jn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var en="cdn",Mr=["cdn"],_S=function(t){vS(i,t);var e=yS(i);function i(){var r;hS(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),_t(Ye(r),"getSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:en;if(!r.speedListCache||!r.speedListCache[s]||r.speedListCache[s].length<=0)return 0;var u=0;return r.speedListCache[s].map(function(l){u+=l}),Math.floor(u/r.speedListCache[s].length)}),_t(Ye(r),"startTimer",function(){d.isMSE(r.player.video)||(r.cnt=0,r.timer=setTimeout(r.testSpeed,r.config.testTimeStep))}),_t(Ye(r),"initSpeedList",function(){r.speedListCache={},Mr.forEach(function(s){r.speedListCache[s]=[]})}),_t(Ye(r),"_onRealSpeedChange",function(s){s.speed&&r.appendList(s.speed,s.type||en)}),_t(Ye(r),"testSpeed",function(){if(clearTimeout(r.timer),r.timer=null,!(!r.player||!r.config.openSpeed)){var s=r.config,u=s.url,l=s.loadSize,c=s.testCnt,f=s.testTimeStep,h=u+(u.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(r.cnt>=c)){r.cnt++;try{var p=new Date().getTime(),m=null,b=new XMLHttpRequest;r.xhr=b,b.open("GET",h);var g={},I=Math.floor(Math.random()*10);g.Range="bytes="+I+"-"+(l+I),g&&Object.keys(g).forEach(function(x){b.setRequestHeader(x,g[x])}),b.onreadystatechange=function(){if(b.readyState===4){r.xhr=null,m=new Date().getTime();var x=b.getResponseHeader("Content-Length")/1024*8,O=Math.round(x*1e3/(m-p));r.appendList(O),r.timer=setTimeout(r.testSpeed,f)}},b.send()}catch(x){console.error(x)}}}}),_t(Ye(r),"appendList",function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:en;if(!(!r.speedListCache||!r.speedListCache[u])){var l=r.config.saveSpeedMax;r.speedListCache[u].length>=l&&r.speedListCache[u].shift(),r.speedListCache[u].push(s);var c=Ye(r),f=c.player;f&&(u===en?f.realTimeSpeed=s:f[r.getSpeedName("realTime",u)]=s),r.updateSpeed(u)}}),_t(Ye(r),"updateSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:en,u=r.getSpeed(s),l=Ye(r),c=l.player;if(c)if(s===en)(!c.avgSpeed||u!==c.avgSpeed)&&(c.avgSpeed=u,c.emit(vo,{speed:u,realTimeSpeed:c.realTimeSpeed}));else{var f=r.getSpeedName("avg",s);(!c[f]||u!==c[f])&&(c[f]=u,c.emit(vo,{speed:u,realTimeSpeed:c.realTimeSpeed}))}}),r}return pS(i,[{key:"afterCreate",value:function(){var n=this.config,o=n.openSpeed,a=n.addSpeedTypeList,s=n.testCnt;(a==null?void 0:a.length)>0&&Mr.push.apply(Mr,uS(a)),this.initSpeedList(),o&&(this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,s>0&&this.on([ln,Gr],this.startTimer))}},{key:"getSpeedName",value:function(n,o){return n+"Speed"+o.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(n){if(this.config.openSpeed=n,!n&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var n=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([ln,Gr],this.startTimer),Mr.forEach(function(o){n.speedListCache&&n.speedListCache[o]&&(n.speedListCache[o]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(oe);function Zn(t){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(t)}function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SS(r.key),r)}}function PS(t,e,i){return e&&Pu(t.prototype,e),i&&Pu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function SS(t){var e=kS(t,"string");return Zn(e)==="symbol"?e:String(e)}function kS(t,e){if(Zn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Zn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ba(t,e)}function ba(t,e){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ba(t,e)}function TS(t){var e=IS();return function(){var r=Ii(t),n;if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ES(this,n)}}function ES(t,e){if(e&&(Zn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CS(t)}function CS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ii(t){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ii(t)}var xS=function(t){OS(i,t);var e=TS(i);function i(){return wS(this,i),e.apply(this,arguments)}return PS(i,[{key:"afterCreate",value:function(){var n=this,o=this.player,a=this.config,s=o.media||o.video;a.disabled||!s.getVideoPlaybackQuality||(this.timer=null,this._resetData(),this.on(ji,function(){n._resetData(),n._stopTick()}),this.on(Ue,function(){n._startTick()}),this.on(Ut,function(){n._stopTick()}),this.on(gt,function(){n._stopTick()}),this.on(tr,function(){n._stopTick()}))}},{key:"_startTick",value:function(){var n=this;this._stopTick(),this._timer=setTimeout(function(){n._checkDecodeFPS(),n._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(n,o){for(var a=!1,s=[],u=0;u<o.length;u++){var l=o.start(u),c=o.end(u);if(s.push({start:l,end:c}),l<=n&&n<=c-1){a=!0;break}}return{enoughBuffer:a,buffers:s}}},{key:"_checkStuck",value:function(n,o,a,s){var u=this.player.media||this.player.video,l=document.hidden,c=u.paused,f=u.readyState,h=u.currentTime,p=u.buffered;if(!(l||c||f<4)){var m=this._checkBuffer(h,p),b=m.enoughBuffer,g=m.buffers;b&&(n<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:h,buffers:g,curDecodedFrames:n,totalVideoFrames:o,droppedVideoFrames:a,checkInterval:s}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(rl,this._payload),this._resetCheck())):this._resetCheck())}}},{key:"_resetCheck",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_resetData",value:function(){this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[]}},{key:"_checkDecodeFPS",value:function(){var n=this.player.media||this.player.video;if(n){var o=n.getVideoPlaybackQuality(),a=o.totalVideoFrames,s=o.droppedVideoFrames,u=performance.now();if(a&&this._lastCheckPoint){var l=a-this._lastDecodedFrames,c=u-this._lastCheckPoint;this._checkStuck(l,a,s,c)}this._lastDecodedFrames=a,this._lastCheckPoint=u}}},{key:"destroy",value:function(){this._stopTick(),this._resetData()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(oe);function RS(t){return DS(t)||AS(t)||LS(t)||$S()}function $S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LS(t,e){if(t){if(typeof t=="string")return _a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _a(t,e)}}function AS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DS(t){if(Array.isArray(t))return _a(t)}function _a(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function MS(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function NS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}rn.use(NP);var jS=MS(function t(e,i){var r,n,o;NS(this,t);var a=i&&i.isMobileSimulateMode==="mobile",s=i.isLive,u=s?[]:[__,TP,aP,_0],l=[].concat(u,[F_,l0,V0,p1,uw,bw,E1,j1,R0,i1]),c=[am,ym,Cm,o_,jm,Hw,Jw,yP,vb];this.plugins=[Xg,KP,sS,Gl].concat(RS(l),c);var f=a?"mobile":X.device;switch(f){case"pc":(r=this.plugins).push.apply(r,[js,io,su,_S,xS]);break;case"mobile":(n=this.plugins).push.apply(n,[Bb]);break;default:(o=this.plugins).push.apply(o,[js,io,su])}(X.os.isIpad||f==="pc")&&this.plugins.push(MP),X.os.isIpad&&this.plugins.push(io),this.ignores=[],this.i18n=[]});function Qn(t){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(t)}function BS(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function FS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wa(t,e)}function wa(t,e){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wa(t,e)}function VS(t){var e=KS();return function(){var r=xi(t),n;if(e){var o=xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zS(this,n)}}function zS(t,e){if(e&&(Qn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return US(t)}function US(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xi(t){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},xi(t)}function Fe(t,e,i){return e=GS(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GS(t){var e=WS(t,"string");return Qn(e)==="symbol"?e:String(e)}function WS(t,e){if(Qn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Qn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ae=function(t){HS(i,t);var e=VS(i);function i(){return FS(this,i),e.apply(this,arguments)}return BS(i)}(Vi);Fe(Ae,"defaultPreset",jS);Fe(Ae,"Util",d);Fe(Ae,"Sniffer",X);Fe(Ae,"Errors",Kr);Fe(Ae,"Events",Jv);Fe(Ae,"Plugin",oe);Fe(Ae,"BasePlugin",Rt);Fe(Ae,"I18N",rn);Fe(Ae,"STATE_CLASS",C);Fe(Ae,"PAUSE_TYPES",ol);Fe(Ae,"BUFFER_CONTROL_TYPES",bo);Fe(Ae,"InstManager",hl);const YS={id:"mse"},XS=R({__name:"XgPlayer",props:{url:{default:""},poster:{default:""}},setup(t){const e=t;return Se(()=>{new Ae({id:"mse",volume:0,lang:"zh",autoplay:!1,fluid:!0,controls:!0,leavePlayerTime:0,download:!0,keyShortcut:!0,url:e.url,poster:e.poster,start:{isShowPause:!0}})}),(i,r)=>(y(),P("div",YS))}}),qS=j(XS,[["__scopeId","data-v-5ff9d243"]]),JS={class:"LastUpdated"},ZS=R({__name:"update",setup(t){const{page:e}=Ht(),i=F(()=>new Date(e.value.lastUpdated));return(r,n)=>(y(),P("div",JS,[k("p",null,"更新时间: "+te(i.value.toLocaleString()),1)]))}});var Xl,on,We,ql,so,Su,tn,Nr=!1,jr=[];typeof document<"u"&&(ql=function(t){return Nr||document.readyState==="interactive"||document.readyState==="complete"?t.call(document):jr.push(function(){return t.call(this)}),this},Su=function(){for(var t=0,e=jr.length;t<e;t++)jr[t].apply(document);jr=[]},tn=function(){Nr||(Nr=!0,Su.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",tn,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",tn),window==window.top&&(clearInterval(so),so=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",tn,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&tn()}),window==window.top&&(so=setInterval(function(){try{Nr||document.documentElement.doScroll("left")}catch{return}tn()},5))));Xl={fetch:function(t,e){var i="BusuanziCallback_"+Math.floor(1099511627776*Math.random());t=t.replace("=BusuanziCallback","="+i),We=document.createElement("SCRIPT"),We.type="text/javascript",We.defer=!0,We.src=t,document.getElementsByTagName("HEAD")[0].appendChild(We),window[i]=this.evalCall(e)},evalCall:function(t){return function(e){ql(function(){try{t(e),We&&We.parentElement&&We.parentElement.removeChild&&We.parentElement.removeChild(We)}catch(i){console.log(i),on.hides()}})}}};const Jl=()=>{on&&on.hides(),Xl.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(t){on.texts(t),on.shows()})};on={bszs:["site_pv","page_pv","site_uv"],texts:function(t){this.bszs.map(function(e){var i=document.getElementById("busuanzi_value_"+e);i&&(i.innerHTML=t[e])})},hides:function(){this.bszs.map(function(t){var e=document.getElementById("busuanzi_container_"+t);e&&(e.style.display="none")})},shows:function(){this.bszs.map(function(t){var e=document.getElementById("busuanzi_container_"+t);e&&(e.style.display="inline")})}};typeof document<"u"&&Jl();var QS={fetch:Jl},ek=QS;const tk=Mi(ek),nk=/[a-zA-Z0-9_\u0392-\u03C9\u00C0-\u00FF\u0600-\u06FF\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF\u3040-\u309F\uAC00-\uD7AF]+/g;function rk(t){const e=t.match(nk);let i=0;if(!e)return 0;for(let r=0;r<e.length;r+=1)e[r].charCodeAt(0)>=19968?i+=e[r].length:i+=1;return i}const ik={class:"word"},ok=R({__name:"ArticleMetadata",setup(t){const{page:e}=Ht(),i=F(()=>new Date(e.value.lastUpdated)),r=ne(0),n=ne(0),o=F(()=>r.value/275*60),a=F(()=>{const l=n.value;return n.value<=10?l*13+l*(l-1)/2:175+(l-10)*3}),s=F(()=>Math.ceil((o.value+a.value)/60));function u(){var h;document.querySelectorAll(".meta-des").forEach(p=>p.remove());const l=window.document.querySelector("#VPContent"),c=l==null?void 0:l.querySelectorAll(".content-container .main img");n.value=(c==null?void 0:c.length)||0;const f=((h=l==null?void 0:l.querySelector(".content-container .main"))==null?void 0:h.textContent)||"";r.value=rk(f)}return Se(()=>{u()}),(l,c)=>(y(),P("div",ik,[k("p",null,[c[0]||(c[0]=k("svg",{t:"1724572866572",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18131",width:"16",height:"16"},[k("path",{d:"M168.021333 504.192A343.253333 343.253333 0 0 1 268.629333 268.8a342.229333 342.229333 0 0 1 243.285334-100.778667A341.504 341.504 0 0 1 755.029333 268.8c9.856 9.898667 19.2 20.394667 27.733334 31.402667l-60.16 46.976a8.021333 8.021333 0 0 0 2.986666 14.122666l175.701334 43.008a8.021333 8.021333 0 0 0 9.898666-7.68l0.810667-180.906666a7.936 7.936 0 0 0-12.885333-6.314667L842.666667 253.44a418.858667 418.858667 0 0 0-330.922667-161.493333c-229.12 0-415.488 183.594667-419.797333 411.818666a8.021333 8.021333 0 0 0 8.021333 8.192H160a7.978667 7.978667 0 0 0 8.021333-7.808zM923.946667 512H864a7.978667 7.978667 0 0 0-8.021333 7.808 341.632 341.632 0 0 1-26.88 125.994667 342.186667 342.186667 0 0 1-73.685334 109.397333 342.442667 342.442667 0 0 1-243.328 100.821333 342.229333 342.229333 0 0 1-270.976-132.224l60.16-46.976a8.021333 8.021333 0 0 0-2.986666-14.122666l-175.701334-43.008a8.021333 8.021333 0 0 0-9.898666 7.68l-0.682667 181.034666c0 6.698667 7.68 10.496 12.885333 6.314667L181.333333 770.56a419.072 419.072 0 0 0 330.922667 161.408c229.205333 0 415.488-183.722667 419.797333-411.818667a8.021333 8.021333 0 0 0-8.021333-8.192z",fill:"#8a8a8a","p-id":"18132"})],-1)),Le(" 更新: "+te(i.value.toLocaleDateString())+" ",1),c[1]||(c[1]=k("svg",{t:"1724571760788",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6125",width:"16",height:"16"},[k("path",{d:"M204.8 0h477.866667l273.066666 273.066667v614.4c0 75.093333-61.44 136.533333-136.533333 136.533333H204.8c-75.093333 0-136.533333-61.44-136.533333-136.533333V136.533333C68.266667 61.44 129.706667 0 204.8 0z m307.2 607.573333l68.266667 191.146667c13.653333 27.306667 54.613333 27.306667 61.44 0l102.4-273.066667c6.826667-20.48 0-34.133333-20.48-40.96s-34.133333 0-40.96 13.653334l-68.266667 191.146666-68.266667-191.146666c-13.653333-27.306667-54.613333-27.306667-68.266666 0l-68.266667 191.146666-68.266667-191.146666c-6.826667-13.653333-27.306667-27.306667-47.786666-20.48s-27.306667 27.306667-20.48 47.786666l102.4 273.066667c13.653333 27.306667 54.613333 27.306667 61.44 0l75.093333-191.146667z",fill:"#777777","p-id":"6126"}),k("path",{d:"M682.666667 0l273.066666 273.066667h-204.8c-40.96 0-68.266667-27.306667-68.266666-68.266667V0z",fill:"#E0E0E0",opacity:".619","p-id":"6127"})],-1)),Le(" 字数: "+te(r.value)+" 字 ",1),c[2]||(c[2]=k("svg",{t:"1724572797268",class:"icon",viewBox:"0 0 1060 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15031",width:"16",height:"16"},[k("path",{d:"M556.726857 0.256A493.933714 493.933714 0 0 0 121.929143 258.998857L0 135.021714v350.390857h344.649143L196.205714 334.482286a406.820571 406.820571 0 1 1-15.908571 312.649143H68.937143A505.819429 505.819429 0 1 0 556.726857 0.256z m-79.542857 269.531429v274.907428l249.197714 150.966857 42.422857-70.070857-212.114285-129.389714V269.787429h-79.542857z",fill:"#8a8a8a","p-id":"15032"})],-1)),Le(" 时长: "+te(s.value)+" 分钟 ",1)])]))}}),sk={extends:Mu,Layout:mv,enhanceApp({app:t,router:e}){Er&&(e.onAfterRouteChanged=()=>{tk.fetch()}),t.component("HomeUnderline",Bu),t.component("XgPlayer",qS),t.component("DataPanel",ju),t.component("update",ZS),t.component("ArticleMetadata",ok),t.component("Giscus",Nu)}};export{Ah as c,sk as t,q as u};
